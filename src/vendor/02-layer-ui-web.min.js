/*! layer-ui-web - v1.0.6 - 2017-09-28 */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.layerUI=a()}}(function(){var define,module,exports;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a){function b(a,b,c,d){d.forEach(function(d){var e=0===d.propertyName.indexOf("on")?"ng"+d.propertyName.substring(2):"ng"+d.propertyName.substring(0,1).toUpperCase()+d.propertyName.substring(1);c.$observe(d.propertyName,function(a){b.properties?b[d.propertyName]=a:(b.properties||(b.properties={}),b.properties[d.propertyName]=a)}),c.$observe(e,function(c){a.$watch(c,function(a){b.properties||(b.properties={}),b.properties._internalState&&!b.properties._internalState.disableSetters?b[d.propertyName]=a:b.properties[d.propertyName]=a})})})}var c=a.module("layerUIControllers",[]);Object.keys(f.default.components).filter(function(a){return f.default.components[a].properties.filter(function(a){return"_isMainComponent"===a.propertyName}).length}).forEach(function(a){var d=f.default.components[a],e=a.replace(/-(.)/g,function(a,b){return b.toUpperCase()});c.directive(e,function(){return{retrict:"E",link:function(a,c,e){var f=d.properties;b(a,c[0],e,f)}}})})}var e=a("../base"),f=function(a){return a&&a.__esModule?a:{default:a}}(e);b.exports=d,f.default.addAdapter("angular",d)},{"../base":4}],2:[function(a,b,c){"use strict";function d(a){return g?g:(g={},Object.keys(f.default.components).filter(function(a){return f.default.components[a].properties.filter(function(a){return"_isMainComponent"===a.propertyName}).length}).forEach(function(b){var c=f.default.components[b],d=(b.substring(0,1).toUpperCase()+b.substring(1).replace(/-(.)/g,function(a,b){return b.toUpperCase()})).replace(/^Layer/,""),e=g[d]=a.View.extend({el:b,initialize:function(a,b){var c=this;this.client=a,Object.keys(b||{}).forEach(function(a){c[a]=b[a]})}});c.properties.forEach(function(a){Object.defineProperty(e.prototype,a.propertyName,{set:function(b){this.$el[0][a.propertyName]=b},get:function(){return this.$el[0][a.propertyName]}})})}),g)}var e=a("../base"),f=function(a){return a&&a.__esModule?a:{default:a}}(e),g=void 0;b.exports=d,f.default.addAdapter("backbone",d)},{"../base":4}],3:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function g(a,b){return k?k:(k={},Object.keys(j.default.components).filter(function(a){return j.default.components[a].properties.filter(function(a){return"_isMainComponent"===a.propertyName}).length}).forEach(function(c){var g=j.default.components[c];k[(c.substring(0,1).toUpperCase()+c.substring(1).replace(/-(.)/g,function(a,b){return b.toUpperCase()})).replace(/^Layer/,"")]=function(i){function j(){return d(this,j),e(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return f(j,i),h(j,[{key:"componentDidMount",value:function(){var a=this;if(g.properties.filter(function(b){return a.props[b.propertyName]||a.props[b.attributeName]}).forEach(function(b){var c=b.propertyName in a.props?a.props[b.propertyName]:a.props[b.attributeName];b.type===HTMLElement&&c&&(c=a.handleReactDom(b,c)),a.node[b.propertyName]=c}),!this.node._onAfterCreate){var b=document.createEvent("CustomEvent");b.initCustomEvent("HTMLImportsLoaded",!0,!0,null),document.dispatchEvent(b)}this.node._onAfterCreate()}},{key:"shouldComponentUpdate",value:function(a){var b=this;return g.properties.filter(function(a){return b.props[a.propertyName]||b.props[a.attributeName]}).forEach(function(c){var d=c.propertyName in b.props?c.propertyName:c.attributeName,e=a[d];c.type===HTMLElement&&e&&(e=b.handleReactDom(c,e)),e!==b.props[d]&&(b.node[c.propertyName]=e)},this),!1}},{key:"handleReactDom",value:function(c,d){if(this.layerUIGeneratedNodes||(this.layerUIGeneratedNodes={}),Array.isArray(d)){var e=[];this.layerUIGeneratedNodes[c.propertyName]||(this.layerUIGeneratedNodes[c.propertyName]=e),e.length=d.length,d.forEach(function(c,d){if(c.tagName)e[d]=c;else{var f=e[d]||document.createElement("div");b.render("function"==typeof c?a.createElement(c):c,f),e[d]=f}})}else void 0===d.tagName&&(this.layerUIGeneratedNodes[c.propertyName]||(this.layerUIGeneratedNodes[c.propertyName]=document.createElement("div")),b.render(d,this.layerUIGeneratedNodes[c.propertyName]));return this.layerUIGeneratedNodes[c.propertyName]}},{key:"render",value:function(){var b=this;return a.createElement(c,{ref:function(a){b.node=a},id:this.props.id})}}]),j}(a.Component)}),k)}var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("../base"),j=function(a){return a&&a.__esModule?a:{default:a}}(i),k=void 0;b.exports=g,j.default.addAdapter("react",g)},{"../base":4}],4:[function(a,b,c){"use strict";var d=a("layer-websdk"),e=function(a){return a&&a.__esModule?a:{default:a}}(d),f={};f.settings={appId:"",messageGroupTimeSpan:18e5,disableTabAsWhiteSpace:!1,markReadDelay:2500,defaultHandler:{tagName:"layer-message-unknown"},textHandlers:["autolinker","emoji","images","newline","youtube"],maxSizes:{width:512,height:512},verticalMessagePadding:0},f.handlers=[],f.textHandlers={},f.components={},f.utils={},f.createItemSeparator=function(){var a=document.createElement("div");return a.classList.add(f.itemSeparatorParentClassName),a},f.itemSeparatorParentClassName="layer-list-item-separator-parent",f.addListItemSeparator=function(a,b,c,d){var e=d?"customNodeAbove":"customNodeBelow",g=void 0;if(b&&(g=document.createElement("div"),g.classList.add(c)),b&&("string"==typeof b?g.innerHTML=b:g.appendChild(b)),a[e]&&g){var h=a[e].querySelector("."+c);h?h.parentNode.replaceChild(g,h):a[e].appendChild(g)}else if(!a[e]&&g){var i=f.createItemSeparator();i.appendChild(g),a[e]=i}else if(a[e]&&!g){var j=a[e].querySelector("."+c);j&&j.parentNode.removeChild(j)}};var g="You must call layerUI.init() before you can use an adapter";f.adapters={angular:function(){throw new Error(g)},backbone:function(){throw new Error(g)},react:function(){throw new Error(g)}},f.registerMessageHandler=function(a){a.order||(a.order=0);for(var b=!1,c=0;c<f.handlers.length;c++)if(a.order<=f.handlers[c].order){f.handlers.splice(c,0,a),b=!0;break}b||f.handlers.push(a)},f.getHandler=function(a,b){return f.handlers.filter(function(c){return c.handlesMessage(a,b)})[0]||f.settings.defaultHandler},f.registerTextHandler=function(a){f.textHandlers[a.name]?a.handler?Object.keys(a).forEach(function(b){f.textHandlers[a.name][b]=a[b]}):f.textHandlers[a.name].enabled=!0:(a.enabled=!a.handler||!a.requiresEnable,"order"in a||(a.order=1e5),f.textHandlers[a.name]=a)},f.registerTemplate=function(a,b){b||(b=document._currentScript.ownerDocument.querySelector("template"));var c=b.innerHTML.match(/<style>([\s\S]*?)<\/style>/),d=c&&c[1];d&&(b.innerHTML=b.innerHTML.replace(/<style>[\s\S]*?<\/style>/,"")),f.components[a].template=b,f.components[a].style=d,b.setAttribute("layer-template-registered","true")},f.buildAndRegisterTemplate=function(a,b){var c=document.createElement("template");c.innerHTML=b,f.components[a].template=c,c.setAttribute("layer-template-registered","true")},f.buildStyle=function(a,b){f.components[a].style=b},f.camelCase=function(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})};f.hyphenate=function(a){return a.replace(/([a-z])([A-Z])/g,function(a,b,c){return b+"-"+c.toLowerCase()})},f.isInBackground=function(){return!document.hasFocus()||document.hidden},f.addAdapter=function(a,b){f.adapters[a]=b},f.init=function(a){},f.version="1.0.6",3!==e.default.Client.version.split(".").map(function(a){return Number(a)})[0]&&"3.1.1"!==e.default.Client.version&&console.error("This version or Layer UI for Web requires Layer WebSDK version 3.1.1 or up"),b.exports=f},{"layer-websdk":66}],5:[function(require,module,exports){"use strict";function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function setupMethods(a,b){var c=a.methods;Object.keys(b).forEach(function(a){c[a]||(c[a]={});var d=c[a],e=b[a];d.methodsBefore||(d.methodsBefore=[],d.methodsAfter=[],d.methodsMiddle=[],d.conditional=[]),"function"==typeof e?d.methodsMiddle.push(b[a]):e.mode===registerComponent.MODES.BEFORE?d.methodsBefore.push(b[a].value):e.mode===registerComponent.MODES.AFTER?d.methodsAfter.push(b[a].value):e.mode===registerComponent.MODES.OVERWRITE?d.lock=e.value:e.mode===registerComponent.MODES.DEFAULT&&d.methodsMiddle.push(b[a].value),e.conditional&&d.conditional.push(e.conditional)})}function setupMixin(a,b){Object.keys(b.properties||{}).forEach(function(c){a["__"+c]||(a["__"+c]=[]),a["__"+c].push(b.properties[c]),a.properties[c]?(void 0!==b.properties[c].order&&void 0===a.properties[c].order&&(a.properties[c].order=b.properties[c].order),void 0!==b.properties[c].value&&void 0===a.properties[c].value&&(a.properties[c].value=b.properties[c].value),void 0!==b.properties[c].propagateToChildren&&void 0===a.properties[c].propagateToChildren&&(a.properties[c].propagateToChildren=b.properties[c].propagateToChildren)):a.properties[c]=b.properties[c]}),setupMethods(a,b.methods||{})}function finalizeMixinMerge(a){Object.keys(a.properties||{}).forEach(function(b){if(a["__"+b]){var c=_layerWebsdk2.default.Util.sortBy(a["__"+b].filter(function(a){return a.set}),function(a){switch(a.mode){case registerComponent.MODES.BEFORE:return 1;case registerComponent.MODES.AFTER:return 3;default:return 2}});a["__set_"+b]=c.map(function(a){return a.set})}}),Object.keys(a.methods||{}).forEach(function(b){var c=a.methods[b],d=[].concat(_toConsumableArray(c.methodsBefore),_toConsumableArray(c.methodsMiddle),_toConsumableArray(c.methodsAfter));c.lock&&(d=[c.lock]),1!==d.length||c.conditional.length?(a["__method_"+b]=d,a.methods[b]=getMethod(a,c.conditional,a["__method_"+b])):a.methods[b]=d[0]})}function getMethod(a,b,c){return function(){for(var a=this,d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];for(var g=void 0,h=0;h<b.length;h++)if(!b[h].apply(this,e))return;return c.forEach(function(b){var c=b.apply(a,e);void 0!==c&&(g=c)}),g}}function setupEvents(a){a.mixins.filter(function(a){return a.events}).forEach(function(b){a.events=a.events.concat(b.events)}),a.events.forEach(function(b){return setupEvent(a,b)})}function setupEvent(a,b){var c=_base2.default.camelCase(b.replace(/^layer-/,"")),d="on"+c.charAt(0).toUpperCase()+c.substring(1);a.properties[d]||(a.properties[d]={type:Function,set:function(a){this.properties["old-"+b]&&(this.removeEventListener(b,this.properties["old-"+b]),this.properties["old-"+b]=null),a&&(this.addEventListener(b,a),this.properties["old-"+b]=a)}})}function getPropArray(a){return Object.keys(a.properties).map(function(b){return{propertyName:b,attributeName:_base2.default.hyphenate(b),type:a.properties[b].type,order:a.properties[b].order,noGetterFromSetter:a.properties[b].noGetterFromSetter,propagateToChildren:a.properties[b].propagateToChildren}}).sort(function(a,b){return void 0!==a.order&&void 0!==b.order?a.order-b.order:void 0!==a.order?-1:void 0!==b.order?1:0})}function castProperty(type,value){switch(type){case Boolean:return["false","0","null","undefined"].indexOf(value)===-1&&Boolean(value);case Number:return Number(value);case Function:return"string"==typeof value?eval("("+value+")"):value}return value}function setupProperty(a,b,c){var d={},e=b.propertyName,f=a.properties[e];c[e]=f,d.get=function(){return this.properties._internalState.disableGetters?this.properties[e]:f.get?f.get.apply(this):this.properties[e]},d.set=function(c){var d=this;_base2.default.debug&&console.log("Set property "+this.tagName+"."+e+" to ",c),f.type&&(c=castProperty(f.type,c));var g=b.noGetterFromSetter?this.properties[e]:this[e];if(g!==c||this.properties._internalState.inPropInit.indexOf(e)!==-1){var h=this.properties._internalState.inPropInit.indexOf(e),i=h!==-1;if(i&&this.properties._internalState.inPropInit.splice(h,1),this.properties[e]=c,a["__set_"+e]&&!this.properties._internalState.disableSetters&&a["__set_"+e].forEach(function(a){return a.call(d,c,i?null:g)}),f.propagateToChildren&&(Object.keys(this.nodes).forEach(function(a){d.nodes[a][e]=c}),this._isList)){var j=this.childNodes,k=void 0;for(k=0;k<j.length;k++)j[k]._isListItem&&(j[k][e]=c)}}},a[e]=d}function registerComponent(a,b){_base2.default.components[a]||(_base2.default.components[a]={}),_base2.default.components[a].def=b,b.template&&(_base2.default.components[a].template=b.template,delete b.template),b.style&&(_base2.default.components[a].style=b.style,delete b.style),registerAllCalled&&_registerComponent(a)}function unregisterComponent(a){delete _base2.default.components[a]}function registerAll(){registerAllCalled=!0,Object.keys(_base2.default.components).filter(function(a){return"function"!=typeof _base2.default.components[a]}).forEach(function(a){return _registerComponent(a)})}function _registerComponent(a){var b=_base2.default.components[a].def,c=_base2.default.components[a].template;c&&("string"==typeof c?_base2.default.buildAndRegisterTemplate(a,c):"true"!==c.getAttribute("layer-template-registered")&&_base2.default.registerTemplate(a,c)),b.properties||(b.properties={}),b.methods||(b.methods={}),b.events||(b.events=[]),b.mixins||(b.mixins=[]),b.mixins.push(_stateManager2.default),_base2.default.settings.mixins[a]&&(b.mixins=b.mixins.concat(_base2.default.settings.mixins[a])),setupEvents(b);var d=b.methods;b.methods={},setupMethods(b,standardClassMethods),setupMethods(b,d);var e=b.properties;b.properties={},setupMixin(b,{properties:e}),setupMixin(b,{properties:standardClassProperties});for(var f=0;f<b.mixins.length;f++){var g=b.mixins[f].mixins;g&&g.forEach(function(a){b.mixins.indexOf(a)===-1&&b.mixins.push(a)})}b.properties._listeners={value:Object.keys(b.listeners||{})},b.mixins.forEach(function(a){return setupMixin(b,a)}),finalizeMixinMerge(b);var h={},i=getPropArray(b);i.forEach(function(a){return setupProperty(b,a,h)}),delete b.properties,Object.keys(b.methods).forEach(function(a){b[a]={value:b.methods[a],writable:!0}}),delete b.methods,Object.keys(b.listeners||{}).forEach(function(a){b["__listener-"+a]={value:b.listeners[a],writable:!0}}),delete b.listeners,b.createdCallback={value:function(){var b=this;if(_base2.default.components[a]){this._initializeProperties(),this.nodes={};var c=this.getTemplate();if(c){if(!this.getAttribute("layer-has-template")){var d=document.importNode(c.content,!0);this.appendChild(d),this.setAttribute("layer-has-template","true")}this.setupDomNodes()}this.onCreate(),_layerWebsdk2.default.Util.defer(function(){return b._onAfterCreate()})}}},b._setupListeners={value:function(){var a=this;this._listeners.forEach(function(b){document.body.addEventListener(b,a._handleListenerEvent.bind(a,"__listener-"+b))})}},b._handleListenerEvent={value:function(a,b){this.properties.listenTo.indexOf(b.target.id)!==-1&&this[a].apply(this,[b])}},b._onAfterCreate={value:function(){var b=this;this.properties._internalState.onDestroyCalled||this.properties._internalState.onAfterCreateCalled||(this.properties._internalState.disableSetters=!1,this.properties._internalState.disableGetters=!1,this.properties._internalState.inPropInit=_base2.default.components[a].properties.map(function(a){return a.propertyName}),i.forEach(function(a){var c=b.properties[a.propertyName];if(!(c instanceof _layerWebsdk2.default.Root&&c.isDestroyed))if(void 0!==c&&null!==c)b[a.propertyName]=c,a.propagateToChildren&&Object.keys(b.nodes).forEach(function(d){return b.nodes[d][a.propertyName]=c});else if(a.propagateToChildren&&b.parentComponent){var d=b.parentComponent.properties[a.propertyName];d&&(b[a.propertyName]=d)}}),this.properties._internalState.inPropInit=[],this._setupListeners(),this.onAfterCreate())}},b.attachedCallback={value:function(){this.onAttach()}},b._initializeProperties={value:function(){var a=this;this.properties&&this.properties._internalState||(this.properties||(this.properties={}),this.properties._internalState={onCreateCalled:!1,onAfterCreateCalled:!1,onRenderCalled:!1,onAttachCalled:!1,onDetachCalled:!1,disableSetters:!0,disableGetters:!0,inPropInit:[]},i.forEach(function(b){return a._copyInAttribute(b)}))}},b._copyInAttribute={value:function(a){var b=null,c=this.getAttribute(a.attributeName);null===c&&void 0!==this[a.attributeName]&&(c=this[a.attributeName]),null!==c?b=c:void 0!==this[a.propertyName]?(b=this[a.propertyName],delete this[a.propertyName]):"value"in h[a.propertyName]&&(b=h[a.propertyName].value,Array.isArray(b)&&(b=b.concat([]))),this.properties[a.propertyName]=a.type?castProperty(a.type,b):b}},b.detachedCallback={value:function(){var a=this;this.onDetach(),setTimeout(function(){document.body.contains(a)||document.head.contains(a)||!a.trigger("layer-widget-destroyed")||a.onDestroy()},1e4)}},b.attributeChangedCallback={value:function(a,b,c){_base2.default.debug&&console.log("Attribute Change on "+this.tagName+"."+a+" from "+b+" to ",c),this[_base2.default.camelCase(a)]=c}},_base2.default.components[a].classDef=document.registerElement(a,{prototype:Object.create(HTMLElement.prototype,b)}),_base2.default.components[a].properties=i}function registerMessageComponent(a,b){var c=b.methods.handlesMessage,d=b.properties.label.value,e=b.properties.order;registerComponent(a,b),_base2.default.registerMessageHandler({handlesMessage:c,tagName:a,label:d,order:e})}var _layerWebsdk=require("layer-websdk"),_layerWebsdk2=_interopRequireDefault(_layerWebsdk),_base=require("../base"),_base2=_interopRequireDefault(_base),_stateManager=require("../mixins/state-manager"),_stateManager2=_interopRequireDefault(_stateManager),registerAllCalled=!1;registerComponent.MODES={BEFORE:"BEFORE",AFTER:"AFTER",OVERWRITE:"OVERWRITE",DEFAULT:"DEFAULT"};var standardClassProperties={_layerEventSubscriptions:{value:[]},parentComponent:{},mainComponent:{get:function(){return this.properties._isMainComponent?this:(this.properties.mainComponent||(this.properties.mainComponent=this.properties.parentComponent.mainComponent),this.properties.mainComponent)}},client:{propagateToChildren:!0},listenTo:{value:[],set:function(a){"string"==typeof a&&(this.properties.listenTo=a.split(/\s*,\s*/))}}},standardClassMethods={setupDomNodes:function(){var a=this;this.nodes={},this._findNodesWithin(this,function(b,c){var d=b.getAttribute&&b.getAttribute("layer-id");d&&(a.nodes[d]=b),c&&(b.properties||(b.properties={}),b.properties.parentComponent=a)})},_findNodesWithin:function(a,b){for(var c=a.childNodes,d=0;d<c.length;d++){var e=c[d],f=Boolean(e instanceof HTMLElement&&_base2.default.components[e.tagName.toLowerCase()]);b(e,f),f||this._findNodesWithin(e,b)}},getTemplate:function(){var a=this.tagName.toLocaleLowerCase();if(_base2.default.components[a].style){var b=document.createElement("style");b.id="style-"+this.tagName.toLowerCase(),b.innerHTML=_base2.default.components[a].style,document.getElementsByTagName("head")[0].appendChild(b),_base2.default.components[a].style=""}return _base2.default.components[a].template},trigger:function(a,b){var c=new CustomEvent(a,{detail:b,bubbles:!0,cancelable:!0});return this.dispatchEvent(c),!c.defaultPrevented},querySelectorAllArray:function(a){return Array.prototype.slice.call(this.querySelectorAll(a))},onCreate:{mode:registerComponent.MODES.AFTER,value:function(){this.properties._internalState.onCreateCalled=!0}},onAfterCreate:{mode:registerComponent.MODES.AFTER,value:function(){this.properties._internalState.onAfterCreateCalled=!0,this.onRender(),this.properties._internalState.onRenderCalled=!0,this.properties._callOnAttachAfterCreate&&(this.properties._callOnAttachAfterCreate=!1,this.onAttach())}},onRender:{conditional:function(){return this.properties._internalState.onAfterCreateCalled}},onRerender:{conditional:function(){return this.properties._internalState.onAfterCreateCalled}},onAttach:{conditional:function(){return!!this.properties._internalState.onAfterCreateCalled||(this.properties._callOnAttachAfterCreate=!0,!1)},mode:registerComponent.MODES.AFTER,value:function(){this.properties._internalState.onAttachCalled=!0}},onDetach:{mode:registerComponent.MODES.AFTER,value:function(){this.properties.mainComponent&&!this.properties.mainComponent.contains(this)&&(this.properties.mainComponent=null),this.properties.parentComponent&&!this.properties.parentComponent.contains(this)&&(this.properties.parentComponent=null),this.properties._internalState.onDetachCalled=!0}},onDestroy:function(){var a=this;this.properties._internalState.onDestroyCalled=!0,this.properties._internalState.disableSetters=!0,this.properties._layerEventSubscriptions.forEach(function(b){return b.off(null,null,a)}),this.properties._layerEventSubscriptions=[],this.classList.add("layer-node-destroyed")}};module.exports={registerComponent:registerComponent,registerMessageComponent:registerMessageComponent,registerAll:registerAll,unregisterComponent:unregisterComponent}},{"../base":4,"../mixins/state-manager":54,"layer-websdk":66}],6:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("../../../components/component"),f=a("../../../mixins/list-item"),g=d(f),h=a("../../../mixins/list-item-selection"),i=d(h);a("../../subcomponents/layer-delete/layer-delete"),(0,e.registerComponent)("layer-channel-item",{mixins:[g.default,i.default],properties:{item:{set:function(a,b){a&&this.onRerender()}},deleteConversationEnabled:{type:Boolean,set:function(a){this.nodes.delete&&(this.nodes.delete.enabled=a)}}},methods:{onRender:function(){this.onRerender()},onRerender:function(){this.item&&(this.nodes.title.innerHTML=this.item.name)},_runFilter:function(a){var b=this.properties.item,c=void 0;a?"function"==typeof a?c=a(b):a instanceof RegExp?c=a.test(b.name):(a=a.toLowerCase(),c=b.name.toLowerCase().indexOf(a)!==-1):c=!0,this.classList[c?"remove":"add"]("layer-item-filtered")}}}),function(){var b=a("../../../base");b.buildAndRegisterTemplate("layer-channel-item","<div class='layer-list-item' layer-id='innerNode'><div class='layer-channel-item-content'><div layer-id='title' class='layer-channel-title'></div></div><layer-delete layer-id='delete'></layer-delete></div>",""),b.buildStyle("layer-channel-item","layer-channel-item {\ndisplay: flex;\nflex-direction: column;\n}\nlayer-channel-item .layer-list-item {\ndisplay: flex;\nflex-direction: row;\nalign-items: center;\n}\nlayer-channel-item  .layer-list-item .layer-channel-item-content {\nflex-grow: 1;\nwidth: 100px; \n}\nlayer-channel-item.layer-item-filtered .layer-list-item {\ndisplay: none;\n}","")}()},{"../../../base":4,"../../../components/component":5,"../../../mixins/list-item":47,"../../../mixins/list-item-selection":46,"../../subcomponents/layer-delete/layer-delete":25}],7:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("../../../components/component"),f=a("../../../mixins/list-item"),g=d(f),h=a("../../../mixins/list-item-selection"),i=d(h);a("../../subcomponents/layer-conversation-last-message/layer-conversation-last-message"),a("../../subcomponents/layer-delete/layer-delete"),a("../../subcomponents/layer-avatar/layer-avatar"),a("../../subcomponents/layer-conversation-title/layer-conversation-title"),(0,e.registerComponent)("layer-conversation-item",{mixins:[g.default,i.default],properties:{item:{set:function(a,b){this.nodes.lastMessage&&(this.nodes.lastMessage.canFullyRenderLastMessage=this.canFullyRenderLastMessage)}},deleteConversationEnabled:{type:Boolean,set:function(a){this.nodes.delete&&(this.nodes.delete.enabled=a)}},canFullyRenderLastMessage:{}},methods:{onRender:function(){this.onRerender()},onRerender:function(){var a=this.item.participants.filter(function(a){return!a.sessionOwner}),b=!this.item.lastMessage||this.item.lastMessage.isRead;this.nodes.avatar.users=a,this.classList[b?"remove":"add"]("layer-conversation-unread-messages")},_runFilter:function(a){var b=this.properties.item,c=void 0;if(a)if("function"==typeof a)c=a(b);else{var d=[];b.metadata.conversationName&&d.push(b.metadata.conversationName),b.participants.forEach(function(a){d.push(a.displayName),d.push(a.firstName),d.push(a.lastName),d.push(a.emailAddress)}),a instanceof RegExp?c=d.filter(function(b){return a.test(b)}).length:(a=a.toLowerCase(),c=d.filter(function(b){return!!b&&b.toLowerCase().indexOf(a)!==-1}).length)}else c=!0;this.classList[c?"remove":"add"]("layer-item-filtered")}}}),function(){var b=a("../../../base");b.buildAndRegisterTemplate("layer-conversation-item","<div class='layer-list-item' layer-id='innerNode'><layer-avatar layer-id='avatar'></layer-avatar><div class='layer-conversation-item-content'><layer-conversation-title layer-id='title'></layer-conversation-title><layer-conversation-last-message layer-id='lastMessage'></layer-conversation-last-message></div><layer-delete layer-id='delete'></layer-delete></div>",""),b.buildStyle("layer-conversation-item","layer-conversation-item {\ndisplay: flex;\nflex-direction: column;\n}\nlayer-conversation-item .layer-list-item {\ndisplay: flex;\nflex-direction: row;\nalign-items: center;\n}\nlayer-conversation-item .layer-list-item layer-avatar {\nmargin-right: 15px;\n}\nlayer-conversation-item  .layer-list-item .layer-conversation-item-content {\nflex-grow: 1;\nwidth: 100px; \n}\nlayer-conversation-item.layer-item-filtered .layer-list-item {\ndisplay: none;\n}","")}()},{"../../../base":4,"../../../components/component":5,"../../../mixins/list-item":47,"../../../mixins/list-item-selection":46,"../../subcomponents/layer-avatar/layer-avatar":19,"../../subcomponents/layer-conversation-last-message/layer-conversation-last-message":22,"../../subcomponents/layer-conversation-title/layer-conversation-title":23,"../../subcomponents/layer-delete/layer-delete":25}],8:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("layer-websdk"),f=d(e),g=a("../../../components/component"),h=a("../../../mixins/list"),i=d(h),j=a("../../../mixins/list-load-indicator"),k=d(j),l=a("../../../mixins/list-selection"),m=d(l),n=a("../../../mixins/main-component"),o=d(n);a("../layer-conversation-item/layer-conversation-item"),a("../layer-channel-item/layer-channel-item"),(0,g.registerComponent)("layer-conversations-list",{mixins:[i.default,m.default,o.default,k.default],events:["layer-conversation-selected","layer-conversation-deleted"],properties:{selectedConversationId:{set:function(a){this.selectedId=a},get:function(){return this.selectedId}},deleteConversationEnabled:{type:Function},_queryModel:{value:f.default.Query.Conversation},sortBy:{order:-1,value:"lastMessage",set:function(a){switch(a){case"lastMessage":this.properties.sortBy=[{"lastMessage.sentAt":"desc"}];break;default:this.properties.sortBy=[{createdAt:"desc"}]}}},_selectedItemEventName:{value:"layer-conversation-selected"},canFullyRenderLastMessage:{type:Function,value:function(a){return"text/plain"===a.parts[0].mimeType}}},methods:{_generateItem:function(a){var b=a instanceof f.default.Channel,c=document.createElement("layer-"+(b?"channel":"conversation")+"-item");return c.id=this._getItemId(a.id),c.deleteConversationEnabled="function"!=typeof this.deleteConversationEnabled||this.deleteConversationEnabled(a),c.canFullyRenderLastMessage=this.canFullyRenderLastMessage,c.item=a,this.filter&&c._runFilter(this.filter),c}},listeners:{"layer-notification-click":function(a){var b=a.detail.item,c=b.getConversation();c&&(this.selectedId=c.id)}}}),function(){var b=a("../../../base");b.buildAndRegisterTemplate("layer-conversations-list","<div class='layer-load-indicator' layer-id='loadIndicator'>Loading conversations...</div>",""),b.buildStyle("layer-conversations-list","layer-conversations-list {\noverflow-y: auto;\ndisplay: block;\n}\nlayer-conversations-list .layer-load-indicator {\ntext-align: center;\nborder-top: solid 1px #ccc;\nfont-style: italic;\ndisplay: none;\n}\nlayer-conversations-list.layer-loading-data .layer-load-indicator {\ndisplay: block;\n}","")}()},{"../../../base":4,"../../../components/component":5,"../../../mixins/list":50,"../../../mixins/list-load-indicator":48,"../../../mixins/list-selection":49,"../../../mixins/main-component":51,"../layer-channel-item/layer-channel-item":6,"../layer-conversation-item/layer-conversation-item":7,"layer-websdk":66}],9:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("layer-websdk"),f=d(e),g=a("../../../components/component"),h=a("../../../mixins/list"),i=d(h),j=a("../../../mixins/main-component"),k=d(j),l=a("../../../mixins/has-query"),m=d(l),n=a("../../../mixins/list-load-indicator"),o=d(n);a("../layer-identity-item/layer-identity-item"),(0,g.registerComponent)("layer-identities-list",{mixins:[i.default,k.default,m.default,o.default],events:["layer-identity-selected","layer-identity-deselected"],properties:{selectedIdentities:{set:function(a){var b=this;a||(a=[]),Array.isArray(a)&&(a||(a=[]),this.properties.selectedIdentities=a.map(function(a){return a instanceof f.default.Identity?a:b.properties.client.getIdentity(a.id)}),this._renderSelection())}},_queryModel:{value:f.default.Query.Identity}},methods:{onCreate:function(){this.id||(this.id=f.default.Util.generateUUID()),this.properties.selectedIdentities=[],this.addEventListener("layer-identity-item-selected",this._handleIdentitySelect.bind(this)),this.addEventListener("layer-identity-item-deselected",this._handleIdentityDeselect.bind(this))},_handleIdentitySelect:function(a){a.stopPropagation();var b=a.detail.item;this.selectedIdentities.indexOf(b)===-1&&(this.trigger("layer-identity-selected",{item:b})?this.selectedIdentities.push(b):a.preventDefault())},_handleIdentityDeselect:function(a){a.stopPropagation();var b=a.detail.item,c=this.selectedIdentities.indexOf(b);c!==-1&&(this.trigger("layer-identity-deselected",{item:b})?this.selectedIdentities.splice(c,1):a.preventDefault())},_generateItem:function(a){var b=document.createElement("layer-identity-item");return b.item=a,b.id=this._getItemId(a.id),b.selected=this.selectedIdentities.indexOf(a)!==-1,b._runFilter(this.filter),b},onRerender:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(a.type){case"remove":var b=this.selectedIdentities.indexOf(a.target);b!==-1&&this.selectedIdentities.splice(b,1);break;case"reset":this.selectedIdentities=[]}},_renderSelection:function(){var a=this,b=this.querySelectorAllArray(".layer-identity-item-selected").map(function(a){return a.parentNode}),c=this.selectedIdentities.map(function(b){return"#"+a._getItemId(b.id)}),d=this.selectedIdentities.length?this.querySelectorAllArray(c.join(", ")):[];b.forEach(function(a){d.indexOf(a)===-1&&(a.selected=!1)}),d.forEach(function(a){b.indexOf(a)===-1&&(a.selected=!0)})}}}),function(){var b=a("../../../base")
;b.buildAndRegisterTemplate("layer-identities-list","<div class='layer-load-indicator' layer-id='loadIndicator'>Loading users...</div>",""),b.buildStyle("layer-identities-list","layer-identities-list {\noverflow-y: auto;\ndisplay: block;\n}\nlayer-identities-list .layer-load-indicator {\ntext-align: center;\nborder-top: solid 1px #ccc;\nfont-style: italic;\ndisplay: none;\n}\nlayer-identities-list.layer-loading-data .layer-load-indicator {\ndisplay: block;\n}","")}()},{"../../../base":4,"../../../components/component":5,"../../../mixins/has-query":45,"../../../mixins/list":50,"../../../mixins/list-load-indicator":48,"../../../mixins/main-component":51,"../layer-identity-item/layer-identity-item":10,"layer-websdk":66}],10:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("layer-websdk"),f=d(e),g=a("../../../components/component"),h=a("../../../mixins/list-item"),i=d(h);a("../../subcomponents/layer-avatar/layer-avatar"),(0,g.registerComponent)("layer-identity-item",{mixins:[i.default],properties:{selected:{type:Boolean,noGetterFromSetter:!0,set:function(a){this.nodes.checkbox&&(this.nodes.checkbox.checked=a),this.innerNode.classList[a?"add":"remove"]("layer-identity-item-selected")},get:function(){return this.nodes.checkbox?this.nodes.checkbox.checked:Boolean(this.properties.selected)}}},methods:{onCreate:function(){this.id||(this.id=f.default.Util.generateUUID()),this.nodes.checkbox.addEventListener("click",this.onClick.bind(this)),this.nodes.checkbox.id=this.id+"-checkbox",this.nodes.title.setAttribute("for",this.nodes.checkbox.id)},onClick:function(a){a.stopPropagation();var b=this.selected,c=this.item;this.trigger("layer-identity-item-"+(b?"selected":"deselected"),{item:c})?this.selected=!this.properties.selected:a.preventDefault(),this.onSelection(a)},onSelection:function(a){},onRender:function(){this.onRerender()},onRerender:function(){this.nodes.avatar.users=[this.item],this.nodes.title.innerHTML=this.item.displayName,this.toggleClass("layer-identity-item-empty",!this.item.displayName)},_runFilter:function(a){var b=this.properties.item,c=!1;a?a instanceof RegExp?c=a.test(b.displayName)||a.test(b.firstName)||a.test(b.lastName)||a.test(b.emailAddress):"function"==typeof a?c=a(b):(a=a.toLowerCase(),c=b.displayName.toLowerCase().indexOf(a)!==-1||b.firstName.toLowerCase().indexOf(a)!==-1||b.lastName.toLowerCase().indexOf(a)!==-1||b.emailAddress.toLowerCase().indexOf(a)!==-1):c=!0,this.classList[c?"remove":"add"]("layer-item-filtered")}}}),function(){var b=a("../../../base");b.buildAndRegisterTemplate("layer-identity-item","<div class='layer-list-item'><layer-avatar layer-id='avatar'></layer-avatar><label class='layer-identity-name' layer-id='title'></label><input type='checkbox' layer-id='checkbox'></input></div>",""),b.buildStyle("layer-identity-item","layer-identity-item {\ndisplay: flex;\nflex-direction: column;\n}\nlayer-identity-item .layer-list-item {\ndisplay: flex;\nflex-direction: row;\nalign-items: center;\n}\nlayer-identity-item .layer-list-item layer-avatar {\nmargin-right: 20px;\n}\nlayer-identity-item .layer-list-item label {\nflex-grow: 1;\nwidth: 100px; \n}\nlayer-identity-item.layer-item-filtered .layer-list-item {\ndisplay: none;\n}\nlayer-identity-item.layer-identity-item-empty {\ndisplay: none;\n}","")}()},{"../../../base":4,"../../../components/component":5,"../../../mixins/list-item":47,"../../subcomponents/layer-avatar/layer-avatar":19,"layer-websdk":66}],11:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("layer-websdk"),f=d(e),g=a("../../components/component"),h=a("../../mixins/main-component"),i=d(h),j=a("../../mixins/has-query"),k=d(j),l=a("../../mixins/focus-on-keydown"),m=d(l);a("../messages-list-panel/layer-messages-list/layer-messages-list"),a("../subcomponents/layer-composer/layer-composer"),a("../subcomponents/layer-typing-indicator/layer-typing-indicator"),(0,g.registerComponent)("layer-conversation-panel",{mixins:[i.default,k.default,m.default],events:["layer-message-deleted","layer-send-message","layer-typing-indicator-change","layer-composer-change-value"],properties:{query:{set:function(a){this.nodes.list.query=a}},conversationId:{set:function(a){var b=this;a&&0!==a.indexOf("layer:///conversations")&&0!==a.indexOf("layer:///channels")&&(this.properties.conversationId=""),this.client&&(this.conversationId?this.client.isReady&&!this.client.isDestroyed?this.conversation=this.client.getObject(this.conversationId,!0):this.client.once("ready",function(){b.conversationId&&(b.conversation=b.client.getObject(b.conversationId,!0))}):this.conversation=null)}},initialConversationId:{set:function(a){this.properties._internalState.onAfterCreateCalled||(this.conversationId=a)}},conversation:{set:function(a){a&&!(a instanceof f.default.Conversation||a instanceof f.default.Channel)&&(this.properties.conversation=null),this.client&&this._setupConversation()}},hasGeneratedQuery:{set:function(a){a&&this.conversationId&&this.client&&this._setupConversation()},type:Boolean},autoFocusConversation:{value:"desktop-only"},client:{set:function(a){a&&(!this.conversation&&this.conversationId&&(this.conversation=a.getObject(this.conversationId,!0)),this.conversation&&this._setupConversation())}},onRenderListItem:{type:Function,set:function(a){this.nodes.list.onRenderListItem=a},get:function(){return this.nodes.list.onRenderListItem}},dateRenderer:{type:Function,set:function(a){this.nodes.list.dateRenderer=a}},messageStatusRenderer:{type:Function,set:function(a){this.nodes.list.messageStatusRenderer=a}},emptyMessageListNode:{type:HTMLElement,set:function(a){this.nodes.list.emptyNode=a},get:function(a){return this.nodes.list.emptyNode}},endOfMessagesNode:{type:HTMLElement,set:function(a){this.nodes.list.endOfResultsNode=a},get:function(a){return this.nodes.list.endOfResultsNode}},getMessageDeleteEnabled:{type:Function,value:function(a){return a.sender.sessionOwner},set:function(a){this.nodes.list.getMessageDeleteEnabled=a}},composeButtons:{type:HTMLElement,set:function(a){this.nodes.composer.buttons=a}},composeButtonsLeft:{type:HTMLElement,set:function(a){this.nodes.composer.buttonsLeft=a}},composeText:{get:function(){return this.nodes.composer.value},set:function(a){this.nodes.composer.value=a}},composePlaceholder:{get:function(){return this.nodes.composer.placeholder},set:function(a){this.nodes.composer.placeholder=a}},disable:{type:Boolean,set:function(a){this.nodes.list.disable=a}},_queryModel:{value:f.default.Query.Message}},methods:{onCreate:function(){},onKeyDown:function(){this.focusText()},focusText:function(){this.nodes.composer.focus()},send:function(a){var b,c=a?[a]:[];(b=this.nodes.composer).send.apply(b,c)},_setupConversation:function(){var a=this.properties.conversation;if(this.client&&!this.client.isReady)return void this.client.once("ready",this._setupConversation.bind(this));this.client&&(this.nodes.composer.conversation=a,this.nodes.typingIndicators.conversation=a,this.hasGeneratedQuery&&(a instanceof f.default.Conversation?this.query.update({predicate:'conversation.id = "'+a.id+'"'}):a instanceof f.default.Channel?this.query.update({predicate:'channel.id = "'+a.id+'"'}):this.query.update({predicate:""})),this.shouldAutoFocusConversation(navigator)&&this.focusText())},shouldAutoFocusConversation:function(a){var b=a.userAgent,c=void 0===b?"":b,d=a.maxTouchPoints;switch(this.autoFocusConversation){case"always":return!0;case"desktop-only":return!(void 0!==d&&d>0)&&!c.match(/(mobile|android|phone)/i);case"never":return!1}}},listeners:{"layer-conversation-selected":function(a){this.conversation=a.detail.item},"layer-notification-click":function(a){var b=a.detail.item,c=b.getConversation();c!==this.conversation&&(this.conversation=c)},"layer-message-notification":function(a){a.detail.isBackground||a.detail.item.conversationId!==this.conversation.id||"toast"!==a.target.notifyInForeground||a.preventDefault()}}}),function(){var b=a("../../base");b.buildAndRegisterTemplate("layer-conversation-panel","<layer-messages-list layer-id='list'></layer-messages-list><layer-typing-indicator layer-id='typingIndicators'></layer-typing-indicator><layer-composer layer-id='composer'></layer-composer>",""),b.buildStyle("layer-conversation-panel","layer-conversation-panel {\ndisplay: flex;\nflex-direction: column;\noutline: none; \n}\nlayer-messages-list {\nflex-grow: 1;\nheight: 100px;\n}\nlayer-composer {\nborder-top: 1px solid #dedede;\nmin-height: 30px;\n}","")}()},{"../../base":4,"../../components/component":5,"../../mixins/focus-on-keydown":44,"../../mixins/has-query":45,"../../mixins/main-component":51,"../messages-list-panel/layer-messages-list/layer-messages-list":18,"../subcomponents/layer-composer/layer-composer":21,"../subcomponents/layer-typing-indicator/layer-typing-indicator":30,"layer-websdk":66}],12:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("notifyjs"),f=d(e),g=a("../../base"),h=a("../../components/component"),i=a("../../mixins/main-component"),j=d(i);a("../subcomponents/layer-avatar/layer-avatar");var k=f.default;"default"in k&&(k=k.default),(0,h.registerComponent)("layer-notifier",{mixins:[j.default],events:["layer-message-notification","layer-notification-click"],properties:{client:{set:function(a){a.on("messages:notify",this._notify.bind(this))}},notifyInBackground:{value:"desktop",set:function(a){"desktop"===a&&window.Notification&&k.requestPermission(this._onPermissionGranted.bind(this))}},notifyInForeground:{value:"none",set:function(a){"desktop"===a&&window.Notification&&k.requestPermission(this._onPermissionGranted.bind(this))}},notifyInTitlebar:{type:Boolean,value:!0},notifyCharacterForTitlebar:{value:"⬤"},flagTitlebar:{type:Boolean,value:!1,set:function(a){a?0!==document.title.indexOf(this.notifyCharacterForTitlebar)&&(document.title=this.notifyCharacterForTitlebar+" "+document.title):0===document.title.indexOf(this.notifyCharacterForTitlebar)&&(document.title=document.title.substring(this.notifyCharacterForTitlebar.length+1))}},flagTitlebarForMessage:{set:function(a,b){b&&b.off(null,this._handleTitlebarMessageChange,this),!a||a.isRead?this.flagTitlebar=!1:(this.flagTitlebar=!0,a.on("messages:change destroy",this._handleTitlebarMessageChange,this))}},userEnabledDesktopNotifications:{value:!1},iconUrl:{value:""},timeoutSeconds:{type:Number,value:30},_toastTimeout:{value:0}},methods:{onCreate:function(){this.addEventListener("click",this.onClickToast.bind(this)),this.addEventListener("transitionend",this._afterTransition.bind(this),!0)},_afterTransition:function(){this.classList.remove("layer-notifier-toast-fade")},_onPermissionGranted:function(){this.properties.userEnabledDesktopNotifications=!0},_notify:function(a){var b=(0,g.isInBackground)(),c=b?this.notifyInBackground:this.notifyInForeground,d=a.message;this.notifyInTitlebar&&b&&(this.flagTitlebarForMessage=d),c&&"none"!==c&&this.trigger("layer-message-notification",{item:d,type:c,isBackground:b})&&("desktop"===c&&this.properties.userEnabledDesktopNotifications?this.desktopNotify(a.message):"toast"===c&&this.toastNotify(a.message))},_handleTitlebarMessageChange:function(a){var b=this.flagTitlebarForMessage;b&&(b.isRead||"destroy"===a.eventName)&&(this.flagTitlebar=!1,this.flagTitlebarForMessage=null)},desktopNotify:function(a){var b=this;try{var c=a.getText();this.properties.desktopNotify&&this.closeDesktopNotify(),this.properties.desktopMessage=a,this.properties.desktopNotify=new k("Message from "+a.sender.displayName,{icon:this.iconUrl||a.sender.avatarUrl,timeout:this.timeoutSeconds,body:c||"New file received",tag:a.conversationId||"announcement",closeOnClick:!0,notifyClick:function(){window.focus(),b.trigger("layer-notification-click",{item:a}),b.onDesktopClick(a)}}),this.properties.desktopNotify.show(),a.on("messages:change destroy",function(c){(a.isRead||"destroy"===c.eventName)&&b.closeDesktopNotify()},this)}catch(a){}},closeDesktopNotify:function(){this.properties.desktopNotify&&(this.properties.desktopNotify.close(),this.properties.desktopMessage.off(null,null,this),this.properties.desktopMessage=this.properties.desktopNotify=null)},onDesktopClick:function(a){},toastNotify:function(a){var b=this,c=this.querySelector(".layer-message-item-placeholder"),d=(0,g.getHandler)(a,this);if(d){c&&this.nodes.container.removeChild(c),this.nodes.avatar.users=[a.sender],this.nodes.title.innerHTML=a.sender.displayName,this.properties._toastTimeout&&clearTimeout(this.properties._toastTimeout),this.classList.add(d.tagName);var e=document.createElement(d.tagName);e.parentComponent=this,e.message=a,e.classList.add("layer-message-item-placeholder"),this.nodes.container.appendChild(e),this.classList.add("layer-notifier-toast-fade"),this.classList.add("layer-notifier-toast"),this.properties._toastTimeout=setTimeout(this.closeToast.bind(this),1e3*this.timeoutSeconds),this.properties.toastMessage=a,a.on("messages:change destroy",function(c){(a.isRead||"destroy"===c.eventName)&&b.closeToast()},this)}},closeToast:function(){this.classList.add("layer-notifier-toast-fade"),this.classList.remove("layer-notifier-toast"),clearTimeout(this.properties._toastTimeout),this.properties._toastTimeout=0,this.properties.toastMessage&&this.properties.toastMessage.off(null,null,this),this.properties.toastMessage=null},onClickToast:function(a){this.properties.toastMessage&&(a.preventDefault(),a.stopPropagation(),this.trigger("layer-notification-click",{item:this.properties.toastMessage}),this.closeToast())}}}),function(){var b=a("../../base");b.buildAndRegisterTemplate("layer-notifier","<layer-avatar layer-id='avatar'></layer-avatar><div class='layer-message-item-main' layer-id='container'><div class='layer-notifier-title' layer-id='title'></div><div class='layer-message-item-placeholder'></div></div>",""),b.buildStyle("layer-notifier","layer-notifier {\nposition: fixed;\nz-index: 1000;\nright: 10px;\ntop: -10000px;\nmax-width: 40%;\nmax-height: 250px;\ndisplay: flex;\nopacity: 0;\ntransition: opacity 500ms;\n}\nlayer-notifier.layer-notifier-toast-fade {\ntop: 10px;\n}\nlayer-notifier.layer-notifier-toast {\ntop: 10px;\nflex-direction: row;\nopacity: 1;\ntransition: opacity 1s;\n}\nlayer-notifier .layer-message-item-main {\ndisplay: flex;\nflex-direction: column;\nflex-grow: 1;\n}\nlayer-notifier layer-message-text-plain {\noverflow: hidden;\nmax-height: 200px;\n}","")}()},{"../../base":4,"../../components/component":5,"../../mixins/main-component":51,"../subcomponents/layer-avatar/layer-avatar":19,notifyjs:67}],13:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("../../../mixins/list-item"),f=d(e),g=a("../../../mixins/list-item-selection"),h=d(g),i=a("../../component");a("../../subcomponents/layer-avatar/layer-avatar"),(0,i.registerComponent)("layer-membership-item",{mixins:[f.default,h.default],properties:{item:{set:function(a){a&&a.identity.on("identities:change",this.onRerender.bind(this))}}},methods:{onRender:function(){this.nodes.avatar.users=[this.item.identity],this.onRerender()},onRerender:function(){this.nodes.title.innerHTML=this.item.identity.displayName||"User ID "+this.item.identity.userId},_runFilter:function(a){var b=this.properties.item.identity,c=!1;a?a instanceof RegExp?c=a.test(b.displayName)||a.test(b.firstName)||a.test(b.lastName)||a.test(b.emailAddress):"function"==typeof a?c=a(b):(a=a.toLowerCase(),c=b.displayName.toLowerCase().indexOf(a)!==-1||b.firstName.toLowerCase().indexOf(a)!==-1||b.lastName.toLowerCase().indexOf(a)!==-1||b.emailAddress.toLowerCase().indexOf(a)!==-1):c=!0,this.classList[c?"remove":"add"]("layer-item-filtered")}}}),function(){var b=a("../../../base");b.buildAndRegisterTemplate("layer-membership-item","<div class='layer-list-item'><layer-avatar layer-id='avatar'></layer-avatar><label class='layer-membership-name' layer-id='title'></label></div>",""),b.buildStyle("layer-membership-item","layer-membership-item {\ndisplay: flex;\nflex-direction: column;\n}\nlayer-membership-item .layer-list-item {\ndisplay: flex;\nflex-direction: row;\nalign-items: center;\n}\nlayer-membership-item .layer-list-item layer-avatar {\nmargin-right: 20px;\n}\nlayer-membership-item .layer-list-item label {\nflex-grow: 1;\nwidth: 100px; \n}\nlayer-membership-item.layer-item-filtered .layer-list-item {\ndisplay: none;\n}\nlayer-membership-item.layer-membership-item-empty {\ndisplay: none;\n}","")}()},{"../../../base":4,"../../../mixins/list-item":47,"../../../mixins/list-item-selection":46,"../../component":5,"../../subcomponents/layer-avatar/layer-avatar":19}],14:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("layer-websdk"),f=d(e),g=a("../../component"),h=a("../../../mixins/list"),i=d(h),j=a("../../../mixins/main-component"),k=d(j),l=a("../../../mixins/list-selection"),m=d(l);a("../layer-membership-item/layer-membership-item"),(0,g.registerComponent)("layer-membership-list",{mixins:[i.default,m.default,k.default],events:["layer-membership-selected"],properties:{channelId:{set:function(a){var b=this;a&&0!==a.indexOf("layer:///channels")&&0!==a.indexOf("layer:///channels")&&(this.properties.channelId=""),this.client&&this.channelId&&(this.client.isReady&&!this.client.isDestroyed?this.channel=this.client.getObject(this.channelId,!0):this.client.once("ready",function(){b.channelId&&(b.channel=b.client.getObject(b.channelId,!0))}))}},channel:{set:function(a){!a||a instanceof f.default.Channel||(a=this.properties.channel=null),this.query&&this.query.update({predicate:a?'channel.id = "'+a.id+'"':""})}},_queryModel:{value:f.default.Query.Membership},_selectedItemEventName:{value:"layer-membership-selected"}},methods:{_generateItem:function(a){var b=document.createElement("layer-membership-item");return b.item=a,b.id=this._getItemId(a.id),b._runFilter(this.filter),b}}}),function(){var b=a("../../../base");b.buildAndRegisterTemplate("layer-membership-list","<div class='layer-load-indicator' layer-id='loadIndicator'>Loading users...</div>",""),b.buildStyle("layer-membership-list","layer-membership-list {\noverflow-y: auto;\ndisplay: block;\n}\nlayer-membership-list .layer-load-indicator {\ntext-align: center;\nborder-top: solid 1px #ccc;\nfont-style: italic;\ndisplay: none;\n}\nlayer-membership-list.layer-loading-data .layer-load-indicator {\ndisplay: block;\n}","")}()},{"../../../base":4,"../../../mixins/list":50,"../../../mixins/list-selection":49,"../../../mixins/main-component":51,"../../component":5,"../layer-membership-item/layer-membership-item":13,"layer-websdk":66}],15:[function(a,b,c){"use strict";var d=a("layer-websdk"),e=function(a){return a&&a.__esModule?a:{default:a}}(d);b.exports={properties:{isMessageListItem:{value:!0},item:{},getDeleteEnabled:{type:Function},_contentTag:{set:function(a,b){b&&this.removeClass(b),a&&this.addClass(a)}},dateRenderer:{},messageStatusRenderer:{}},methods:{onRender:function(){try{this.nodes.sender&&(this.nodes.sender.innerHTML=this.item.sender.displayName),this.nodes.avatar&&(this.nodes.avatar.users=[this.item.sender]),this.nodes.date&&(this.dateRenderer&&(this.nodes.date.dateRenderer=this.dateRenderer),this.nodes.date.date=this.item.sentAt),this.nodes.status&&this.messageStatusRenderer&&(this.nodes.status.messageStatusRenderer=this.messageStatusRenderer),this.nodes.delete&&(this.nodes.delete.enabled=!this.getDeleteEnabled||this.getDeleteEnabled(this.properties.item)),this._applyContentTag(),this.onRerender()}catch(a){console.error("layer-message-item.render(): ",a)}},onRerender:function(){var a=this.properties.item.readStatus,b=this.properties.item.deliveryStatus,c="layer-message-status";this.toggleClass("layer-unread-message",!this.properties.item.isRead),this.toggleClass(c+"-read-by-all",a===e.default.Constants.RECIPIENT_STATE.ALL),this.toggleClass(c+"-read-by-some",a===e.default.Constants.RECIPIENT_STATE.SOME),this.toggleClass(c+"-read-by-none",a===e.default.Constants.RECIPIENT_STATE.NONE),this.toggleClass(c+"-delivered-to-all",b===e.default.Constants.RECIPIENT_STATE.ALL),this.toggleClass(c+"-delivered-to-some",b===e.default.Constants.RECIPIENT_STATE.SOME),this.toggleClass(c+"-delivered-to-none",b===e.default.Constants.RECIPIENT_STATE.NONE),this.toggleClass(c+"-pending",this.properties.item.isSaving()),this.toggleClass("layer-message-preview",this.properties.item.isNew())},_applyContentTag:function(){var a=this,b=document.createElement(this._contentTag);b.parentComponent=this,b.message=this.item,this.nodes.messageHandler=b,this.nodes.content.appendChild(b),e.default.Util.defer(function(){b.style.height&&(a.nodes.content.style.height=b.style.height)})}}}},{"layer-websdk":66}],16:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("../../../components/component"),f=a("../../../mixins/list-item"),g=d(f),h=a("../layer-message-item-mixin"),i=d(h);a("../../subcomponents/layer-avatar/layer-avatar"),a("../../subcomponents/layer-date/layer-date"),(0,e.registerComponent)("layer-message-item-received",{mixins:[g.default,i.default]}),function(){var b=a("../../../base");b.buildAndRegisterTemplate("layer-message-item-received","<div class='layer-list-item' layer-id='innerNode'><div class='layer-message-body-and-avatar'><layer-avatar layer-id='avatar' show-presence='false'></layer-avatar><div class='layer-message-item-main'><div class='layer-message-item-content' layer-id='content'></div></div></div><div class='layer-sender-info'><div class='layer-sender-name' layer-id='sender'></div><layer-date layer-id='date'></layer-date></div></div>",""),b.buildStyle("layer-message-item-received","layer-message-item-received {\ndisplay: flex;\nflex-direction: column;\nalign-content: stretch;\n}\nlayer-message-item-received .layer-list-item {\ndisplay: flex;\nflex-direction: column;\nalign-content: stretch;\n}\nlayer-message-item-received .layer-message-body-and-avatar {\ndisplay: flex;\nflex-direction: row;\nalign-items: flex-end;\n}\nlayer-message-item-received  .layer-message-item-main {\nflex-grow: 1;\noverflow: hidden;\n}\nlayer-message-item-received .layer-message-item-main .layer-message-item-content {\nmax-width: 90%;\n}\nlayer-message-item-received layer-message-text-plain {\ndisplay: block;\n}","")}()},{"../../../base":4,"../../../components/component":5,"../../../mixins/list-item":47,"../../subcomponents/layer-avatar/layer-avatar":19,"../../subcomponents/layer-date/layer-date":24,"../layer-message-item-mixin":15}],17:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("../../../components/component"),f=a("../../../mixins/list-item"),g=d(f),h=a("../layer-message-item-mixin"),i=d(h);a("../../subcomponents/layer-avatar/layer-avatar"),a("../../subcomponents/layer-delete/layer-delete"),a("../../subcomponents/layer-date/layer-date"),a("../../subcomponents/layer-message-status/layer-message-status"),(0,e.registerComponent)("layer-message-item-sent",{mixins:[g.default,i.default]}),function(){var b=a("../../../base");b.buildAndRegisterTemplate("layer-message-item-sent","<div class='layer-list-item' layer-id='innerNode'><div class='layer-message-body-and-avatar' layer-id='messageRow'><div class='layer-message-item-main'><div class='layer-message-item-content' layer-id='content'></div></div><div class='layer-avatar-delete-panel'><layer-avatar layer-id='avatar' show-presence='false'></layer-avatar><layer-delete layer-id='delete'></layer-delete></div></div><div class='layer-sender-info layer-sender-details'><div class='layer-sender-name' layer-id='sender'></div><layer-message-status layer-id='status'></layer-message-status><layer-date layer-id='date'></layer-date></div></div>",""),b.buildStyle("layer-message-item-sent","layer-message-item-sent {\ndisplay: flex;\nflex-direction: column;\nalign-content: stretch;\n}\nlayer-message-item-sent img.emoji {\nmargin: 0 .05em 0 .1em;\nvertical-align: -0.1em;\n}\nlayer-message-item-sent .layer-list-item {\ndisplay: flex;\nflex-direction: column;\nalign-items: stretch;\n}\nlayer-message-item-sent .layer-message-body-and-avatar {\ndisplay: flex;\nflex-direction: row;\nalign-items: flex-end;\nflex-grow: 1;\n}\nlayer-message-item-sent .layer-message-item-main {\ntext-align: right;\nflex-grow: 1;\noverflow: hidden;\n}\nlayer-message-item-sent .layer-message-item-main .layer-message-item-content {\ndisplay: inline-block;\ntext-align: right;\nmax-width: 90%;\n}\nlayer-message-item-sent layer-message-text-plain {\ndisplay: block;\n}\nlayer-message-item-sent .layer-avatar-delete-panel {\ndisplay: flex;\nflex-direction: row;\nalign-items: center;\n}","")}()},{"../../../base":4,"../../../components/component":5,"../../../mixins/list-item":47,"../../subcomponents/layer-avatar/layer-avatar":19,"../../subcomponents/layer-date/layer-date":24,"../../subcomponents/layer-delete/layer-delete":25,"../../subcomponents/layer-message-status/layer-message-status":27,"../layer-message-item-mixin":15}],18:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("layer-websdk"),f=d(e),g=a("../../../base"),h=d(g),i=a("../../../components/component"),j=a("../../../mixins/list"),k=d(j),l=a("../../../mixins/has-query"),m=d(l),n=a("../../../mixins/empty-list"),o=d(n),p=a("../../../mixins/list-load-indicator"),q=d(p),r=a("../../../mixins/query-end-indicator"),s=d(r);a("../layer-message-item-sent/layer-message-item-sent"),a("../layer-message-item-received/layer-message-item-received");(0,i.registerComponent)("layer-messages-list",{mixins:[k.default,m.default,o.default,q.default,s.default],properties:{dateRenderer:{},messageStatusRenderer:{},getMessageDeleteEnabled:{},disable:{set:function(a){a||(this.properties.stuckToBottom=!0,this.scrollTo(this.scrollHeight-this.clientHeight),this._checkVisibility())}},screenFullsBeforePaging:{value:2}},methods:{onCreate:function(){this.id||(this.id=f.default.Util.generateUUID()),this.properties.lastPagedAt=0,this.properties.isSelfScrolling=!1,this.properties.stuckToBottom=!0,this.properties._checkVisibilityBound=this._checkVisibility.bind(this),window.addEventListener("focus",this.properties._checkVisibilityBound)},onDestroy:function(){window.removeEventListener("focus",this.properties._checkVisibilityBound)},_shouldPage:function(){var a=Math.max(this.clientHeight,300)*this.screenFullsBeforePaging;return this.scrollTop<=a&&this.scrollHeight>this.clientHeight+1&&!this.isDataLoading},_handleScroll:{mode:i.registerComponent.MODES.OVERWRITE,value:function(){var a=this;if(!this.properties.isSelfScrolling){this._shouldPage()&&!this.properties.delayedPagingTimeout&&(this.properties.lastPagedAt+2e3<Date.now()?this.query.isFiring||(this.query.update({paginationWindow:this.query.paginationWindow+50}),this.isDataLoading=this.properties.query.isFiring):this.properties.delayedPagingTimeout||(this.properties.delayedPagingTimeout=setTimeout(function(){a.query.update({paginationWindow:a.query.paginationWindow+50}),a.isDataLoading=a.properties.query.isFiring,a.properties.delayedPagingTimeout=0},500)));var b=this.scrollHeight-10<=this.clientHeight+this.scrollTop;b!==this.properties.stuckToBottom&&(this.properties.stuckToBottom=b),this._checkVisibility()}}},scrollTo:{mode:i.registerComponent.MODES.OVERWRITE,value:function(a,b){var c=this;a!==this.scrollTop&&(this.properties.isSelfScrolling=!0,this.scrollTop=a,setTimeout(function(){c.properties.isSelfScrolling=!1,c._checkVisibility(),b&&b()},200))}},animatedScrollTo:{mode:i.registerComponent.MODES.OVERWRITE,value:function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,d=arguments[2];if(a!==this.scrollTop){this.properties.isSelfScrolling=!0,this.properties.cancelAnimatedScroll&&this.properties.cancelAnimatedScroll();var e=this.properties.cancelAnimatedScroll=h.default.animatedScrollTo(this,a,c,function(){clearTimeout(f),setTimeout(function(){e===b.properties.cancelAnimatedScroll&&(b.properties.cancelAnimatedScroll=null,b.properties.isSelfScrolling=!1,b._checkVisibility(),d&&d())},100)}),f=setTimeout(function(){b.properties.cancelAnimatedScroll&&b.properties.cancelAnimatedScroll(),b.properties.cancelAnimatedScroll=null,b.scrollTo(a,d)},c+20)}}},_checkVisibility:function(){var a=this;if(!h.default.isInBackground()&&!this.disable){var b=this.scrollTop,c=this.scrollTop+this.clientHeight;Array.prototype.slice.call(this.childNodes).forEach(function(d){var e=d.offsetTop-a.offsetTop;e>=b&&e+d.clientHeight<=c&&d.properties&&d.properties.item&&!d.properties.item.isRead&&setTimeout(function(){return a._markAsRead(d)},h.default.settings.markReadDelay)},this)}},_markAsRead:function(a){if(!h.default.isInBackground()&&!this.disable){var b=this.scrollTop,c=this.scrollTop+this.clientHeight,d=a.offsetTop-this.offsetTop;d>=b&&d+a.clientHeight<=c&&(a.properties.item.isRead=!0)}},_generateItem:function(a){var b=h.default.getHandler(a,this);if(b){var c=document.createElement(a.sender.sessionOwner?"layer-message-item-sent":"layer-message-item-received");return c.id=this._getItemId(a.id),c.dateRenderer=this.dateRenderer,c.messageStatusRenderer=this.messageStatusRenderer,c.getDeleteEnabled=this.getMessageDeleteEnabled,c._contentTag=b.tagName,c.item=a,c}return null},_inSameGroup:function(a,b){if(!a||!b)return!1;var c=Math.abs(a.sentAt.getTime()-b.sentAt.getTime());return a.sender===b.sender&&c<h.default.settings.messageGroupTimeSpan},_processAffectedWidgetsCustom:function(a,b,c){if(0!==a.length){c&&(a[0].firstInSeries=!0);for(var d=1;d<a.length;d++){var e=this._inSameGroup(a[d-1].item,a[d].item);a[d].firstInSeries=!e,a[d-1].lastInSeries=!e}a[a.length-1].nextSibling||(a[a.length-1].lastInSeries=!0)}},_renderResetData:{mode:i.registerComponent.MODES.AFTER,value:function(a){this.properties.stuckToBottom=!0,this.properties.lastPagedAt=0,this.properties.isSelfScrolling=!1}},_renderWithoutRemovedData:{mode:i.registerComponent.MODES.OVERWRITE,value:function(a){this.properties.listData=[].concat(this.properties.query.data).reverse();var b=this.querySelector("#"+this._getItemId(a.target.id));b&&this.removeChild(b);var c=this.properties.listData.length-a.index,d=this.properties.listData.slice(Math.max(0,c-3),c+3);this._gatherAndProcessAffectedItems(d,!1)}},_renderInsertedData:{mode:i.registerComponent.MODES.OVERWRITE,value:function(a){var b=this;if(this.properties.appendingMore)return this.properties.insertEvents||(this.properties.insertEvents=[]),void this.properties.insertEvents.push(a);var c=this.properties.listData;this.properties.listData=[].concat(this.properties.query.data).reverse();var d=c.length-a.index,e=0===d,f=this.properties.listData.slice(Math.max(0,d-3),d+4),g=this._generateFragment([a.target]);if(d<c.length){var h=f.length>1?this.querySelector("#"+this._getItemId(c[d].id)):null;this.insertBefore(g,h)}else this.appendChild(g);this._gatherAndProcessAffectedItems(f,e),this._updateLastMessageSent(),this.properties.stuckToBottom?setTimeout(function(){return b.animatedScrollTo(b.scrollHeight-b.clientHeight)},0):this._checkVisibility(),a.inRender||this.onRerender()}},_updateLastMessageSent:function(){for(var a=this.properties.listData.length-1;a>=0;a--)if(this.properties.listData[a].sender.sessionOwner){var b=this.querySelector("#"+this._getItemId(this.properties.listData[a].id));b&&!b.classList.contains("layer-last-message-sent")&&(this.querySelectorAllArray(".layer-last-message-sent").forEach(function(a){a.classList.remove("layer-last-message-sent")}),b.classList.add("layer-last-message-sent"));break}},_findFirstVisibleItem:function(){for(var a=this.scrollTop,b=this.scrollTop+this.clientHeight,c=Array.prototype.slice.call(this.childNodes),d=0;d<c.length;d++){var e=c[d],f=e.offsetTop-this.offsetTop;if(f>=a&&f+e.clientHeight<=b&&e.properties&&e.properties.item)return e}return null},_renderPagedData:{mode:i.registerComponent.MODES.OVERWRITE,value:function(a){if(0===a.data.length)return void(this.isDataLoading=this.properties.query.isFiring);this.properties.lastPagedAt=Date.now();var b=this.properties.listData
;this.properties.listData=[].concat(this.properties.query.data).reverse();var c=[].concat(a.data).reverse(),d=[].concat(c),e=void 0;b.length&&(d=d.concat(b.slice(0,3))),function b(){var g=this;if(this.query&&!this.query.isDestroyed){this.properties.appendingMore=!0;var h=c.splice(0,20).filter(function(a){return!a.isDestroyed});e=this._generateFragment(h,e),c.length?setTimeout(function(){return b.call(g)},20):(this.properties.appendingMore=!1,f.default.Util.defer(function(){return g._renderPagedDataDone(d,e,a)}))}}.bind(this)()}},_renderPagedDataDone:function(a,b,c){var d=this;if(a.length){var e="#"+a.map(function(a){return d._getItemId(a.id)}).join(", #"),g=this.querySelectorAllArray(e);if(b){g=Array.prototype.slice.call(b.querySelectorAll(e)).concat(g)}try{this._processAffectedWidgets(g,!0)}catch(a){console.error(a)}}var h=this._findFirstVisibleItem(),i=h?h.offsetTop-this.offsetTop-this.scrollTop:0,j=this.nodes.listHeader.nextSibling;this.insertBefore(b,j),this._updateLastMessageSent(),this.isDataLoading=this.properties.query.isFiring,this._checkVisibility(),c.inRender||this.onRerender(),this.properties.insertEvents&&this.properties.insertEvents.forEach(function(a){return d._renderInsertedData(a)}),delete this.properties.insertEvents,f.default.Util.defer(function(){d.properties.stuckToBottom?d.scrollTo(d.scrollHeight-d.clientHeight):h&&"data"===c.type&&0!==c.data.length&&d.scrollTo(h.offsetTop-d.offsetTop-i)})}}}),function(){var b=a("../../../base");b.buildAndRegisterTemplate("layer-messages-list","<div class='layer-list-header' layer-id='listHeader'><div class='layer-empty-list' layer-id='emptyNode'></div><div class='layer-header-toggle'><div class='layer-end-of-results-indicator' layer-id='endOfResultsNode'>This is the beginning of your conversation</div><div class='layer-load-indicator' layer-id='loadIndicator'>Loading messages...</div></div></div>",""),b.buildStyle("layer-messages-list","layer-messages-list {\ndisplay: block;\nflex-grow: 1;\nheight: 100px; \npadding-bottom: 15px;\noverflow-y: scroll; \n-webkit-overflow-scrolling: touch;\n}\nlayer-messages-list .layer-header-toggle {\nmin-height: 20px;\nmargin-bottom: 2px;\n}\nlayer-messages-list .layer-load-indicator, layer-messages-list .layer-end-of-results-indicator {\ntext-align: center;\ndisplay: none;\n}\nlayer-messages-list.layer-loading-data .layer-load-indicator,\nlayer-messages-list.layer-end-of-results .layer-end-of-results-indicator {\ndisplay: block;\n}","")}()},{"../../../base":4,"../../../components/component":5,"../../../mixins/empty-list":43,"../../../mixins/has-query":45,"../../../mixins/list":50,"../../../mixins/list-load-indicator":48,"../../../mixins/query-end-indicator":53,"../layer-message-item-received/layer-message-item-received":16,"../layer-message-item-sent/layer-message-item-sent":17,"layer-websdk":66}],19:[function(a,b,c){"use strict";var d=a("../../../components/component");a("../layer-presence/layer-presence"),(0,d.registerComponent)("layer-avatar",{properties:{users:{set:function(a,b){if(b&&a&&a.length===b.length){if(a.filter(function(a){return b.indexOf(a)!==-1})!==a.length)return}a||(a=[]),Array.isArray(a)||(a=[a]),this.classList[a.length?"add":"remove"]("layer-has-user"),this.onRender()}},showPresence:{value:!0,type:Boolean}},methods:{onCreate:function(){this.properties.users=[]},onRender:function(){this.users.length&&(this.innerHTML=""),this.users.forEach(this._renderUser.bind(this)),this.classList[this.users.length>1?"add":"remove"]("layer-avatar-cluster"),1===this.users.length&&this.showPresence&&this.users[0].getClient().isPresenceEnabled&&(this.nodes.presence=document.createElement("layer-presence"),this.nodes.presence.item=this.users[0],this.appendChild(this.nodes.presence))},_renderUser:function(a){if(a.avatarUrl){var b=document.createElement("img");b.onerror=function(){b.style.display="none"},b.src=a.avatarUrl,this.appendChild(b)}else{var c=document.createElement("span");a.firstName&&a.lastName?c.innerHTML=a.firstName.substring(0,1).toUpperCase()+a.lastName.substring(0,1).toUpperCase():a.displayName.indexOf(" ")!==-1?c.innerHTML=a.displayName.substr(0,1).toUpperCase()+a.displayName.substr(a.displayName.indexOf(" ")+1,1).toUpperCase():c.innerHTML=a.displayName.substring(0,2).toUpperCase(),this.appendChild(c)}}}}),function(){var b=a("../../../base");b.buildAndRegisterTemplate("layer-avatar","",""),b.buildStyle("layer-avatar","layer-avatar {\ndisplay: block;\n}\nlayer-avatar layer-presence {\nposition: absolute;\nbottom: 0px;\nright: 0px;\n}","")}()},{"../../../base":4,"../../../components/component":5,"../layer-presence/layer-presence":28}],20:[function(a,b,c){"use strict";(0,a("../../../components/component").registerComponent)("layer-compose-button-panel",{properties:{buttons:{value:[],set:function(a){this.classList[a&&a.length?"remove":"add"]("is-empty"),this.onRender()}}},methods:{onRender:function(){if(this.innerHTML="",this.buttons.length){var a=document.createDocumentFragment();this.buttons.forEach(function(b){return a.appendChild(b)}),this.appendChild(a)}}}}),function(){var b=a("../../../base");b.buildAndRegisterTemplate("layer-compose-button-panel","",""),b.buildStyle("layer-compose-button-panel","layer-compose-button-panel.is-empty {\ndisplay: none;\n}\nlayer-compose-button-panel {\ndisplay: flex;\nflex-direction: row;\nalign-items: stretch;\n}","")}()},{"../../../base":4,"../../../components/component":5}],21:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("layer-websdk"),f=d(e),g=a("../../../base"),h=d(g),i=a("../../../components/component");a("../layer-compose-button-panel/layer-compose-button-panel");(0,i.registerComponent)("layer-composer",{properties:{conversation:{set:function(a){a&&(this.client=a.getClient()),this._setTypingListenerConversation()}},client:{set:function(a){this.nodes.input||console.error("NO INPUT FOR COMPOSER"),a&&(this.properties.typingListener=this.properties.client.createTypingListener(this.nodes.input),this._setTypingListenerConversation())}},buttons:{set:function(a){this.nodes.buttonPanel.buttons=a}},buttonsLeft:{set:function(a){this.nodes.buttonPanelLeft.buttons=a}},value:{set:function(a){var b=this.nodes.input.value;this.nodes.input.value=a,this.onRender(),this._triggerChange(a,b)},get:function(){return this.nodes.input.value}},placeholder:{set:function(a){this.nodes.input.placeholder=a,this.onRender()},get:function(){return this.nodes.input.placeholder}}},methods:{onCreate:function(){this.classList.add("layer-composer-one-line-of-text"),this.properties.buttons=[],this.nodes.input.placeholder="Enter a message",this.nodes.input.addEventListener("keydown",this._onKeyDown.bind(this)),this.nodes.input.addEventListener("input",this._onInput.bind(this)),this.addEventListener("layer-file-selected",this._handleAttachments.bind(this)),this.addEventListener("layer-send-click",this.send.bind(this,null))},_triggerChange:function(a,b){a!==b&&(this.properties.value=a,this.trigger("layer-composer-change-value",{value:a,oldValue:b}))},focus:function(){this.nodes.input.focus()},_setTypingListenerConversation:function(){this.properties.typingListener.setConversation(this.conversation)},send:function(a){var b=[];if(a?b=a:this.nodes.input.value&&(b.push(new f.default.MessagePart({type:"text/plain",body:this.nodes.input.value})),this.nodes.input.value="",this._onInput()),0!==b.length){var c=this.conversation?this.conversation.createMessage({parts:b}):null,d=b.filter(function(a){return"text/plain"===a.mimeType})[0],e={text:d?d.body:"File received",title:"New Message from "+this.client.user.displayName};this.trigger("layer-send-message",{parts:b,notification:e,item:c,conversation:this.conversation})&&(this.conversation?this.conversation instanceof f.default.Channel?(this.onSend(c),c.send()):(this.onSend(c,e),c.send(e)):console.error("Unable to send message without a conversationId"))}},onSend:function(a,b){},_onKeyDown:function(a){13===a.keyCode?a.shiftKey||a.ctrlKey||a.metaKey?(a.target.value+="\n",this._onInput(a)):(a.preventDefault(),this.send()):h.default.settings.disableTabAsWhiteSpace||9!==a.keyCode||a.shiftKey||(a.preventDefault(),a.target.value+="\t  ",this._onInput(a))},_onInput:function(a){this.onRender(),this._triggerChange(this.nodes.input.value,this.properties.value)},onRender:function(){var a=this;setTimeout(function(){a.nodes.resizer.innerHTML=a.nodes.input.value.replace(/\n/g,"<br/>")||"&nbsp;",a.nodes.lineHeighter.innerHTML=a.nodes.input.value.replace(/\n/g,"<br/>")||"&nbsp;";var b=!a.nodes.input.value.match(/\n/)&&a.nodes.resizer.clientHeight-a.nodes.lineHeighter.clientHeight<10;b&&(a.nodes.input.style.overflow="hidden",setTimeout(function(){a.nodes.input.style.overflow=""},1)),a.classList[b?"add":"remove"]("layer-composer-one-line-of-text")},10)},_handleAttachments:function(a){this.send(a.detail.parts)}}}),function(){var b=a("../../../base");b.buildAndRegisterTemplate("layer-composer","<layer-compose-button-panel layer-id='buttonPanelLeft' class='layer-button-panel-left'></layer-compose-button-panel><div class='layer-compose-edit-panel' layer-id='editPanel'><div class='hidden-resizer' layer-id='resizer'>&nbsp;&nbsp;</div><div class='hidden-lineheighter' layer-id='lineHeighter'>&nbsp;</div><textarea rows=\"1\" layer-id='input'></textarea></div><layer-compose-button-panel layer-id='buttonPanel' class='layer-button-panel-right'></layer-compose-button-panel>",""),b.buildStyle("layer-composer",'layer-composer {\ndisplay: flex;\nflex-direction: row;\n}\nlayer-composer .layer-compose-edit-panel {\nposition: relative;\nflex-grow: 1;\nwidth: 100px; \npadding: 1px 0px;\n}\nlayer-composer textarea, layer-composer .hidden-resizer, layer-composer .hidden-lineheighter {\nline-height: 1.2em;\nmin-height: 20px;\noverflow :hidden;\nborder-width: 0px;\nfont-size: 1em;\npadding: 4px 8px;\nbox-sizing: border-box;\nfont-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;\nmargin: 0px;\n}\nlayer-composer textarea {\nresize: none;\noutline: none;\ncolor: rgba(0,0,0,0.87);\nposition: absolute;\nz-index: 2;\ntop: 0px;\nleft: 0px;\nwidth: 100%;\nheight: 100%;\noverflow-y: auto;\nwhite-space: pre-wrap;\nword-wrap: break-word;\n}\nlayer-composer.layer-composer-one-line-of-text textarea {\noverflow-y: hidden;\n}\nlayer-composer .hidden-resizer {\nopacity: 0.1;\nwhite-space: pre-wrap;\nword-wrap: break-word;\nmax-height: 250px;\n}\nlayer-composer .layer-compose-edit-panel .hidden-lineheighter {\ntop: 0px;\nopacity: 0.1;\nwhite-space: nowrap;\nposition: absolute;\nright: 10000px;\n}',"")}()},{"../../../base":4,"../../../components/component":5,"../layer-compose-button-panel/layer-compose-button-panel":20,"layer-websdk":66}],22:[function(a,b,c){"use strict";var d=a("../../../base"),e=function(a){return a&&a.__esModule?a:{default:a}}(d);(0,a("../../../components/component").registerComponent)("layer-conversation-last-message",{properties:{item:{set:function(a,b){b&&b.off(null,null,this),a&&a.on("conversations:change",this.onRerender,this),this.onRender()}},canFullyRenderLastMessage:{}},methods:{onCreate:function(){},onRender:function(){this.onRerender()},onRerender:function(a){if(!a||a.hasProperty("lastMessage")){var b=this.item,c=b?b.lastMessage:null;if(this.firstChild&&this.firstChild.onDestroy&&this.firstChild.onDestroy(),this.innerHTML="",c){var d=e.default.getHandler(c,this);if(d)if(this.classList.add(d.tagName),!this.canFullyRenderLastMessage||this.canFullyRenderLastMessage(c)){var f=document.createElement(d.tagName);f.parentComponent=this,f.message=c,this.appendChild(f)}else d.label&&(this.innerHTML='<div class="layer-custom-mime-type">'+d.label+"</div>")}}}}}),function(){var b=a("../../../base");b.buildAndRegisterTemplate("layer-conversation-last-message","",""),b.buildStyle("layer-conversation-last-message","layer-conversation-last-message, .layer-custom-mime-type {\ndisplay: block;\nwhite-space: nowrap;\ntext-overflow: ellipsis;\noverflow: hidden;\n}","")}()},{"../../../base":4,"../../../components/component":5}],23:[function(a,b,c){"use strict";(0,a("../../../components/component").registerComponent)("layer-conversation-title",{properties:{item:{set:function(a,b){b&&b.off(null,null,this),a&&a.on("conversations:change",this.onRerender,this),this.onRender()}}},methods:{onCreate:function(){},onRender:function(){this.onRerender()},onRerender:function(a){if(!a||a.hasProperty("metadata")||a.hasProperty("participants")){var b=this.item;if(b){var c=b.metadata.conversationName||b.metadata.title;if(!c){var d=b.participants.filter(function(a){return!a.sessionOwner}).filter(function(a){return a.displayName}).map(function(a){return a.displayName});c=d.length?d.join(", ").replace(/, ([^,]*)$/," and $1"):"No Title"}c!==this.innerHTML&&(this.innerHTML=c)}else this.innerHTML=""}}}}),function(){var b=a("../../../base");b.buildAndRegisterTemplate("layer-conversation-title","",""),b.buildStyle("layer-conversation-title","layer-conversation-title {\ndisplay: block;\n}","")}()},{"../../../base":4,"../../../components/component":5}],24:[function(a,b,c){"use strict";(0,a("../../../components/component").registerComponent)("layer-date",{properties:{date:{set:function(a){if(a)if(this.dateRenderer)this.value=this.dateRenderer(a);else{var b=a.toLocaleDateString(),c=a.toLocaleTimeString();this.value=(new Date).toLocaleDateString()===b?c:b+" "+c}else this.value=""}},value:{set:function(a){this.innerHTML=a}},dateRenderer:{}}}),function(){var b=a("../../../base");b.buildAndRegisterTemplate("layer-date","",""),b.buildStyle("layer-date","layer-date {\ndisplay: block;\n}","")}()},{"../../../base":4,"../../../components/component":5}],25:[function(a,b,c){"use strict";var d=a("layer-websdk"),e=function(a){return a&&a.__esModule?a:{default:a}}(d);(0,a("../../../components/component").registerComponent)("layer-delete",{properties:{item:{},enabled:{type:Boolean,set:function(a){this.classList[a?"add":"remove"]("layer-delete-enabled")}}},methods:{onCreate:function(){this.addEventListener("click",this.onDeleteClick,this)},onDeleteClick:function(a){a.preventDefault(),a.stopPropagation(),this.enabled&&(this.item instanceof e.default.Message?this.trigger("layer-message-deleted",{item:this.item})&&window.confirm("Are you sure you want to delete this message?")&&this.item.delete(e.default.Constants.DELETION_MODE.ALL):this.trigger("layer-conversation-deleted",{item:this.item})&&window.confirm("Are you sure you want to delete this conversation?")&&this.item.delete(e.default.Constants.DELETION_MODE.ALL))}}}),function(){var b=a("../../../base");b.buildAndRegisterTemplate("layer-delete","&#x2715;",""),b.buildStyle("layer-delete","layer-delete {\ndisplay: none;\n}\nlayer-delete.layer-delete-enabled {\ndisplay: inline;\nwidth: 12px;\nheight: 12px;\nfont-size: 12px;\npadding: 4px 4px 6px 4px;\nmargin-right: 5px;\nborder: solid 1px transparent;\ncursor: default;\ntext-align: center;\ncursor: pointer;\n}","")}()},{"../../../base":4,"../../../components/component":5,"layer-websdk":66}],26:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("layer-websdk"),f=d(e),g=a("../../../base"),h=d(g),i=a("../../../mixins/main-component"),j=d(i);(0,a("../../../components/component").registerComponent)("layer-file-upload-button",{mixins:[j.default],properties:{accept:{set:function(a){this.nodes.input.accept=a}}},methods:{onCreate:function(){var a=this;this.nodes.input.id=f.default.Util.generateUUID(),this.nodes.label.setAttribute("for",this.nodes.input.id),this.nodes.input.addEventListener("change",this.onChange.bind(this)),this.addEventListener("click",function(b){b.target!==a.nodes.input&&a.nodes.input.click()})},onChange:function(){var a=this,b=this.nodes.input.files,c=Array.prototype.map.call(b,function(a){return new f.default.MessagePart(a)});h.default.files.processAttachments(c,function(b){a.trigger("layer-file-selected",{parts:b})})}}}),function(){var b=a("../../../base");b.buildAndRegisterTemplate("layer-file-upload-button","<label layer-id='label'>+</label><input layer-id='input' type='file'></input>",""),b.buildStyle("layer-file-upload-button","layer-file-upload-button {\ncursor: pointer;\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\n}\nlayer-file-upload-button input {\nwidth: 0.1px;\nheight: 0.1px;\nopacity: 0;\noverflow: hidden;\nposition: absolute;\nz-index: -1;\n}\nlayer-file-upload-button label {\ndisplay: block;\npointer-events: none;\ntext-align: center;\n}","")}()},{"../../../base":4,"../../../components/component":5,"../../../mixins/main-component":51,"layer-websdk":66}],27:[function(a,b,c){"use strict";var d=a("layer-websdk"),e=function(a){return a&&a.__esModule?a:{default:a}}(d);(0,a("../../../components/component").registerComponent)("layer-message-status",{properties:{item:{set:function(a,b){b&&b.off(null,null,this),a&&a.on("messages:change",this.onRerender,this),this.onRender()}},messageStatusRenderer:{}},methods:{onCreate:function(){},onRender:function(){this.onRerender()},onRerender:function(a){if(this.item&&(!a||a.hasProperty("recipientStatus")||a.hasProperty("syncState"))){var b=this.item;if(this.messageStatusRenderer)this.innerHTML=this.messageStatusRenderer(b);else{var c="";if(b.isNew())c="";else if(b.isSaving()||b.isNew())c="pending";else if(b instanceof e.default.Message.ChannelMessage||b.deliveryStatus===e.default.Constants.RECIPIENT_STATE.NONE)c="sent";else if(b.readStatus===e.default.Constants.RECIPIENT_STATE.NONE)c="delivered";else if(b.readStatus===e.default.Constants.RECIPIENT_STATE.ALL)c="read";else{var d=b.getClient().user.id,f=b.recipientStatus,g=Object.keys(f).filter(function(a){return a!==d&&f[a]===e.default.Constants.RECEIPT_STATE.READ}).length;c="read by "+g+" participants"}this.innerHTML=c}}}}}),function(){var b=a("../../../base");b.buildAndRegisterTemplate("layer-message-status","",""),b.buildStyle("layer-message-status","layer-message-status {\ndisplay: inline;\n}","")}()},{"../../../base":4,"../../../components/component":5,"layer-websdk":66}],28:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("layer-websdk"),f=d(e),g=a("../../../components/component"),h=a("../../../mixins/main-component"),i=d(h);(0,g.registerComponent)("layer-presence",{mixins:[i.default],events:["layer-presence-click"],properties:{item:{set:function(a){if(a&&!(a instanceof f.default.Identity)){var b=f.default.Client.getClient(a.clientId);a=this.properties.item=b?b.getIdentity(a.id):null}a&&a.on("identities:change",this.onRerender,this),this.onRender()}}},methods:{onCreate:function(){this.addEventListener("click",this.onClick.bind(this))},onRender:function(){this.onRerender()},onRerender:function(a){this.className="layer-presence-"+(this.item?this.item.status:"unknown")},onClick:function(a){a.preventDefault(),this.trigger("layer-presence-click",{item:this.item})}}}),function(){var b=a("../../../base");b.buildAndRegisterTemplate("layer-presence","",""),b.buildStyle("layer-presence","layer-presence {\ndisplay: inline-block;\nborder-radius: 30px;\n}","")}()},{"../../../base":4,"../../../components/component":5,"../../../mixins/main-component":51,"layer-websdk":66}],29:[function(a,b,c){"use strict";var d=a("../../../components/component"),e=a("../../../mixins/main-component"),f=function(a){return a&&a.__esModule?a:{default:a}}(e);(0,d.registerComponent)("layer-send-button",{mixins:[f.default],properties:{text:{value:"SEND",set:function(a){this.firstChild.innerHTML=a}}},methods:{onCreate:function(){this.addEventListener("click",this.onClick.bind(this))},onClick:function(a){this.trigger("layer-send-click")}}}),function(){var b=a("../../../base");b.buildAndRegisterTemplate("layer-send-button","<div></div>",""),b.buildStyle("layer-send-button","layer-send-button {\ncursor: pointer;\ndisplay: flex;\nflex-direction: row;\nalign-items: center;\n}\nlayer-send-button div {\ntext-align: center;\n}","")}()},{"../../../base":4,"../../../components/component":5,"../../../mixins/main-component":51}],30:[function(a,b,c){"use strict";(0,a("../../../components/component").registerComponent)("layer-typing-indicator",{properties:{conversation:{set:function(a){if(a){this.client=a.getClient();var b=this.client.getTypingState(a);this.onRerender({conversationId:a.id,typing:b.typing,paused:b.paused})}else this.value=""}},client:{set:function(a,b){b&&b.off(null,null,this),a&&a.on("typing-indicator-change",this.onRerender,this)}},value:{set:function(a){this.nodes.panel.innerHTML=a||"",this.classList[a?"add":"remove"]("layer-typing-occuring")}}},methods:{onCreate:function(){},onRender:function(){if(this.conversation&&this.conversation.id){var a=this.client.getTypingState(this.conversation.id);a.conversationId=this.conversation.id,this.onRerender(a)}},onRerender:function(a){if(this.conversation&&a.conversationId===this.conversation.id&&this.trigger("layer-typing-indicator-change",{typing:a.typing,paused:a.paused,widget:this})){var b=a.typing.map(function(a){return a.displayName});switch(b.length){case 0:this.value="";break;case 1:this.value=b.join(", ")+" is typing";break;default:this.value=b.join(", ").replace(/, ([^,]*)$/," and $1")+" are typing"}}}}}),function(){var b=a("../../../base");b.buildAndRegisterTemplate("layer-typing-indicator","<span class='layer-typing-message' layer-id='panel'></span>",""),b.buildStyle("layer-typing-indicator","layer-typing-indicator {\ndisplay: block;\n}\nlayer-typing-indicator span {\ndisplay: none;\n}\nlayer-typing-indicator.layer-typing-occuring span {\ndisplay: inline;\n}","")}()},{"../../../base":4,"../../../components/component":5}],31:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("blueimp-load-image/js/load-image"),f=d(e);a("blueimp-load-image/js/load-image-orientation"),a("blueimp-load-image/js/load-image-meta"),a("blueimp-load-image/js/load-image-exif");var g=a("../../../base"),h=a("../../../components/component"),i=a("../../../utils/sizing"),j=d(i),k=a("../../../mixins/message-handler"),l=d(k);(0,h.registerMessageComponent)("layer-message-image",{mixins:[l.default],properties:{label:{value:'<i class="fa fa-file-image-o layer-image-message-icon" aria-hidden="true"></i> Image message'},message:{set:function(a){this.properties.image=a.parts.filter(function(a){return["image/png","image/gif","image/jpeg"].indexOf(a.mimeType)!==-1})[0],this.properties.preview=a.parts.filter(function(a){return"image/jpeg+preview"===a.mimeType})[0];var b=a.parts.filter(function(a){return"application/json+imageSize"===a.mimeType})[0];b&&(this.properties.meta=JSON.parse(b.body)),this.properties.preview&&this.properties.image?(this.properties.preview.body||(this.properties.preview.fetchContent(),this.properties.preview.on("content-loaded",this.onRender,this)),this.properties.image.url||this.properties.image.body||this.properties.image.fetchStream()):this.properties.image.body||(this.properties.image.fetchContent(),this.properties.image.on("content-loaded",this.onRender,this))}}},methods:{handlesMessage:function(a){var b=a.parts.filter(function(a){return["image/png","image/gif","image/jpeg"].indexOf(a.mimeType)!==-1}).length,c=a.parts.filter(function(a){return"image/jpeg+preview"===a.mimeType}).length,d=a.parts.filter(function(a){return"application/json+imageSize"===a.mimeType}).length;return 1===a.parts.length&&b||3===a.parts.length&&1===b&&1===c&&1===d},onCreate:function(){this.addEventListener("click",this._handleClick.bind(this))},_handleClick:function(a){"LAYER-CONVERSATION-LAST-MESSAGE"!==this.parentNode.tagName&&(a.preventDefault(),this.properties.image&&this.properties.image.url&&window.open(this.properties.image.url))},onRender:function(){var a=g.settings.maxSizes;this.parentComponent&&"LAYER-NOTIFIER"===this.parentComponent.tagName&&(a={height:140,width:a.width}),this.properties.sizes=(0,j.default)(this.properties.meta,{width:a.width,height:a.height}),this.style.height=g.settings.verticalMessagePadding+this.properties.sizes.height+"px",this.properties.preview&&this.properties.preview.body?this._renderCanvas(this.properties.preview.body):this.properties.image&&this.properties.image.body&&this._renderCanvas(this.properties.image.body)},_renderCanvas:function(a){var b=this;f.default.parseMetaData(a,function(c){var d={canvas:!0};c.imageHead&&c.exif&&(d.orientation=c.exif[274]||1),d.maxWidth=d.minWidth=b.properties.sizes.width,d.maxHeight=d.minHeight=b.properties.sizes.height,(0,f.default)(a,function(a){for(;b.firstChild;)b.removeChild(b.firstChild);a instanceof HTMLElement?b.appendChild(a):console.error(a)},d)})}}}),function(){var b=a("../../../base");b.buildAndRegisterTemplate("layer-message-image","",""),b.buildStyle("layer-message-image","layer-message-image {\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\n}\nlayer-message-image canvas {\nwidth: 100%;\n}","")}()},{"../../../base":4,"../../../components/component":5,"../../../mixins/message-handler":52,"../../../utils/sizing":58,"blueimp-load-image/js/load-image":65,"blueimp-load-image/js/load-image-exif":61,"blueimp-load-image/js/load-image-meta":62,"blueimp-load-image/js/load-image-orientation":63}],32:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("../../components/component"),f=a("../../mixins/message-handler"),g=d(f),h=a("../../base"),i=d(h);(0,e.registerMessageComponent)("layer-message-text-plain",{template:'<div class="layer-message-text" layer-id="text"></div>',mixins:[g.default],properties:{label:{label:"Text"},html:{set:function(a){this.parentComponent.isMessageListItem?this.nodes.text.innerHTML=a:this.innerHTML=a}}},methods:{handlesMessage:function(a,b){return"text/plain"===a.parts[0].mimeType},_fixHtml:function(a){return a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;")},onRender:function(){var a=this;i.default.textHandlersOrdered||this._setupOrderedHandlers();var b=this.message.parts[0].body,c={text:this._fixHtml(b),afterText:[],afterClasses:[]};i.default.textHandlersOrdered.forEach(function(b){var d=c.afterText.concat([]);b.handler(c,a.message,Boolean(a.parentComponent&&a.parentComponent.isMessageListItem));var e=c.afterText[c.afterText.length-1];d.indexOf(e)===-1&&(c.afterClasses[c.afterText.length-1]="layer-message-text-plain-"+b.name)}),this.html=c.text,c.afterText.length&&this.parentComponent&&this.parentComponent.isMessageListItem&&c.afterText.forEach(function(b,d){var e=document.createElement("div");e.classList.add("layer-message-text-plain-after-text"),e.classList.add(c.afterClasses[d]),e.innerHTML=b,e.firstChild.properties&&(e.firstChild.properties.parentComponent=a),a.appendChild(e)})},_setupOrderedHandlers:function(){i.default.textHandlersOrdered=Object.keys(i.default.textHandlers).filter(function(a){return i.default.textHandlers[a].enabled}).map(function(a){return i.default.textHandlers[a]}).sort(function(a,b){return a.order>b.order?1:b.order>a.order?-1:0})},onSent:function(){this.onRender()}}})},{"../../base":4,"../../components/component":5,"../../mixins/message-handler":52}],33:[function(a,b,c){"use strict";var d=a("../../components/component"),e=a("../../mixins/message-handler"),f=function(a){return a&&a.__esModule?a:{default:a}}(e);(0,d.registerComponent)("layer-message-unknown",{mixins:[f.default],methods:{onRender:function(){var a=this.message.parts.map(function(a){return a.mimeType}).join(", ");this.innerHTML="Message with mimeTypes "+a+" has been received but has no renderer"}}})},{"../../components/component":5,"../../mixins/message-handler":52}],34:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("../../components/component"),f=a("../../utils/sizing"),g=d(f),h=a("../../base"),i=a("../../mixins/message-handler"),j=d(i);(0,e.registerMessageComponent)("layer-message-video",{mixins:[j.default],template:'<video layer-id="video"></video>',properties:{label:{value:'<i class="fa fa-file-video-o layer-video-message-icon" aria-hidden="true"></i> Video message'},message:{set:function(a){this.properties.video=a.parts.filter(function(a){return"video/mp4"===a.mimeType})[0],this.properties.preview=a.parts.filter(function(a){return"image/jpeg+preview"===a.mimeType})[0];var b=a.parts.filter(function(a){return"application/json+imageSize"===a.mimeType})[0];b&&(this.properties.meta=JSON.parse(b.body)),this.properties.sizes=(0,g.default)(this.properties.meta,{width:h.settings.maxSizes.width,height:h.settings.maxSizes.height}),this.properties.video.url||this.properties.video.fetchStream(),this.properties.video.on("url-loaded",this.onRender,this),this.properties.preview&&(this.properties.preview.url||this.properties.preview.fetchStream(),this.properties.preview.on("url-loaded",this.onRender,this))}}},methods:{handlesMessage:function(a,b){var c=a.parts.filter(function(a){return"video/mp4"===a.mimeType}).length,d=a.parts.filter(function(a){return"image/jpeg+preview"===a.mimeType}).length,e=a.parts.filter(function(a){return"application/json+imageSize"===a.mimeType}).length;return 1===a.parts.length&&c||3===a.parts.length&&1===c&&1===d&&1===e},onRender:function(){this.nodes.video.width=this.properties.sizes.width,this.nodes.video.height=this.properties.sizes.height,this.nodes.video.src=this.properties.video.url,this.properties.preview&&(this.nodes.video.poster=this.properties.preview.url),this.nodes.video.controls=!0}}})},{"../../base":4,"../../components/component":5,"../../mixins/message-handler":52,"../../utils/sizing":58}],35:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("autolinker"),f=d(e),g=a("../../base"),h=d(g),i=new f.default({truncate:{length:40,location:"middle"},className:"layer-parsed-url"});h.default.registerTextHandler({name:"autolinker",order:400,requiresEnable:!0,handler:function(a){a.text=i.link(a.text)}})},{"../../base":4,autolinker:60}],36:[function(a,b,c){"use strict";var d=a("../../base");(function(a){return a&&a.__esModule?a:{default:a}})(d).default.registerTextHandler({name:"code-blocks",order:500,requiresEnable:!0,handler:function(a){var b=a.text.replace(/```[\s\S]*?```/g,function(a){return'<pre class="code_block">'+a.substring(3,a.length-3)+"</pre>"});b=b.replace(/`.*?`/g,function(a){return"<code>"+a.substring(1,a.length-1)+"</code>"}),a.text=b}})},{"../../base":4}],37:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("twemoji"),f=d(e),g=a("remarkable-emoji/setEmoji"),h=d(g);d(a("../../base")).default.registerTextHandler({base:location.protocol+"://twemoji.maxcdn.com/",name:"emoji",order:300,requiresEnable:!0,handler:function(a){var b=a.text.replace(/<br\/>/g," <br/> "),c=(0,h.default)(b),d=!f.default.replace(c,function(){return""}).match(/\S/);b=f.default.parse((0,h.default)(b),{size:d?"36x36":"16x16",className:d?"emoji emoji-line":"emoji"}),b=b.replace(/ <br\/> /g,"<br/>"),a.text=b}})},{"../../base":4,"remarkable-emoji/setEmoji":69,twemoji:70}],38:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("../../base"),f=d(e),g=a("../../utils/is-url"),h=d(g);f.default.registerTextHandler({name:"images",order:100,requiresEnable:!0,handler:function(a){var b=a.text.match((0,h.default)(["png","jpg","jpeg","gif"]));b&&b.forEach(function(b){return a.afterText.push('<img class="layer-parsed-image" src="'+b+'"></img>')})}})},{"../../base":4,"../../utils/is-url":57}],39:[function(a,b,c){"use strict";var d=a("../../base");(function(a){return a&&a.__esModule?a:{default:a}})(d).default.registerTextHandler({name:"newline",order:600,requiresEnable:!0,handler:function(a){function b(a){return Boolean(e.filter(function(b){return a>b[0]&&a<b[1]}).length)}for(var c=a.text,d=[],e=[],f=0;f!==-1;)(f=c.indexOf("```",f))!==-1&&(d.push(f),f+=3);for(var g=1;g<d.length;g++)e.push([d[g-1],d[g]]);c=c.replace(/\n/g,function(a,c){return b(c)?a:"<br/>"}),a.text=c}})},{"../../base":4}],40:[function(a,b,c){"use strict";var d=a("../../base");(function(a){return a&&a.__esModule?a:{default:a}})(d).default.registerTextHandler({name:"youtube",order:200,
requiresEnable:!0,handler:function(a){var b=a.text.match(/https:\/\/(www\.)?(youtu\.be|youtube\.com)\/(watch\?.*?v=)?([a-zA-Z0-9-]+)/g);b&&b.forEach(function(b){var c=void 0,d=b.match(/https:\/\/youtu\.be\/(.*)$/);if(d&&(c=d[1]),!c){var e=b.match(/https:\/\/www\.youtube\.com\/watch\?v=(.*)$/);e&&(c=e[1])}c&&a.afterText.push('<iframe width="560" height="315" src="https://www.youtube.com/embed/'+c+'" frameborder="0" allowfullscreen></iframe>')})}})},{"../../base":4}],41:[function(a,b,c){(function(c){"use strict";var d=a("./layer-ui");a("./adapters/angular"),a("./adapters/backbone"),a("./adapters/react"),a("./components/conversation-list-panel/layer-conversations-list/layer-conversations-list"),a("./components/identities-list-panel/layer-identities-list/layer-identities-list"),a("./components/membership-list-panel/layer-membership-list/layer-membership-list"),a("./components/layer-conversation-panel/layer-conversation-panel"),a("./components/layer-notifier/layer-notifier"),a("./components/subcomponents/layer-file-upload-button/layer-file-upload-button"),a("./components/subcomponents/layer-send-button/layer-send-button"),a("./handlers/message/layer-message-text-plain"),a("./handlers/message/layer-message-image/layer-message-image"),a("./handlers/message/layer-message-video"),a("./handlers/text/autolinker"),a("./handlers/text/code-blocks"),a("./handlers/text/emoji"),a("./handlers/text/images"),a("./handlers/text/newline"),a("./handlers/text/youtube"),a("./utils/date-separator"),d.files=a("./utils/files"),d.animatedScrollTo=a("animated-scrollto"),d.mixins={MessageHandler:a("./mixins/message-handler"),HasQuery:a("./mixins/has-query"),MainComponent:a("./mixins/main-component"),List:a("./mixins/list"),ListItem:a("./mixins/list-item"),ListSelection:a("./mixins/list-selection"),ListItemSelection:a("./mixins/list-item-selection"),FocusOnKeydown:a("./mixins/focus-on-keydown")},b.exports=c.layerUI=d;var d=a("./layer-ui");a("./adapters/angular"),a("./adapters/backbone"),a("./adapters/react"),a("./components/conversation-list-panel/layer-conversations-list/layer-conversations-list"),a("./components/identities-list-panel/layer-identities-list/layer-identities-list"),a("./components/membership-list-panel/layer-membership-list/layer-membership-list"),a("./components/layer-conversation-panel/layer-conversation-panel"),a("./components/layer-notifier/layer-notifier"),a("./components/subcomponents/layer-file-upload-button/layer-file-upload-button"),a("./components/subcomponents/layer-send-button/layer-send-button"),a("./handlers/message/layer-message-text-plain"),a("./handlers/message/layer-message-image/layer-message-image"),a("./handlers/message/layer-message-video"),a("./handlers/text/autolinker"),a("./handlers/text/code-blocks"),a("./handlers/text/emoji"),a("./handlers/text/images"),a("./handlers/text/newline"),a("./handlers/text/youtube"),a("./utils/date-separator"),d.files=a("./utils/files"),d.animatedScrollTo=a("animated-scrollto"),d.mixins={MessageHandler:a("./mixins/message-handler"),HasQuery:a("./mixins/has-query"),MainComponent:a("./mixins/main-component"),List:a("./mixins/list"),ListItem:a("./mixins/list-item"),ListSelection:a("./mixins/list-selection"),ListItemSelection:a("./mixins/list-item-selection"),FocusOnKeydown:a("./mixins/focus-on-keydown")},b.exports=c.layerUI=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./adapters/angular":1,"./adapters/backbone":2,"./adapters/react":3,"./components/conversation-list-panel/layer-conversations-list/layer-conversations-list":8,"./components/identities-list-panel/layer-identities-list/layer-identities-list":9,"./components/layer-conversation-panel/layer-conversation-panel":11,"./components/layer-notifier/layer-notifier":12,"./components/membership-list-panel/layer-membership-list/layer-membership-list":14,"./components/subcomponents/layer-file-upload-button/layer-file-upload-button":26,"./components/subcomponents/layer-send-button/layer-send-button":29,"./handlers/message/layer-message-image/layer-message-image":31,"./handlers/message/layer-message-text-plain":32,"./handlers/message/layer-message-video":34,"./handlers/text/autolinker":35,"./handlers/text/code-blocks":36,"./handlers/text/emoji":37,"./handlers/text/images":38,"./handlers/text/newline":39,"./handlers/text/youtube":40,"./layer-ui":42,"./mixins/focus-on-keydown":44,"./mixins/has-query":45,"./mixins/list":50,"./mixins/list-item":47,"./mixins/list-item-selection":46,"./mixins/list-selection":49,"./mixins/main-component":51,"./mixins/message-handler":52,"./utils/date-separator":55,"./utils/files":56,"animated-scrollto":59}],42:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function d(a){return a&&a.__esModule?a:{default:a}}a("webcomponents.js/webcomponents-lite");var e=a("./base"),f=d(e),g=a("./components/component");a("./handlers/message/layer-message-unknown"),a("webcomponents.js/webcomponents-lite");var e=a("./base"),f=d(e),g=a("./components/component");a("./handlers/message/layer-message-unknown"),f.default.registerComponent=g.registerComponent,f.default.registerMessageComponent=g.registerMessageComponent,f.default.unregisterComponent=g.unregisterComponent,f.default.init=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(a).forEach(function(b){f.default.settings[b]=a[b]}),f.default.settings.mixins||(f.default.settings.mixins=[]),(0,g.registerAll)(),f.default.settings.textHandlers.forEach(function(a){f.default.registerTextHandler({name:a})})},b.exports=f.default,f.default.registerComponent=g.registerComponent,f.default.registerMessageComponent=g.registerMessageComponent,f.default.unregisterComponent=g.unregisterComponent,f.default.init=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(a).forEach(function(b){f.default.settings[b]=a[b]}),f.default.settings.mixins||(f.default.settings.mixins=[]),(0,g.registerAll)(),f.default.settings.textHandlers.forEach(function(a){f.default.registerTextHandler({name:a})})},b.exports=f.default},{"./base":4,"./components/component":5,"./handlers/message/layer-message-unknown":33,"webcomponents.js/webcomponents-lite":71}],43:[function(a,b,c){"use strict";b.exports={properties:{isEmptyList:{value:!1,set:function(a){this.nodes.emptyNode.style.display=a?"":"none"}},emptyNode:{set:function(a){this.nodes.emptyNode.innerHTML="",a&&this.nodes.emptyNode.appendChild(a)}}},methods:{onRender:function(){this.nodes.emptyNode.style.display=this.isEmptyList?"":"none",this.emptyNode&&this.nodes.emptyNode.appendChild(this.emptyNode)},onRerender:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.query.isDestroyed?this.isEmptyList=!1:this.isEmptyList="reset"!==a.type&&0===this.query.data.length}}}},{}],44:[function(a,b,c){"use strict";b.exports={methods:{onCreate:function(){this.addEventListener("keydown",this._onKeyDown.bind(this));var a=document.head?document.head.tabIndex:null;""!==this.tabIndex&&this.tabIndex!==-1&&this.tabIndex!==a||(this.tabIndex=-1)},_onKeyDown:function(a){var b=a.keyCode,c=a.metaKey,d=a.ctrlKey;c||d||(b>=65&&b<=90||b>=48&&b<=57||b>=97&&b<=111||b>=186&&b<=191||[32,219,220,222].indexOf(b)!==-1)&&["INPUT","TEXTAREA"].indexOf(document.activeElement.tagName)===-1&&this.onKeyDown()}}}},{}],45:[function(a,b,c){"use strict";var d=a("layer-websdk"),e=function(a){return a&&a.__esModule?a:{default:a}}(d);b.exports={properties:{client:{set:function(a){a&&(this.queryId&&(this.query=a.getQuery(this.queryId)),this.properties._isMainComponent&&this.useGeneratedQuery&&this._setupGeneratedQuery())}},queryId:{set:function(a){a&&0!==a.indexOf("layer:///")&&(this.properties.queryId=""),this.client&&(this.query=this.queryId?this.client.getQuery(this.queryId):null)}},query:{set:function(a,b){b&&b.off(null,null,this),a instanceof e.default.Query?this._updateQuery():this.properties.query=null,this.properties._isMainComponent&&this.hasGeneratedQuery&&(this.hasGeneratedQuery=!1,b.destroy())}},hasGeneratedQuery:{value:!1,type:Boolean},useGeneratedQuery:{value:!0,type:Boolean},pageSize:{value:50}},methods:{_setupGeneratedQuery:function(){this._queryModel&&!this.properties.query&&this.client&&!this.client.isDestroyed&&(this.query=this.client.createQuery({model:this._queryModel,dataType:e.default.Query.InstanceDataType,paginationWindow:this.pageSize||50,sortBy:this.sortBy}),this.hasGeneratedQuery=!0)},_updateQuery:function(){this.client=this.query.client,this.onRender(),this.query.on("change",this.onRerender,this)}}}},{"layer-websdk":66}],46:[function(a,b,c){"use strict";b.exports={properties:{isSelected:{type:Boolean,set:function(a){this.toggleClass("layer-selected-item",a),this.onSelection(a)}}},methods:{onSelection:function(a){}}}},{}],47:[function(a,b,c){"use strict";b.exports={properties:{_isListItem:{value:!0},customNodeAbove:{set:function(a){if(this.properties._customNodeAbove&&this.removeChild(this.properties._customNodeAbove),a&&"string"==typeof a){var b=a;a=document.createElement("div"),a.innerHTML=b,this.properties.customNodeAbove=a}a?this.insertBefore(a,this.querySelector(".layer-list-item")):this.properties.customNodeAbove=null,this.properties._customNodeAbove=a}},customNodeBelow:{set:function(a){if(this.properties._customNodeBelow&&this.removeChild(this.properties._customNodeBelow),a&&"string"==typeof a){var b=a;a=document.createElement("div"),a.innerHTML=b,this.properties.customNodeBelow=a}a?this.appendChild(a):this.properties.customNodeBelow=null,this.properties._customNodeBelow=a}},innerNode:{},firstInSeries:{type:Boolean,value:!1,set:function(a){this.toggleClass("layer-list-item-first",a)}},lastInSeries:{type:Boolean,value:!1,set:function(a){this.toggleClass("layer-list-item-last",a)}},item:{set:function(a,b){var c=this;b&&b.off(null,null,this),a&&a.on(a.constructor.eventPrefix+":change",this.onRerender,this),Object.keys(this.nodes).forEach(function(b){c.nodes[b].item=a}),this.onRender()}}},methods:{onCreate:function(){this.innerNode=this.querySelector(".layer-list-item")},onRender:{conditional:function(){return Boolean(this.item)}},addClass:function(a){this.classList.add(a)},removeClass:function(a){this.classList.remove(a)},toggleClass:function(a){var b=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.classList[b?"add":"remove"](a)}}}},{}],48:[function(a,b,c){"use strict";b.exports={properties:{isDataLoading:{set:function(a){this.classList[a?"add":"remove"]("layer-loading-data")}},dataLoadingNode:{set:function(a){this.nodes.loadIndicator.innerHTML="",a&&this.nodes.loadIndicator.appendChild(a)}}},methods:{onRender:function(){this.dataLoadingNode&&this.nodes.loadIndicator.appendChild(this.dataLoadingNode)}}}},{}],49:[function(a,b,c){"use strict";b.exports={properties:{selectedId:{set:function(a,b){var c=this.client.getObject(a);if(!c&&!b||this.trigger(this._selectedItemEventName,{item:c})){if(b){var d=this.querySelector("#"+this._getItemId(b));d&&(d.isSelected=!1)}if(a){var e=this.querySelector("#"+this._getItemId(a));e&&(e.isSelected=!0)}}else this.properties.selectedId=b}}},methods:{onCreate:function(){this.addEventListener("click",this._onClick.bind(this))},onAfterCreate:function(){this.properties._selectedItemEventName||(this.properties._selectedItemEventName="layer-item-selected")},_onClick:function(a){for(var b=a.target;b&&b!==this&&!b._isListItem;)b=b.parentNode;b.item&&b._isListItem&&(a.preventDefault(),a.stopPropagation(),this.selectedId=b.item.id),this.onClick(a)},onClick:function(a){},onGenerateListItem:function(a){a.item.id===this.selectedId&&(a.isSelected=!0)}}}},{}],50:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("layer-websdk"),f=d(e),g=a("../base"),h=a("../components/component"),i=a("./has-query"),j=d(i);b.exports={mixins:[j.default],properties:{_isList:{value:!0},isDataLoading:{},onRenderListItem:{type:Function},pageSize:{value:50},throttlerTimeout:{value:66},state:{set:function(a){Array.prototype.slice.call(this.childNodes).forEach(function(b){b.state=a})}},filter:{set:function(a){this._runFilter()}}},methods:{onCreate:function(){this.id||(this.id=f.default.Util.generateUUID()),this.properties.listData=[],this.addEventListener("scroll",this._onScroll.bind(this)),this.onRender()},_onScroll:function(a){this.properties.isSelfScrolling?a.preventDefault():this._throttler(this._handleScroll.bind(this))},_throttler:function(a){var b=this;this.properties.throttleTimeout||(this.properties.throttleTimeout=setTimeout(function(){b.properties.throttleTimeout=null,a()},this.throttlerTimeout))},_updateQuery:function(){this.query.on("change:property",this._runFilter,this)},_handleScroll:function(){this.scrollTop>=this.scrollHeight-this.clientHeight-20&&this.scrollTop>0&&(this.query.update({paginationWindow:this.query.paginationWindow+this.pageSize}),this.isDataLoading=this.properties.query.isFiring)},scrollTo:function(a){a!==this.scrollTop&&(this.scrollTop=a)},animatedScrollTo:function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,d=arguments[2];this.properties.cancelAnimatedScroll&&this.properties.cancelAnimatedScroll();var e=this.properties.cancelAnimatedScroll=(0,g.animatedScrollTo)(this,a,c,function(){e===b.properties.cancelAnimatedScroll&&(b.properties.cancelAnimatedScroll=null,d&&d())})},scrollToItem:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments[2],d=document.getElementById(this._getItemId(a.id));if(!d)return!1;var e=d.offsetTop-this.offsetTop;return b?this.animatedScrollTo(e,b,c):this.scrollTop=e,!0},onRender:function(){var a=this;Array.prototype.slice.call(this.childNodes).forEach(function(b){b._isListItem&&a.removeChild(b)}),this.query&&this.query.size&&this.onRerender({type:"data",data:this.query.data,inRender:!0})},onRerender:{mode:h.registerComponent.MODES.BEFORE,value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.query.isDestroyed?this._renderResetData(a):this._processQueryEvt(a)}},_generateFragment:function(a,b){var c=this;return b||(b=document.createDocumentFragment()),a.forEach(function(a,d){c._generateFragmentItem(a,b)},this),b},_getItemId:function(a){return"list-item-"+this.id+"-"+a.replace(/[^a-zA-Z0-9-_]/g,"-").replace(/-+/g,"-")},_generateFragmentItem:function(a,b){var c=a instanceof f.default.Root?a:this.client.getObject(a.id);if(c){var d=this._generateItem(c);d.parentComponent=this,d.setAttribute("layer-item-id",a.id.replace(/^layer:\/\/\//,"").replace(/\//g,"_")),d&&(this.onGenerateListItem(d),b.appendChild(d))}},onGenerateListItem:function(a){},_gatherAndProcessAffectedItems:function(a,b){var c=this;if(a.length){var d=a.map(function(a){return c._getItemId(a.id)}),e=this.querySelectorAllArray("#"+d.join(", #"));this._processAffectedWidgets(e,b)}},_processAffectedWidgets:function(a,b){for(var c=this,d=void 0,e=0;e<this.properties.listData.length;e++)if(a.length&&a[0].item.id===this.properties.listData[e].id){d=e;break}this._processAffectedWidgetsCustom(a,d,b),a.forEach(function(a,e){if(c.properties.onRenderListItem)try{c.properties.onRenderListItem(a,c.properties.listData,d+e,b)}catch(b){console.error("Error in onRenderListItem for "+a.item.id+"; "+b)}},this)},_processAffectedWidgetsCustom:function(a,b,c){},_processQueryEvt:function(a){switch(a.type){case"data":this._renderPagedData(a);break;case"insert":this._renderInsertedData(a);break;case"remove":this._renderWithoutRemovedData(a);break;case"reset":this._renderResetData(a);break;case"move":this._renderMovedData(a)}},_renderResetData:function(a){this.properties.listData=[],this.scrollTo(0),this.onRender()},_renderMovedData:function(a){var b=a.fromIndex,c=a.toIndex,d=this.childNodes[b];this.removeChild(d),this.insertBefore(d,this.childNodes[c]),a.inRender||this.onRerender()},_renderWithoutRemovedData:function(a){this.properties.listData=[].concat(this.properties.query.data);var b=a.index,c=this.properties.listData.slice(Math.max(0,b-3),b+3),d=this.querySelector("#"+this._getItemId(a.target.id));d&&this.removeChild(d),this._gatherAndProcessAffectedItems(c,!1)},_renderInsertedData:function(a){this.properties.listData=[].concat(this.properties.query.data);var b=a.index,c=this.properties.listData.slice(Math.max(0,b-3),b+4),d=this._generateFragment([a.target]);this.insertBefore(d,this.childNodes[b]),this._gatherAndProcessAffectedItems(c,0===b)},_renderPagedData:function(a){var b=this.properties.listData.slice(this.properties.listData.length-3,this.properties.listData.length).concat(a.data);this.properties.listData=[].concat(this.properties.query.data);var c=this._generateFragment(a.data);this.insertBefore(c,this.nodes.loadIndicator),this._gatherAndProcessAffectedItems(b,a.data.length===this.properties.query.data.length),this.isDataLoading=this.properties.query.isFiring,a.inRender||this.onRerender()},_runFilter:function(){if(this.filter)for(var a=0;a<this.childNodes.length;a++){var b=this.childNodes[a];b.item instanceof f.default.Root&&b._runFilter(this.filter)}else this.querySelectorAllArray(".layer-item-filtered").forEach(function(a){return a.removeClass("layer-item-filtered")})}}}},{"../base":4,"../components/component":5,"./has-query":45,"layer-websdk":66}],51:[function(a,b,c){"use strict";var d=a("layer-websdk"),e=function(a){return a&&a.__esModule?a:{default:a}}(d),f=a("../base");b.exports={properties:{_isMainComponent:{value:!0},appId:{order:1,set:function(a){var b=this;if(a&&0===a.indexOf("layer:///")){var c=e.default.Client.getClient(a);if(c)this.client=c;else{if(!e.default.Client.addListenerForNewClient)throw new Error("You must create a layer.Client with your appId before creating this component. Or upgrade to Layer WebSDK 3.2.2 or above.");e.default.Client.addListenerForNewClient(function(a){return b.client=a},a)}}}},client:{order:2,set:function(a){var b=this;a&&(a.telemetryMonitor&&a.telemetryMonitor.on("telemetry-environment",function(a){a.environment.layer_ui_sdk_version=f.version}),a.on("destroy",function(c){c.target===a&&(b.properties.client=null)},this))}}},methods:{onCreate:function(){f.settings.appId&&(this.appId=f.settings.appId),navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&this.classList.add("safari")}}}},{"../base":4,"layer-websdk":66}],52:[function(a,b,c){"use strict";var d=a("../components/component");b.exports={properties:{message:{mode:d.registerComponent.MODES.AFTER,set:function(){this.onRender(),this.message.on("messages:change",this._onChange,this),this.message.isNew()&&this.message.once("messages:sent",this.onSent,this)}}},methods:{onRender:{conditional:function(){return Boolean(this.message&&!this.message.isDestroyed)},mode:d.registerComponent.MODES.AFTER,value:function(){this.onRerender()}},onRerender:function(){},_onChange:function(){this.message.isNew()?this.onRender():this.onRerender()},onSent:function(){}}}},{"../components/component":5}],53:[function(a,b,c){"use strict";b.exports={properties:{isEndOfResults:{value:!1,set:function(a){this.classList[a&&!this.isEmptyList?"add":"remove"]("layer-end-of-results")}},endOfResultsNode:{set:function(a){this.nodes.endOfResultsNode.innerHTML="",a&&this.nodes.endOfResultsNode.appendChild(a)}}},methods:{onRender:function(){this.endOfResultsNode&&this.nodes.endOfResultsNode.appendChild(this.endOfResultsNode)},_renderPagedDataDone:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.query.isDestroyed?this.isEndOfResults=!1:this.isEndOfResults=this.query.pagedToEnd}}}},{}],54:[function(a,b,c){"use strict";b.exports={properties:{state:{propagateToChildren:!0,set:function(a){this.onRenderState&&this.onRenderState()}}}}},{}],55:[function(a,b,c){"use strict";var d=a("../base"),e=function(a){return a&&a.__esModule?a:{default:a}}(d);b.exports=d.utils.dateSeparator=function(a,b,c){if(!(c>b.length)){var d=a.item;if(0===c||d.sentAt.toDateString()!==b[c-1].sentAt.toDateString()){var f={weekday:"long",year:"numeric",month:"short",day:"2-digit"},g=b[c].sentAt.toLocaleDateString(void 0,f);e.default.addListItemSeparator(a,"<span>"+g+"</span>","layer-list-item-separator-date",!0)}else e.default.addListItemSeparator(a,"","layer-list-item-separator-date",!0)}}},{"../base":4}],56:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("blueimp-load-image/js/load-image"),f=d(e);a("blueimp-load-image/js/load-image-orientation"),a("blueimp-load-image/js/load-image-meta"),a("blueimp-load-image/js/load-image-exif");var g=a("layer-websdk"),h=d(g),i=a("../base"),j=d(i),k=a("./sizing"),l=d(k),m={};b.exports=m,window.loadImage=f.default,m.DragAndDropFileWatcher=function(a){this.node="string"==typeof a.node?document.getElementById(a.node):a.node,this.callback=a.callback,this.allowDocumentDrop=Boolean(a.allowDocumentDrop),this.onDragOverBound=this.onDragOver.bind(this),this.onDragEndBound=this.onDragEnd.bind(this),this.onFileDropBound=this.onFileDrop.bind(this),this.ignoreDropBound=this.ignoreDrop.bind(this),this.node.addEventListener("dragover",this.onDragOverBound,!1),this.node.addEventListener("dragenter",this.onDragOverBound,!1),this.node.addEventListener("dragend",this.onDragEndBound,!1),this.node.addEventListener("dragleave",this.onDragEndBound,!1),this.node.addEventListener("drop",this.onFileDropBound,!1),this.allowDocumentDrop||(document.addEventListener("drop",this.ignoreDropBound,!1),document.addEventListener("dragenter",this.ignoreDropBound,!1),document.addEventListener("dragover",this.ignoreDropBound,!1))},m.DragAndDropFileWatcher.prototype.destroy=function(){this.node.removeEventListener("dragover",this.onDragOverBound,!1),this.node.removeEventListener("dragenter",this.onDragOverBound,!1),this.node.removeEventListener("dragend",this.onDragEndBound,!1),this.node.removeEventListener("dragleave",this.onDragEndBound,!1),this.node.removeEventListener("drop",this.onFileDropBound,!1),this.allowDocumentDrop||(document.removeEventListener("drop",this.ignoreDropBound,!1),document.removeEventListener("dragenter",this.ignoreDropBound,!1),document.removeEventListener("dragover",this.ignoreDropBound,!1)),delete this.node,delete this.callback},m.DragAndDropFileWatcher.prototype.ignoreDrop=function(a){return a.preventDefault&&(a.preventDefault(),a.stopPropagation()),!1},m.DragAndDropFileWatcher.prototype.onDragOver=function(a){return this.node.classList.add("layer-file-drag-and-drop-hover"),a.preventDefault(),!1},m.DragAndDropFileWatcher.prototype.onDragEnd=function(a){this.node.classList.remove("layer-file-drag-and-drop-hover")},m.DragAndDropFileWatcher.prototype.onFileDrop=function(a){this.onDragEnd(),a.preventDefault&&(a.preventDefault(),a.stopPropagation());var b=a.dataTransfer,c=Array.prototype.map.call(b.files,function(a){return new h.default.MessagePart(a)});return m.processAttachments(c,this.callback),!1},m.processAttachments=function(a,b){a.forEach(function(a){["image/gif","image/png","image/jpeg"].indexOf(a.mimeType)!==-1?m.generateImageMessageParts(a,b):"video/mp4"===a.mimeType?m.generateVideoMessageParts(a,b):b&&b([a])})},m.generateImageMessageParts=function(a,b){function c(b){var c={canvas:!0};b.imageHead&&b.exif&&(g=c.orientation=b.exif[274]||g),(0,f.default)(a.body,d,c)}function d(a){var c={width:a.width,height:a.height},d=(0,l.default)(c,j.default.settings.maxSizes),f=document.createElement("canvas");f.width=d.width,f.height=d.height;var i=f.getContext("2d");i.fillStyle=i.strokeStyle="white",i.fillRect(0,0,d.width,d.height),i.drawImage(a,0,0,d.width,d.height);for(var k=atob(f.toDataURL("image/jpeg").split(",")[1]),m=k.length,n=new Uint8Array(m),o=0;o<m;o++)n[o]=k.charCodeAt(o);var p=new Blob([n],{type:"image/jpeg"});e.push(new h.default.MessagePart({body:p,mimeType:"image/jpeg+preview"})),e.push(new h.default.MessagePart({mimeType:"application/json+imageSize",body:JSON.stringify({orientation:g,width:c.width,height:c.height,previewWidth:f.width,previewHeight:f.height})})),b(e)}var e=[a],g=0;f.default.parseMetaData(a.body,c)},m.generateVideoMessageParts=function(a,b){var c=[a],d=document.createElement("video");d.addEventListener("loadedmetadata",function(){var a={width:d.videoWidth,height:d.videoHeight},e=(0,l.default)(a,j.default.settings.maxSizes),f=document.createElement("canvas");f.width=e.width,f.height=e.height,f.getContext("2d").drawImage(d,0,0,f.width,f.height);for(var g=atob(f.toDataURL("image/jpeg").split(",")[1]),i=g.length,k=new Uint8Array(i),m=0;m<i;m++)k[m]=g.charCodeAt(m);c.push(new h.default.MessagePart({body:new Blob([k],{type:"image/jpeg"}),mimeType:"image/jpeg+preview"})),c.push(new h.default.MessagePart({mimeType:"application/json+imageSize",body:'{"orientation":0, "width":'+a.width+', "height":'+a.height+"}"})),b&&b(c)}),d.src=URL.createObjectURL(a.body)}},{"../base":4,"./sizing":58,"blueimp-load-image/js/load-image":65,"blueimp-load-image/js/load-image-exif":61,"blueimp-load-image/js/load-image-meta":62,"blueimp-load-image/js/load-image-orientation":63,"layer-websdk":66}],57:[function(a,b,c){"use strict";b.exports=function(a){var b="?";return a&&(b=".("+a.join("|")+")"),new RegExp("(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)"+b,"igm")}},{}],58:[function(a,b,c){"use strict";b.exports=function(a,b){if(!a)return b;var c={width:a.previewWidth||a.width,height:a.previewHeight||a.height};if(c.width>b.width){var d=c.width;c.width=b.width,c.height=c.height*b.width/d}if(c.height>b.height){var e=c.height;c.height=b.height,c.width=c.width*b.height/e}return{width:Math.round(c.width),height:Math.round(c.height)}}},{}],59:[function(a,b,c){!function(a){var c=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)}}(),d=function(a,b,c,d){return(a/=d/2)<1?c/2*a*a+b:(a--,-c/2*(a*(a-2)-1)+b)},e=function(a,b,e,f){var g=a.scrollTop,h=b-g,i=+new Date,j=!0,k=null,l=function(){if(j){c(l);var m=+new Date,n=Math.floor(d(m-i,g,h,e));k?k===a.scrollTop?(k=n,a.scrollTop=n):j=!1:(k=n,a.scrollTop=n),m>i+e&&(a.scrollTop=b,j=!1,f&&f())}};return c(l),function(){j=!1}},f=function(a,b,e,f){var g=a.scrollLeft,h=b-g,i=+new Date,j=!0,k=null,l=function(){if(j){c(l);var m=+new Date,n=Math.floor(d(m-i,g,h,e));k?k===a.scrollLeft?(k=n,a.scrollLeft=n):j=!1:(k=n,a.scrollLeft=n),m>i+e&&(a.scrollLeft=b,j=!1,f&&f())}};return c(l),function(){j=!1}};void 0!==b&&void 0!==b.exports?b.exports={animatedScrollTo:e,animatedScrollLeftTo:f}:(a.animatedScrollTo=e,a.animatedScrollLeftTo=f)}(window)},{}],60:[function(a,b,c){!function(a,d){"function"==typeof define&&define.amd?define([],d):"object"==typeof c?b.exports=d():a.Autolinker=d()}(this,function(){var a=function(b){b=b||{},this.version=a.version,this.urls=this.normalizeUrlsCfg(b.urls),this.email="boolean"!=typeof b.email||b.email,this.phone="boolean"!=typeof b.phone||b.phone,this.hashtag=b.hashtag||!1,this.mention=b.mention||!1,this.newWindow="boolean"!=typeof b.newWindow||b.newWindow,this.stripPrefix=this.normalizeStripPrefixCfg(b.stripPrefix),this.stripTrailingSlash="boolean"!=typeof b.stripTrailingSlash||b.stripTrailingSlash;var c=this.mention;if(c!==!1&&"twitter"!==c&&"instagram"!==c)throw new Error("invalid `mention` cfg - see docs");var d=this.hashtag;if(d!==!1&&"twitter"!==d&&"facebook"!==d&&"instagram"!==d)throw new Error("invalid `hashtag` cfg - see docs");this.truncate=this.normalizeTruncateCfg(b.truncate),this.className=b.className||"",this.replaceFn=b.replaceFn||null,this.context=b.context||this,this.htmlParser=null,this.matchers=null,this.tagBuilder=null};return a.link=function(b,c){return new a(c).link(b)},a.parse=function(b,c){return new a(c).parse(b)},a.version="1.4.2",a.prototype={constructor:a,normalizeUrlsCfg:function(a){return null==a&&(a=!0),"boolean"==typeof a?{schemeMatches:a,wwwMatches:a,tldMatches:a}:{schemeMatches:"boolean"!=typeof a.schemeMatches||a.schemeMatches,wwwMatches:"boolean"!=typeof a.wwwMatches||a.wwwMatches,tldMatches:"boolean"!=typeof a.tldMatches||a.tldMatches}},normalizeStripPrefixCfg:function(a){return null==a&&(a=!0),"boolean"==typeof a?{scheme:a,www:a}:{scheme:"boolean"!=typeof a.scheme||a.scheme,www:"boolean"!=typeof a.www||a.www}},normalizeTruncateCfg:function(b){return"number"==typeof b?{length:b,location:"end"}:a.Util.defaults(b||{},{length:Number.POSITIVE_INFINITY,location:"end"})},parse:function(a){for(var b=this.getHtmlParser(),c=b.parse(a),d=0,e=[],f=0,g=c.length;f<g;f++){var h=c[f],i=h.getType();if("element"===i&&"a"===h.getTagName())h.isClosing()?d=Math.max(d-1,0):d++;else if("text"===i&&0===d){var j=this.parseText(h.getText(),h.getOffset());e.push.apply(e,j)}}return e=this.compactMatches(e),e=this.removeUnwantedMatches(e)},compactMatches:function(a){a.sort(function(a,b){return a.getOffset()-b.getOffset()});for(var b=0;b<a.length-1;b++)for(var c=a[b],d=c.getOffset()+c.getMatchedText().length;b+1<a.length&&a[b+1].getOffset()<=d;)a.splice(b+1,1);return a},removeUnwantedMatches:function(b){var c=a.Util.remove;return this.hashtag||c(b,function(a){return"hashtag"===a.getType()}),this.email||c(b,function(a){return"email"===a.getType()}),this.phone||c(b,function(a){return"phone"===a.getType()}),this.mention||c(b,function(a){return"mention"===a.getType()}),this.urls.schemeMatches||c(b,function(a){return"url"===a.getType()&&"scheme"===a.getUrlMatchType()}),this.urls.wwwMatches||c(b,function(a){return"url"===a.getType()&&"www"===a.getUrlMatchType()}),this.urls.tldMatches||c(b,function(a){return"url"===a.getType()&&"tld"===a.getUrlMatchType()}),b},parseText:function(a,b){b=b||0;for(var c=this.getMatchers(),d=[],e=0,f=c.length;e<f;e++){for(var g=c[e].parseMatches(a),h=0,i=g.length;h<i;h++)g[h].setOffset(b+g[h].getOffset());d.push.apply(d,g)}return d},link:function(a){if(!a)return"";for(var b=this.parse(a),c=[],d=0,e=0,f=b.length;e<f;e++){var g=b[e];c.push(a.substring(d,g.getOffset())),c.push(this.createMatchReturnVal(g)),d=g.getOffset()+g.getMatchedText().length}return c.push(a.substring(d)),c.join("")},createMatchReturnVal:function(b){var c;return this.replaceFn&&(c=this.replaceFn.call(this.context,b)),"string"==typeof c?c:c===!1?b.getMatchedText():c instanceof a.HtmlTag?c.toAnchorString():b.buildTag().toAnchorString()},getHtmlParser:function(){var b=this.htmlParser;return b||(b=this.htmlParser=new a.htmlParser.HtmlParser),b},getMatchers:function(){if(this.matchers)return this.matchers;var b=a.matcher,c=this.getTagBuilder(),d=[new b.Hashtag({tagBuilder:c,serviceName:this.hashtag}),new b.Email({tagBuilder:c}),new b.Phone({tagBuilder:c}),new b.Mention({tagBuilder:c,serviceName:this.mention}),new b.Url({tagBuilder:c,stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash})];return this.matchers=d},getTagBuilder:function(){var b=this.tagBuilder;return b||(b=this.tagBuilder=new a.AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),b}},a.match={},a.matcher={},a.htmlParser={},a.truncate={},a.Util={abstractMethod:function(){throw"abstract"},trimRegex:/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,assign:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},defaults:function(a,b){for(var c in b)b.hasOwnProperty(c)&&void 0===a[c]&&(a[c]=b[c]);return a},extend:function(b,c){var d=b.prototype,e=function(){};e.prototype=d;var f;f=c.hasOwnProperty("constructor")?c.constructor:function(){d.constructor.apply(this,arguments)};var g=f.prototype=new e;return g.constructor=f,g.superclass=d,delete c.constructor,a.Util.assign(g,c),f},ellipsis:function(a,b,c){var d;return a.length>b&&(null==c?(c="&hellip;",d=3):d=c.length,a=a.substring(0,b-d)+c),a},indexOf:function(a,b){
if(Array.prototype.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},remove:function(a,b){for(var c=a.length-1;c>=0;c--)b(a[c])===!0&&a.splice(c,1)},splitAndCapture:function(a,b){if(!b.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var c,d=[],e=0;c=b.exec(a);)d.push(a.substring(e,c.index)),d.push(c[0]),e=c.index+c[0].length;return d.push(a.substring(e)),d},trim:function(a){return a.replace(this.trimRegex,"")}},a.HtmlTag=a.Util.extend(Object,{whitespaceRegex:/\s+/,constructor:function(b){a.Util.assign(this,b),this.innerHtml=this.innerHtml||this.innerHTML},setTagName:function(a){return this.tagName=a,this},getTagName:function(){return this.tagName||""},setAttr:function(a,b){return this.getAttrs()[a]=b,this},getAttr:function(a){return this.getAttrs()[a]},setAttrs:function(b){var c=this.getAttrs();return a.Util.assign(c,b),this},getAttrs:function(){return this.attrs||(this.attrs={})},setClass:function(a){return this.setAttr("class",a)},addClass:function(b){for(var c,d=this.getClass(),e=this.whitespaceRegex,f=a.Util.indexOf,g=d?d.split(e):[],h=b.split(e);c=h.shift();)f(g,c)===-1&&g.push(c);return this.getAttrs().class=g.join(" "),this},removeClass:function(b){for(var c,d=this.getClass(),e=this.whitespaceRegex,f=a.Util.indexOf,g=d?d.split(e):[],h=b.split(e);g.length&&(c=h.shift());){var i=f(g,c);i!==-1&&g.splice(i,1)}return this.getAttrs().class=g.join(" "),this},getClass:function(){return this.getAttrs().class||""},hasClass:function(a){return(" "+this.getClass()+" ").indexOf(" "+a+" ")!==-1},setInnerHtml:function(a){return this.innerHtml=a,this},getInnerHtml:function(){return this.innerHtml||""},toAnchorString:function(){var a=this.getTagName(),b=this.buildAttrsStr();return b=b?" "+b:"",["<",a,b,">",this.getInnerHtml(),"</",a,">"].join("")},buildAttrsStr:function(){if(!this.attrs)return"";var a=this.getAttrs(),b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c+'="'+a[c]+'"');return b.join(" ")}}),a.RegexLib=function(){var a="A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",b=a+"0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９";return{alphaNumericCharsStr:b,alphaCharsStr:a,domainNameRegex:new RegExp("["+b+".\\-]*["+b+"\\-]")}}(),a.AnchorTagBuilder=a.Util.extend(Object,{constructor:function(a){a=a||{},this.newWindow=a.newWindow,this.truncate=a.truncate,this.className=a.className},build:function(b){return new a.HtmlTag({tagName:"a",attrs:this.createAttrs(b),innerHtml:this.processAnchorText(b.getAnchorText())})},createAttrs:function(a){var b={href:a.getAnchorHref()},c=this.createCssClass(a);return c&&(b.class=c),this.newWindow&&(b.target="_blank",b.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<a.getAnchorText().length&&(b.title=a.getAnchorHref()),b},createCssClass:function(a){var b=this.className;if(b){for(var c=[b],d=a.getCssClassSuffixes(),e=0,f=d.length;e<f;e++)c.push(b+"-"+d[e]);return c.join(" ")}return""},processAnchorText:function(a){return a=this.doTruncate(a)},doTruncate:function(b){var c=this.truncate;if(!c||!c.length)return b;var d=c.length,e=c.location;return"smart"===e?a.truncate.TruncateSmart(b,d):"middle"===e?a.truncate.TruncateMiddle(b,d):a.truncate.TruncateEnd(b,d)}}),a.htmlParser.HtmlParser=a.Util.extend(Object,{htmlRegex:function(){var a=/[^\s"'>\/=\x00-\x1F\x7F]+/.source+"(?:\\s*=\\s*"+/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/.source+")?";return new RegExp(["(?:","<(!DOCTYPE)","(?:","\\s+","(?:",a,"|",/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/.source+")",")*",">",")","|","(?:","<(/)?","(?:",/!--([\s\S]+?)--/.source,"|","(?:","("+/[0-9a-zA-Z][0-9a-zA-Z:]*/.source+")","\\s*/?",")","|","(?:","("+/[0-9a-zA-Z][0-9a-zA-Z:]*/.source+")","\\s+","(?:","(?:\\s+|\\b)",a,")*","\\s*/?",")",")",">",")"].join(""),"gi")}(),htmlCharacterEntitiesRegex:/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,parse:function(a){for(var b,c,d=this.htmlRegex,e=0,f=[];null!==(b=d.exec(a));){var g=b[0],h=b[3],i=b[1]||b[4]||b[5],j=!!b[2],k=b.index,l=a.substring(e,k);l&&(c=this.parseTextAndEntityNodes(e,l),f.push.apply(f,c)),h?f.push(this.createCommentNode(k,g,h)):f.push(this.createElementNode(k,g,i,j)),e=k+g.length}if(e<a.length){var m=a.substring(e);m&&(c=this.parseTextAndEntityNodes(e,m),c.forEach(function(a){f.push(a)}))}return f},parseTextAndEntityNodes:function(b,c){for(var d=[],e=a.Util.splitAndCapture(c,this.htmlCharacterEntitiesRegex),f=0,g=e.length;f<g;f+=2){var h=e[f],i=e[f+1];h&&(d.push(this.createTextNode(b,h)),b+=h.length),i&&(d.push(this.createEntityNode(b,i)),b+=i.length)}return d},createCommentNode:function(b,c,d){return new a.htmlParser.CommentNode({offset:b,text:c,comment:a.Util.trim(d)})},createElementNode:function(b,c,d,e){return new a.htmlParser.ElementNode({offset:b,text:c,tagName:d.toLowerCase(),closing:e})},createEntityNode:function(b,c){return new a.htmlParser.EntityNode({offset:b,text:c})},createTextNode:function(b,c){return new a.htmlParser.TextNode({offset:b,text:c})}}),a.htmlParser.HtmlNode=a.Util.extend(Object,{offset:void 0,text:void 0,constructor:function(b){if(a.Util.assign(this,b),null==this.offset)throw new Error("`offset` cfg required");if(null==this.text)throw new Error("`text` cfg required")},getType:a.Util.abstractMethod,getOffset:function(){return this.offset},getText:function(){return this.text}}),a.htmlParser.CommentNode=a.Util.extend(a.htmlParser.HtmlNode,{comment:"",getType:function(){return"comment"},getComment:function(){return this.comment}}),a.htmlParser.ElementNode=a.Util.extend(a.htmlParser.HtmlNode,{tagName:"",closing:!1,getType:function(){return"element"},getTagName:function(){return this.tagName},isClosing:function(){return this.closing}}),a.htmlParser.EntityNode=a.Util.extend(a.htmlParser.HtmlNode,{getType:function(){return"entity"}}),a.htmlParser.TextNode=a.Util.extend(a.htmlParser.HtmlNode,{getType:function(){return"text"}}),a.match.Match=a.Util.extend(Object,{constructor:function(a){if(null==a.tagBuilder)throw new Error("`tagBuilder` cfg required");if(null==a.matchedText)throw new Error("`matchedText` cfg required");if(null==a.offset)throw new Error("`offset` cfg required");this.tagBuilder=a.tagBuilder,this.matchedText=a.matchedText,this.offset=a.offset},getType:a.Util.abstractMethod,getMatchedText:function(){return this.matchedText},setOffset:function(a){this.offset=a},getOffset:function(){return this.offset},getAnchorHref:a.Util.abstractMethod,getAnchorText:a.Util.abstractMethod,getCssClassSuffixes:function(){return[this.getType()]},buildTag:function(){return this.tagBuilder.build(this)}}),a.match.Email=a.Util.extend(a.match.Match,{constructor:function(b){if(a.match.Match.prototype.constructor.call(this,b),!b.email)throw new Error("`email` cfg required");this.email=b.email},getType:function(){return"email"},getEmail:function(){return this.email},getAnchorHref:function(){return"mailto:"+this.email},getAnchorText:function(){return this.email}}),a.match.Hashtag=a.Util.extend(a.match.Match,{constructor:function(b){if(a.match.Match.prototype.constructor.call(this,b),!b.hashtag)throw new Error("`hashtag` cfg required");this.serviceName=b.serviceName,this.hashtag=b.hashtag},getType:function(){return"hashtag"},getServiceName:function(){return this.serviceName},getHashtag:function(){return this.hashtag},getAnchorHref:function(){var a=this.serviceName,b=this.hashtag;switch(a){case"twitter":return"https://twitter.com/hashtag/"+b;case"facebook":return"https://www.facebook.com/hashtag/"+b;case"instagram":return"https://instagram.com/explore/tags/"+b;default:throw new Error("Unknown service name to point hashtag to: ",a)}},getAnchorText:function(){return"#"+this.hashtag}}),a.match.Phone=a.Util.extend(a.match.Match,{constructor:function(b){if(a.match.Match.prototype.constructor.call(this,b),!b.number)throw new Error("`number` cfg required");if(null==b.plusSign)throw new Error("`plusSign` cfg required");this.number=b.number,this.plusSign=b.plusSign},getType:function(){return"phone"},getNumber:function(){return this.number},getAnchorHref:function(){return"tel:"+(this.plusSign?"+":"")+this.number},getAnchorText:function(){return this.matchedText}}),a.match.Mention=a.Util.extend(a.match.Match,{constructor:function(b){if(a.match.Match.prototype.constructor.call(this,b),!b.serviceName)throw new Error("`serviceName` cfg required");if(!b.mention)throw new Error("`mention` cfg required");this.mention=b.mention,this.serviceName=b.serviceName},getType:function(){return"mention"},getMention:function(){return this.mention},getServiceName:function(){return this.serviceName},getAnchorHref:function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;default:throw new Error("Unknown service name to point mention to: ",this.serviceName)}},getAnchorText:function(){return"@"+this.mention},getCssClassSuffixes:function(){var b=a.match.Match.prototype.getCssClassSuffixes.call(this),c=this.getServiceName();return c&&b.push(c),b}}),a.match.Url=a.Util.extend(a.match.Match,{constructor:function(b){if(a.match.Match.prototype.constructor.call(this,b),"scheme"!==b.urlMatchType&&"www"!==b.urlMatchType&&"tld"!==b.urlMatchType)throw new Error('`urlMatchType` cfg must be one of: "scheme", "www", or "tld"');if(!b.url)throw new Error("`url` cfg required");if(null==b.protocolUrlMatch)throw new Error("`protocolUrlMatch` cfg required");if(null==b.protocolRelativeMatch)throw new Error("`protocolRelativeMatch` cfg required");if(null==b.stripPrefix)throw new Error("`stripPrefix` cfg required");if(null==b.stripTrailingSlash)throw new Error("`stripTrailingSlash` cfg required");this.urlMatchType=b.urlMatchType,this.url=b.url,this.protocolUrlMatch=b.protocolUrlMatch,this.protocolRelativeMatch=b.protocolRelativeMatch,this.stripPrefix=b.stripPrefix,this.stripTrailingSlash=b.stripTrailingSlash},schemePrefixRegex:/^(https?:\/\/)?/i,wwwPrefixRegex:/^(https?:\/\/)?(www\.)?/i,protocolRelativeRegex:/^\/\//,protocolPrepended:!1,getType:function(){return"url"},getUrlMatchType:function(){return this.urlMatchType},getUrl:function(){var a=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(a=this.url="http://"+a,this.protocolPrepended=!0),a},getAnchorHref:function(){return this.getUrl().replace(/&amp;/g,"&")},getAnchorText:function(){var a=this.getMatchedText();return this.protocolRelativeMatch&&(a=this.stripProtocolRelativePrefix(a)),this.stripPrefix.scheme&&(a=this.stripSchemePrefix(a)),this.stripPrefix.www&&(a=this.stripWwwPrefix(a)),this.stripTrailingSlash&&(a=this.removeTrailingSlash(a)),a},stripSchemePrefix:function(a){return a.replace(this.schemePrefixRegex,"")},stripWwwPrefix:function(a){return a.replace(this.wwwPrefixRegex,"$1")},stripProtocolRelativePrefix:function(a){return a.replace(this.protocolRelativeRegex,"")},removeTrailingSlash:function(a){return"/"===a.charAt(a.length-1)&&(a=a.slice(0,-1)),a}}),a.tldRegex=/(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|vermögensberatung|xn--3oq18vl8pn36a|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermögensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbc0a9azcg|xn--nqv7fs00ema|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|international|lifeinsurance|orientexpress|spreadbetting|travelchannel|wolterskluwer|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|pamperedchef|scholarships|versicherung|xn--3e0b707e|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|rightathome|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--3bst00m|xn--3ds443g|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--pbt977c|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|சிங்கப்பூர்|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nationwide|newholland|nextdirect|onyourside|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|telefonica|university|vistaprint|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|fujixerox|furniture|goldpoint|goodhands|hisamitsu|homedepot|homegoods|homesense|honeywell|institute|insurance|kuokgroup|ladbrokes|lancaster|landrover|lifestyle|marketing|marshalls|mcdonalds|melbourne|microsoft|montblanc|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--nqv7f|xn--p1acf|xn--tckwe|xn--vhquv|yodobashi|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|chrysler|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|esurance|everbank|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|mortgage|movistar|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|symantec|telecity|training|uconnect|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|السعودية|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|cartier|channel|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|iselect|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lancome|lanxess|lasalle|latrobe|leclerc|liaison|limited|lincoln|markets|metlife|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|panerai|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|shriram|singles|spiegel|staples|starhub|statoil|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|католик|الجزائر|العليان|پاکستان|كاثوليك|موبايلي|இந்தியா|abarth|abbott|abbvie|active|africa|agency|airbus|airtel|alipay|alsace|alstom|anquan|aramco|author|bayern|beauty|berlin|bharti|blanco|bostik|boston|broker|camera|career|caseih|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|mobily|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|piaget|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|warman|webcam|xihuan|xperia|yachts|yandex|zappos|москва|онлайн|ابوظبي|ارامكو|الاردن|المغرب|امارات|فلسطين|مليسيا|இலங்கை|ファッション|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|boots|bosch|build|canon|cards|chase|cheap|chloe|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|dodge|drive|dubai|earth|edeka|email|epost|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|intel|irish|iveco|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|lupin|macys|mango|media|miami|money|mopar|movie|nadex|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vista|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|zippo|ایران|بازار|بھارت|سودان|سورية|همراه|संगठन|বাংলা|భారత్|嘉里大酒店|aarp|able|adac|aero|aigo|akdn|ally|amex|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|doha|duck|duns|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|mtpc|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sapo|sarl|save|saxo|scor|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|дети|сайт|بيتك|تونس|شبكة|عراق|عمان|موقع|भारत|ভারত|ਭਾਰਤ|ભારત|ලංකා|グーグル|クラウド|ポイント|大众汽车|组织机构|電訊盈科|香格里拉|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bnl|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceb|ceo|cfa|cfd|com|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|htc|ibm|ice|icu|ifm|ing|ink|int|ist|itv|iwc|jcb|jcp|jio|jlc|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|lol|lpl|ltd|man|mba|mcd|med|men|meo|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|srl|srt|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|бел|ком|қаз|мкд|мон|орг|рус|срб|укр|հայ|קום|قطر|كوم|مصر|कॉम|नेट|คอม|ไทย|ストア|セール|みんな|中文网|天主教|我爱你|新加坡|淡马锡|诺基亚|飞利浦|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ελ|бг|ею|рф|გე|닷넷|닷컴|삼성|한국|コム|世界|中信|中国|中國|企业|佛山|信息|健康|八卦|公司|公益|台湾|台灣|商城|商店|商标|嘉里|在线|大拿|娱乐|家電|工行|广东|微博|慈善|手机|手表|政务|政府|新闻|时尚|書籍|机构|游戏|澳門|点看|珠宝|移动|网址|网店|网站|网络|联通|谷歌|购物|通販|集团|食品|餐厅|香港)/,a.matcher.Matcher=a.Util.extend(Object,{constructor:function(a){if(!a.tagBuilder)throw new Error("`tagBuilder` cfg required");this.tagBuilder=a.tagBuilder},parseMatches:a.Util.abstractMethod}),a.matcher.Email=a.Util.extend(a.matcher.Matcher,{matcherRegex:function(){var b=a.RegexLib.alphaNumericCharsStr,c=new RegExp("["+b+"\\-_';:&=+$.,]+@"),d=a.RegexLib.domainNameRegex,e=a.tldRegex;return new RegExp([c.source,d.source,"\\.",e.source].join(""),"gi")}(),parseMatches:function(b){for(var c,d=this.matcherRegex,e=this.tagBuilder,f=[];null!==(c=d.exec(b));){var g=c[0];f.push(new a.match.Email({tagBuilder:e,matchedText:g,offset:c.index,email:g}))}return f}}),a.matcher.Hashtag=a.Util.extend(a.matcher.Matcher,{matcherRegex:new RegExp("#[_"+a.RegexLib.alphaNumericCharsStr+"]{1,139}","g"),nonWordCharRegex:new RegExp("[^"+a.RegexLib.alphaNumericCharsStr+"]"),constructor:function(b){a.matcher.Matcher.prototype.constructor.call(this,b),this.serviceName=b.serviceName},parseMatches:function(b){for(var c,d=this.matcherRegex,e=this.nonWordCharRegex,f=this.serviceName,g=this.tagBuilder,h=[];null!==(c=d.exec(b));){var i=c.index,j=b.charAt(i-1);if(0===i||e.test(j)){var k=c[0],l=c[0].slice(1);h.push(new a.match.Hashtag({tagBuilder:g,matchedText:k,offset:i,serviceName:f,hashtag:l}))}}return h}}),a.matcher.Phone=a.Util.extend(a.matcher.Matcher,{matcherRegex:/(?:(\+)?\d{1,3}[-\040.]?)?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]?\d{4}([,;]*[0-9]+#?)*/g,parseMatches:function(b){for(var c,d=this.matcherRegex,e=this.tagBuilder,f=[];null!==(c=d.exec(b));){var g=c[0],h=g.replace(/[^0-9,;#]/g,""),i=!!c[1];/\D/.test(c[2])&&/\D/.test(g)&&f.push(new a.match.Phone({tagBuilder:e,matchedText:g,offset:c.index,number:h,plusSign:i}))}return f}}),a.matcher.Mention=a.Util.extend(a.matcher.Matcher,{matcherRegexes:{twitter:new RegExp("@[_"+a.RegexLib.alphaNumericCharsStr+"]{1,20}","g"),instagram:new RegExp("@[_."+a.RegexLib.alphaNumericCharsStr+"]{1,50}","g")},nonWordCharRegex:new RegExp("[^"+a.RegexLib.alphaNumericCharsStr+"]"),constructor:function(b){a.matcher.Matcher.prototype.constructor.call(this,b),this.serviceName=b.serviceName},parseMatches:function(b){var c,d=this.matcherRegexes[this.serviceName],e=this.nonWordCharRegex,f=this.serviceName,g=this.tagBuilder,h=[];if(!d)return h;for(;null!==(c=d.exec(b));){var i=c.index,j=b.charAt(i-1);if(0===i||e.test(j)){var k=c[0].replace(/\.+$/g,""),l=k.slice(1);h.push(new a.match.Mention({tagBuilder:g,matchedText:k,offset:i,serviceName:f,mention:l}))}}return h}}),a.matcher.Url=a.Util.extend(a.matcher.Matcher,{matcherRegex:function(){var b=a.RegexLib.domainNameRegex,c=a.tldRegex,d=a.RegexLib.alphaNumericCharsStr,e=new RegExp("[/?#](?:["+d+"\\-+&@#/%=~_()|'$*\\[\\]?!:,.;✓]*["+d+"\\-+&@#/%=~_()|'$*\\[\\]✓])?");return new RegExp(["(?:","(",/(?:[A-Za-z][-.+A-Za-z0-9]*:(?![A-Za-z][-.+A-Za-z0-9]*:\/\/)(?!\d+\/?)(?:\/\/)?)/.source,b.source,")","|","(","(//)?",/(?:www\.)/.source,b.source,")","|","(","(//)?",b.source+"\\.",c.source,"(?![-"+d+"])",")",")","(?::[0-9]+)?","(?:"+e.source+")?"].join(""),"gi")}(),wordCharRegExp:new RegExp("["+a.RegexLib.alphaNumericCharsStr+"]"),openParensRe:/\(/g,closeParensRe:/\)/g,constructor:function(b){if(a.matcher.Matcher.prototype.constructor.call(this,b),null==b.stripPrefix)throw new Error("`stripPrefix` cfg required");if(null==b.stripTrailingSlash)throw new Error("`stripTrailingSlash` cfg required");this.stripPrefix=b.stripPrefix,this.stripTrailingSlash=b.stripTrailingSlash},parseMatches:function(b){for(var c,d=this.matcherRegex,e=this.stripPrefix,f=this.stripTrailingSlash,g=this.tagBuilder,h=[];null!==(c=d.exec(b));){var i=c[0],j=c[1],k=c[2],l=c[3],m=c[5],n=c.index,o=l||m,p=b.charAt(n-1);if(a.matcher.UrlMatchValidator.isValid(i,j)&&!(n>0&&"@"===p||n>0&&o&&this.wordCharRegExp.test(p))){if(/\?$/.test(i)&&(i=i.substr(0,i.length-1)),this.matchHasUnbalancedClosingParen(i))i=i.substr(0,i.length-1);else{var q=this.matchHasInvalidCharAfterTld(i,j);q>-1&&(i=i.substr(0,q))}var r=j?"scheme":k?"www":"tld",s=!!j;h.push(new a.match.Url({tagBuilder:g,matchedText:i,offset:n,urlMatchType:r,url:i,protocolUrlMatch:s,protocolRelativeMatch:!!o,stripPrefix:e,stripTrailingSlash:f}))}}return h},matchHasUnbalancedClosingParen:function(a){if(")"===a.charAt(a.length-1)){var b=a.match(this.openParensRe),c=a.match(this.closeParensRe);if((b&&b.length||0)<(c&&c.length||0))return!0}return!1},matchHasInvalidCharAfterTld:function(b,c){if(!b)return-1;var d=0;c&&(d=b.indexOf(":"),b=b.slice(d));var e=a.RegexLib.alphaNumericCharsStr,f=new RegExp("^((.?//)?[-."+e+"]*[-"+e+"]\\.[-"+e+"]+)"),g=f.exec(b);return null===g?-1:(d+=g[1].length,b=b.slice(g[1].length),/^[^-.A-Za-z0-9:\/?#]/.test(b)?d:-1)}}),a.matcher.UrlMatchValidator={hasFullProtocolRegex:/^[A-Za-z][-.+A-Za-z0-9]*:\/\//,uriSchemeRegex:/^[A-Za-z][-.+A-Za-z0-9]*:/,hasWordCharAfterProtocolRegex:new RegExp(":[^\\s]*?["+a.RegexLib.alphaCharsStr+"]"),ipRegex:/[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/,isValid:function(a,b){return!(b&&!this.isValidUriScheme(b)||this.urlMatchDoesNotHaveProtocolOrDot(a,b)||this.urlMatchDoesNotHaveAtLeastOneWordChar(a,b)&&!this.isValidIpAddress(a)||this.containsMultipleDots(a))},isValidIpAddress:function(a){var b=new RegExp(this.hasFullProtocolRegex.source+this.ipRegex.source);return null!==a.match(b)},containsMultipleDots:function(a){return a.indexOf("..")>-1},isValidUriScheme:function(a){var b=a.match(this.uriSchemeRegex)[0].toLowerCase();return"javascript:"!==b&&"vbscript:"!==b},urlMatchDoesNotHaveProtocolOrDot:function(a,b){return!(!a||b&&this.hasFullProtocolRegex.test(b)||a.indexOf(".")!==-1)},urlMatchDoesNotHaveAtLeastOneWordChar:function(a,b){return!(!a||!b)&&!this.hasWordCharAfterProtocolRegex.test(a)}},a.truncate.TruncateEnd=function(b,c,d){return a.Util.ellipsis(b,c,d)},a.truncate.TruncateMiddle=function(a,b,c){if(a.length<=b)return a;var d,e;null==c?(c="&hellip;",d=8,e=3):(d=c.length,e=c.length);var f=b-e,g="";return f>0&&(g=a.substr(-1*Math.floor(f/2))),(a.substr(0,Math.ceil(f/2))+c+g).substr(0,f+d)},a.truncate.TruncateSmart=function(a,b,c){var d,e;null==c?(c="&hellip;",e=3,d=8):(e=c.length,d=c.length);var f=function(a){var b="";return a.scheme&&a.host&&(b+=a.scheme+"://"),a.host&&(b+=a.host),a.path&&(b+="/"+a.path),a.query&&(b+="?"+a.query),a.fragment&&(b+="#"+a.fragment),b},g=function(a,b){var d=b/2,e=Math.ceil(d),f=-1*Math.floor(d),g="";return f<0&&(g=a.substr(f)),a.substr(0,e)+c+g};if(a.length<=b)return a;var h=b-e,i=function(a){var b={},c=a,d=c.match(/^([a-z]+):\/\//i);return d&&(b.scheme=d[1],c=c.substr(d[0].length)),d=c.match(/^(.*?)(?=(\?|#|\/|$))/i),d&&(b.host=d[1],c=c.substr(d[0].length)),d=c.match(/^\/(.*?)(?=(\?|#|$))/i),d&&(b.path=d[1],c=c.substr(d[0].length)),d=c.match(/^\?(.*?)(?=(#|$))/i),d&&(b.query=d[1],c=c.substr(d[0].length)),d=c.match(/^#(.*?)$/i),d&&(b.fragment=d[1]),b}(a);if(i.query){var j=i.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);j&&(i.query=i.query.substr(0,j[1].length),a=f(i))}if(a.length<=b)return a;if(i.host&&(i.host=i.host.replace(/^www\./,""),a=f(i)),a.length<=b)return a;var k="";if(i.host&&(k+=i.host),k.length>=h)return i.host.length==b?(i.host.substr(0,b-e)+c).substr(0,h+d):g(k,h).substr(0,h+d);var l="";if(i.path&&(l+="/"+i.path),i.query&&(l+="?"+i.query),l){if((k+l).length>=h){if((k+l).length==b)return(k+l).substr(0,b);return(k+g(l,h-k.length)).substr(0,h+d)}k+=l}if(i.fragment){var m="#"+i.fragment;if((k+m).length>=h){if((k+m).length==b)return(k+m).substr(0,b);return(k+g(m,h-k.length)).substr(0,h+d)}k+=m}if(i.scheme&&i.host){var n=i.scheme+"://";if((k+n).length<h)return(n+k).substr(0,b)}if(k.length<=b)return k;var o="";return h>0&&(o=k.substr(-1*Math.floor(h/2))),(k.substr(0,Math.ceil(h/2))+c+o).substr(0,h+d)},a})},{}],61:[function(a,b,c){!function(c){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-meta"],c):"object"==typeof b&&b.exports?c(a("./load-image"),a("./load-image-meta")):c(window.loadImage)}(function(a){"use strict";a.ExifMap=function(){return this},a.ExifMap.prototype.map={Orientation:274},a.ExifMap.prototype.get=function(a){return this[a]||this[this.map[a]]},a.getExifThumbnail=function(a,b,c){var d,e,f;if(!c||b+c>a.byteLength)return void console.log("Invalid Exif data: Invalid thumbnail data.");for(d=[],e=0;e<c;e+=1)f=a.getUint8(b+e),d.push((f<16?"0":"")+f.toString(16));return"data:image/jpeg,%"+d.join("%")},a.exifTagTypes={1:{getValue:function(a,b){return a.getUint8(b)},size:1},2:{getValue:function(a,b){return String.fromCharCode(a.getUint8(b))},size:1,ascii:!0},3:{getValue:function(a,b,c){return a.getUint16(b,c)},size:2},4:{getValue:function(a,b,c){return a.getUint32(b,c)},size:4},5:{getValue:function(a,b,c){return a.getUint32(b,c)/a.getUint32(b+4,c)},size:8},9:{getValue:function(a,b,c){return a.getInt32(b,c)},size:4},10:{getValue:function(a,b,c){return a.getInt32(b,c)/a.getInt32(b+4,c)},size:8}},a.exifTagTypes[7]=a.exifTagTypes[1],a.getExifValue=function(b,c,d,e,f,g){var h,i,j,k,l,m,n=a.exifTagTypes[e];if(!n)return void console.log("Invalid Exif data: Invalid tag type.");if(h=n.size*f,(i=h>4?c+b.getUint32(d+8,g):d+8)+h>b.byteLength)return void console.log("Invalid Exif data: Invalid data offset.");if(1===f)return n.getValue(b,i,g);for(j=[],
k=0;k<f;k+=1)j[k]=n.getValue(b,i+k*n.size,g);if(n.ascii){for(l="",k=0;k<j.length&&"\0"!==(m=j[k]);k+=1)l+=m;return l}return j},a.parseExifTag=function(b,c,d,e,f){var g=b.getUint16(d,e);f.exif[g]=a.getExifValue(b,c,d,b.getUint16(d+2,e),b.getUint32(d+4,e),e)},a.parseExifTags=function(a,b,c,d,e){var f,g,h;if(c+6>a.byteLength)return void console.log("Invalid Exif data: Invalid directory offset.");if(f=a.getUint16(c,d),(g=c+2+12*f)+4>a.byteLength)return void console.log("Invalid Exif data: Invalid directory size.");for(h=0;h<f;h+=1)this.parseExifTag(a,b,c+2+12*h,d,e);return a.getUint32(g,d)},a.parseExifData=function(b,c,d,e,f){if(!f.disableExif){var g,h,i,j=c+10;if(1165519206===b.getUint32(c+4)){if(j+8>b.byteLength)return void console.log("Invalid Exif data: Invalid segment size.");if(0!==b.getUint16(c+8))return void console.log("Invalid Exif data: Missing byte alignment offset.");switch(b.getUint16(j)){case 18761:g=!0;break;case 19789:g=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==b.getUint16(j+2,g))return void console.log("Invalid Exif data: Missing TIFF marker.");h=b.getUint32(j+4,g),e.exif=new a.ExifMap,h=a.parseExifTags(b,j,j+h,g,e),h&&!f.disableExifThumbnail&&(i={exif:{}},h=a.parseExifTags(b,j,j+h,g,i),i.exif[513]&&(e.exif.Thumbnail=a.getExifThumbnail(b,j+i.exif[513],i.exif[514]))),e.exif[34665]&&!f.disableExifSub&&a.parseExifTags(b,j,j+e.exif[34665],g,e),e.exif[34853]&&!f.disableExifGps&&a.parseExifTags(b,j,j+e.exif[34853],g,e)}}},a.metaDataParsers.jpeg[65505].push(a.parseExifData)})},{"./load-image":65,"./load-image-meta":62}],62:[function(a,b,c){!function(c){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],c):c("object"==typeof b&&b.exports?a("./load-image"):window.loadImage)}(function(a){"use strict";var b=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);a.blobSlice=b&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},a.metaDataParsers={jpeg:{65505:[]}},a.parseMetaData=function(b,c,d,e){d=d||{},e=e||{};var f=this,g=d.maxMetaDataSize||262144;!!(window.DataView&&b&&b.size>=12&&"image/jpeg"===b.type&&a.blobSlice)&&a.readFile(a.blobSlice.call(b,0,g),function(b){if(b.target.error)return console.log(b.target.error),void c(e);var g,h,i,j,k=b.target.result,l=new DataView(k),m=2,n=l.byteLength-4,o=m;if(65496===l.getUint16(0)){for(;m<n&&((g=l.getUint16(m))>=65504&&g<=65519||65534===g);){if(h=l.getUint16(m+2)+2,m+h>l.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(i=a.metaDataParsers.jpeg[g])for(j=0;j<i.length;j+=1)i[j].call(f,l,m,h,e,d);m+=h,o=m}!d.disableImageHead&&o>6&&(k.slice?e.imageHead=k.slice(0,o):e.imageHead=new Uint8Array(k).subarray(0,o))}else console.log("Invalid JPEG file: Missing JPEG marker.");c(e)},"readAsArrayBuffer")||c(e)},a.hasMetaOption=function(a){return a&&a.meta};var c=a.transform;a.transform=function(b,d,e,f,g){a.hasMetaOption(d)?a.parseMetaData(f,function(g){c.call(a,b,d,e,f,g)},d,g):c.apply(a,arguments)}})},{"./load-image":65}],63:[function(a,b,c){!function(c){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-scale","./load-image-meta"],c):"object"==typeof b&&b.exports?c(a("./load-image"),a("./load-image-scale"),a("./load-image-meta")):c(window.loadImage)}(function(a){"use strict";var b=a.hasCanvasOption,c=a.hasMetaOption,d=a.transformCoordinates,e=a.getTransformedOptions;a.hasCanvasOption=function(c){return!!c.orientation||b.call(a,c)},a.hasMetaOption=function(b){return b&&b.orientation===!0||c.call(a,b)},a.transformCoordinates=function(b,c){d.call(a,b,c);var e=b.getContext("2d"),f=b.width,g=b.height,h=b.style.width,i=b.style.height,j=c.orientation;if(j&&!(j>8))switch(j>4&&(b.width=g,b.height=f,b.style.width=i,b.style.height=h),j){case 2:e.translate(f,0),e.scale(-1,1);break;case 3:e.translate(f,g),e.rotate(Math.PI);break;case 4:e.translate(0,g),e.scale(1,-1);break;case 5:e.rotate(.5*Math.PI),e.scale(1,-1);break;case 6:e.rotate(.5*Math.PI),e.translate(0,-g);break;case 7:e.rotate(.5*Math.PI),e.translate(f,-g),e.scale(-1,1);break;case 8:e.rotate(-.5*Math.PI),e.translate(-f,0)}},a.getTransformedOptions=function(b,c,d){var f,g,h=e.call(a,b,c),i=h.orientation;if(i===!0&&d&&d.exif&&(i=d.exif.get("Orientation")),!i||i>8||1===i)return h;f={};for(g in h)h.hasOwnProperty(g)&&(f[g]=h[g]);switch(f.orientation=i,i){case 2:f.left=h.right,f.right=h.left;break;case 3:f.left=h.right,f.top=h.bottom,f.right=h.left,f.bottom=h.top;break;case 4:f.top=h.bottom,f.bottom=h.top;break;case 5:f.left=h.top,f.top=h.left,f.right=h.bottom,f.bottom=h.right;break;case 6:f.left=h.top,f.top=h.right,f.right=h.bottom,f.bottom=h.left;break;case 7:f.left=h.bottom,f.top=h.right,f.right=h.top,f.bottom=h.left;break;case 8:f.left=h.bottom,f.top=h.left,f.right=h.top,f.bottom=h.right}return f.orientation>4&&(f.maxWidth=h.maxHeight,f.maxHeight=h.maxWidth,f.minWidth=h.minHeight,f.minHeight=h.minWidth,f.sourceWidth=h.sourceHeight,f.sourceHeight=h.sourceWidth),f}})},{"./load-image":65,"./load-image-meta":62,"./load-image-scale":64}],64:[function(a,b,c){!function(c){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],c):c("object"==typeof b&&b.exports?a("./load-image"):window.loadImage)}(function(a){"use strict";var b=a.transform;a.transform=function(c,d,e,f,g){b.call(a,a.scale(c,d,g),d,e,f,g)},a.transformCoordinates=function(){},a.getTransformedOptions=function(a,b){var c,d,e,f,g=b.aspectRatio;if(!g)return b;c={};for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);return c.crop=!0,e=a.naturalWidth||a.width,f=a.naturalHeight||a.height,e/f>g?(c.maxWidth=f*g,c.maxHeight=f):(c.maxWidth=e,c.maxHeight=e/g),c},a.renderImageToCanvas=function(a,b,c,d,e,f,g,h,i,j){return a.getContext("2d").drawImage(b,c,d,e,f,g,h,i,j),a},a.hasCanvasOption=function(a){return a.canvas||a.crop||!!a.aspectRatio},a.scale=function(b,c,d){function e(){var a=Math.max((i||v)/v,(j||w)/w);a>1&&(v*=a,w*=a)}function f(){var a=Math.min((g||v)/v,(h||w)/w);a<1&&(v*=a,w*=a)}c=c||{};var g,h,i,j,k,l,m,n,o,p,q,r=document.createElement("canvas"),s=b.getContext||a.hasCanvasOption(c)&&r.getContext,t=b.naturalWidth||b.width,u=b.naturalHeight||b.height,v=t,w=u;if(s&&(c=a.getTransformedOptions(b,c,d),m=c.left||0,n=c.top||0,c.sourceWidth?(k=c.sourceWidth,void 0!==c.right&&void 0===c.left&&(m=t-k-c.right)):k=t-m-(c.right||0),c.sourceHeight?(l=c.sourceHeight,void 0!==c.bottom&&void 0===c.top&&(n=u-l-c.bottom)):l=u-n-(c.bottom||0),v=k,w=l),g=c.maxWidth,h=c.maxHeight,i=c.minWidth,j=c.minHeight,s&&g&&h&&c.crop?(v=g,w=h,q=k/l-g/h,q<0?(l=h*k/g,void 0===c.top&&void 0===c.bottom&&(n=(u-l)/2)):q>0&&(k=g*l/h,void 0===c.left&&void 0===c.right&&(m=(t-k)/2))):((c.contain||c.cover)&&(i=g=g||i,j=h=h||j),c.cover?(f(),e()):(e(),f())),s){if(o=c.pixelRatio,o>1&&(r.style.width=v+"px",r.style.height=w+"px",v*=o,w*=o,r.getContext("2d").scale(o,o)),(p=c.downsamplingRatio)>0&&p<1&&v<k&&w<l)for(;k*p>v;)r.width=k*p,r.height=l*p,a.renderImageToCanvas(r,b,m,n,k,l,0,0,r.width,r.height),m=0,n=0,k=r.width,l=r.height,b=document.createElement("canvas"),b.width=k,b.height=l,a.renderImageToCanvas(b,r,0,0,k,l,0,0,k,l);return r.width=v,r.height=w,a.transformCoordinates(r,c),a.renderImageToCanvas(r,b,m,n,k,l,0,0,v,w)}return b.width=v,b.height=w,b}})},{"./load-image":65}],65:[function(a,b,c){!function(a){"use strict";function c(a,b,d){var e,f=document.createElement("img");return f.onerror=function(e){return c.onerror(f,e,a,b,d)},f.onload=function(e){return c.onload(f,e,a,b,d)},"string"==typeof a?(c.fetchBlob(a,function(b){b?(a=b,e=c.createObjectURL(a)):(e=a,d&&d.crossOrigin&&(f.crossOrigin=d.crossOrigin)),f.src=e},d),f):c.isInstanceOf("Blob",a)||c.isInstanceOf("File",a)?(e=f._objectURL=c.createObjectURL(a),e?(f.src=e,f):c.readFile(a,function(a){var c=a.target;c&&c.result?f.src=c.result:b&&b(a)})):void 0}function d(a,b){!a._objectURL||b&&b.noRevoke||(c.revokeObjectURL(a._objectURL),delete a._objectURL)}var e=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;c.fetchBlob=function(a,b,c){b()},c.isInstanceOf=function(a,b){return Object.prototype.toString.call(b)==="[object "+a+"]"},c.transform=function(a,b,c,d,e){c(a,e)},c.onerror=function(a,b,c,e,f){d(a,f),e&&e.call(a,b)},c.onload=function(a,b,e,f,g){d(a,g),f&&c.transform(a,g,f,e,{})},c.createObjectURL=function(a){return!!e&&e.createObjectURL(a)},c.revokeObjectURL=function(a){return!!e&&e.revokeObjectURL(a)},c.readFile=function(a,b,c){if(window.FileReader){var d=new FileReader;if(d.onload=d.onerror=b,c=c||"readAsDataURL",d[c])return d[c](a),d}return!1},"function"==typeof define&&define.amd?define(function(){return c}):"object"==typeof b&&b.exports?b.exports=c:a.loadImage=c}(window)},{}],66:[function(a,b,c){(function(a){b.exports=a.layer}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],67:[function(a,b,c){!function(a,d){"object"==typeof c&&void 0!==b?d(c):"function"==typeof define&&define.amd?define(["exports"],d):d(a.Notify=a.Notify||{})}(this,function(a){"use strict";function b(a){return"function"==typeof a}function c(a){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if("string"!=typeof a)throw new Error("Notify(): first arg (title) must be a string.");if("object"!=typeof c)throw new Error("Notify(): second arg (options) must be an object.");var e=c.notifyShow,f=void 0===e?null:e,g=c.notifyClose,h=void 0===g?null:g,i=c.notifyClick,j=void 0===i?null:i,k=c.notifyError,l=void 0===k?null:k,m=c.closeOnClick,n=void 0!==m&&m,o=c.timeout,p=void 0===o?null:o,q=d(c,["notifyShow","notifyClose","notifyClick","notifyError","closeOnClick","timeout"]);this.title=a,this.options=q,this.permission=null,this.closeOnClick=n,this.timeout=p,b(f)&&(this.onShowCallback=f),b(h)&&(this.onCloseCallback=h),b(j)&&(this.onClickCallback=j),b(l)&&(this.onErrorCallback=l)}var d=function(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c},e=window.Notification;c.isSupported=function(a){if(!e||!e.requestPermission)return!1;if("granted"===a||"granted"===e.permission)throw new Error("You must only call this before calling Notification.requestPermission(), otherwise this feature detect would trigger an actual notification!");try{new e("")}catch(a){if("TypeError"===a.name)return!1}return!0},c.needsPermission=!e||!e.permission||"granted"!==e.permission,c.requestPermission=function(a,d){e.requestPermission(function(e){switch(e){case"granted":c.needsPermission=!1,b(a)&&a();break;case"denied":c.needsPermission=!0,b(d)&&d()}})},c.prototype.show=function(){this.myNotify=new e(this.title,this.options),this.options.requireInteraction||!this.timeout||isNaN(this.timeout)||setTimeout(this.close.bind(this),1e3*this.timeout),this.myNotify.addEventListener("show",this,!1),this.myNotify.addEventListener("error",this,!1),this.myNotify.addEventListener("close",this,!1),this.myNotify.addEventListener("click",this,!1)},c.prototype.onShowNotification=function(a){this.onShowCallback&&this.onShowCallback(a)},c.prototype.onCloseNotification=function(a){this.onCloseCallback&&this.onCloseCallback(a),this.destroy()},c.prototype.onClickNotification=function(a){this.onClickCallback&&this.onClickCallback(a),this.closeOnClick&&this.close()},c.prototype.onErrorNotification=function(a){this.onErrorCallback&&this.onErrorCallback(a),this.destroy()},c.prototype.destroy=function(){this.myNotify.removeEventListener("show",this,!1),this.myNotify.removeEventListener("error",this,!1),this.myNotify.removeEventListener("close",this,!1),this.myNotify.removeEventListener("click",this,!1)},c.prototype.close=function(){this.myNotify.close()},c.prototype.handleEvent=function(a){switch(a.type){case"show":this.onShowNotification(a);break;case"close":this.onCloseNotification(a);break;case"click":this.onClickNotification(a);break;case"error":this.onErrorNotification(a)}},a.default=c})},{}],68:[function(a,b,c){b.exports={":alarm_clock:":"⏰",":anchor:":"⚓",":aquarius:":"♒",":aries:":"♈",":arrow_backward:":"◀",":arrow_double_down:":"⏬",":arrow_double_up:":"⏫",":arrow_down:":"⬇",":arrow_forward:":"▶",":arrow_heading_down:":"⤵",":arrow_heading_up:":"⤴",":arrow_left:":"⬅",":arrow_lower_left:":"↙",":arrow_lower_right:":"↘",":arrow_right:":"➡",":arrow_right_hook:":"↪",":arrow_up:":"⬆",":arrow_up_down:":"↕",":arrow_upper_left:":"↖",":arrow_upper_right:":"↗",":ballot_box_with_check:":"☑",":bangbang:":"‼",":cancer:":"♋",":baseball:":"⚾",":black_large_square:":"⬛",":black_medium_small_square:":"◾",":black_medium_square:":"◼",":black_nib:":"✒",":black_small_square:":"▪",":black_circle:":"⚫",":boat:":"⛵",":capricorn:":"♑",":church:":"⛪",":cloud:":"☁",":clubs:":"♣",":coffee:":"☕",":congratulations:":"㊗",":copyright:":"©",":curly_loop:":"➰",":eight_pointed_black_star:":"✴",":eight_spoked_asterisk:":"✳",":diamonds:":"♦",":email:":"✉",":envelope:":"✉",":exclamation:":"❗",":fast_forward:":"⏩",":fist:":"✊",":fountain:":"⛲",":fuelpump:":"⛽",":gemini:":"♊",":golf:":"⛳",":grey_exclamation:":"❕",":grey_question:":"❔",":hand:":"✋",":heart:":"❤",":hearts:":"♥",":heavy_check_mark:":"✔",":heavy_division_sign:":"➗",":heavy_exclamation_mark:":"❗",":heavy_minus_sign:":"➖",":heavy_multiplication_x:":"✖",":heavy_plus_sign:":"➕",":hotsprings:":"♨",":hourglass:":"⌛",":hourglass_flowing_sand:":"⏳",":information_source:":"ℹ",":interrobang:":"⁉",":left_right_arrow:":"↔",":leftwards_arrow_with_hook:":"↩",":leo:":"♌",":libra:":"♎",":loop:":"➿",":m:":"Ⓜ",":negative_squared_cross_mark:":"❎",":no_entry:":"⛔",":o:":"⭕",":ophiuchus:":"⛎",":part_alternation_mark:":"〽",":partly_sunny:":"⛅",":pencil2:":"✏",":phone:":"☎",":pisces:":"♓",":point_up:":"☝",":question:":"❓",":raised_hand:":"✋",":recycle:":"♻",":registered:":"®",":relaxed:":"☺",":rewind:":"⏪",":sagittarius:":"♐",":sailboat:":"⛵",":scissors:":"✂",":scorpius:":"♏",":secret:":"㊙",":snowflake:":"❄",":snowman:":"⛄",":soccer:":"⚽",":spades:":"♠",":sparkle:":"❇",":sparkles:":"✨",":star:":"⭐",":sunny:":"☀",":taurus:":"♉",":telephone:":"☎",":tent:":"⛺",":tm:":"™",":umbrella:":"☔",":v:":"✌",":virgo:":"♍",":warning:":"⚠",":watch:":"⌚",":wavy_dash:":"〰",":wheelchair:":"♿",":white_check_mark:":"✅",":white_circle:":"⚪",":white_large_square:":"⬜",":white_medium_small_square:":"◽",":white_medium_square:":"◻",":white_small_square:":"▫",":x:":"❌",":zap:":"⚡",":airplane:":"✈",":+1:":"👍",":-1:":"👎",":100:":"💯",":1234:":"🔢",":8ball:":"🎱",":a:":"🅰",":ab:":"🆎",":abc:":"🔤",":abcd:":"🔡",":accept:":"🉑",":aerial_tramway:":"🚡",":alien:":"👽",":ambulance:":"🚑",":angel:":"👼",":anger:":"💢",":angry:":"😠",":-||":"😠",":@":"😠",">:(":"😠",":anguished:":"😧",":ant:":"🐜",":apple:":"🍎",":arrow_down_small:":"🔽",":arrow_up_small:":"🔼",":arrows_clockwise:":"🔃",":arrows_counterclockwise:":"🔄",":art:":"🎨",":articulated_lorry:":"🚛",":astonished:":"😲",":athletic_shoe:":"👟",":atm:":"🏧",":b:":"🅱",":baby:":"👶",":baby_bottle:":"🍼",":baby_chick:":"🐤",":baby_symbol:":"🚼",":back:":"🔙",":baggage_claim:":"🛄",":balloon:":"🎈",":bamboo:":"🎍",":banana:":"🍌",":bank:":"🏦",":bar_chart:":"📊",":barber:":"💈",":basketball:":"🏀",":bath:":"🛀",":bathtub:":"🛁",":battery:":"🔋",":bear:":"🐻",":bee:":"🐝",":beer:":"🍺",":beers:":"🍻",":beetle:":"🐞",":beginner:":"🔰",":bell:":"🔔",":bento:":"🍱",":bicyclist:":"🚴",":bike:":"🚲",":bikini:":"👙",":bird:":"🐦",":birthday:":"🎂",":black_joker:":"🃏",":black_square_button:":"🔲",":blossom:":"🌼",":blowfish:":"🐡",":blue_book:":"📘",":blue_car:":"🚙",":blue_heart:":"💙",":blush:":"😊",":$":"😊",":boar:":"🐗",":bomb:":"💣",":book:":"📖",":bookmark:":"🔖",":bookmark_tabs:":"📑",":books:":"📚",":boom:":"💥",":boot:":"👢",":bouquet:":"💐",":bow:":"🙇",":bowling:":"🎳",":boy:":"👦",":bread:":"🍞",":bride_with_veil:":"👰",":bridge_at_night:":"🌉",":briefcase:":"💼",":broken_heart:":"💔",":bug:":"🐛",":bulb:":"💡",":bullettrain_front:":"🚅",":bullettrain_side:":"🚄",":bus:":"🚌",":busstop:":"🚏",":bust_in_silhouette:":"👤",":busts_in_silhouette:":"👥",":cactus:":"🌵",":cake:":"🍰",":calendar:":"📆",":calling:":"📲",":camel:":"🐫",":camera:":"📷",":candy:":"🍬",":capital_abcd:":"🔠",":car:":"🚗",":card_index:":"📇",":carousel_horse:":"🎠",":cat:":"🐱",":cat2:":"🐈",":cd:":"💿",":chart:":"💹",":chart_with_downwards_trend:":"📉",":chart_with_upwards_trend:":"📈",":checkered_flag:":"🏁",":cherries:":"🍒",":cherry_blossom:":"🌸",":chestnut:":"🌰",":chicken:":"🐔",":children_crossing:":"🚸",":chocolate_bar:":"🍫",":christmas_tree:":"🎄",":cinema:":"🎦",":circus_tent:":"🎪",":city_sunrise:":"🌇",":city_sunset:":"🌆",":cl:":"🆑",":clap:":"👏",":clapper:":"🎬",":clipboard:":"📋",":clock1:":"🕐",":clock10:":"🕙",":clock1030:":"🕥",":clock11:":"🕚",":clock1130:":"🕦",":clock12:":"🕛",":clock1230:":"🕧",":clock130:":"🕜",":clock2:":"🕑",":clock230:":"🕝",":clock3:":"🕒",":clock330:":"🕞",":clock4:":"🕓",":clock430:":"🕟",":clock5:":"🕔",":clock530:":"🕠",":clock6:":"🕕",":clock630:":"🕡",":clock7:":"🕖",":clock730:":"🕢",":clock8:":"🕗",":clock830:":"🕣",":clock9:":"🕘",":clock930:":"🕤",":closed_book:":"📕",":closed_lock_with_key:":"🔐",":closed_umbrella:":"🌂",":cocktail:":"🍸",":cold_sweat:":"😰",":collision:":"💥",":computer:":"💻",":confetti_ball:":"🎊",":confounded:":"😖",":confused:":"😕","%-)":"😕","%)":"😕",":construction:":"🚧",":construction_worker:":"👷",":convenience_store:":"🏪",":cookie:":"🍪",":cool:":"🆒",":cop:":"👮",":corn:":"🌽",":couple:":"👫",":couple_with_heart:":"💑",":couplekiss:":"💏",":cow:":"🐮",":cow2:":"🐄",":credit_card:":"💳",":crocodile:":"🐊",":crossed_flags:":"🎌",":crown:":"👑",":cry:":"😢",":'(":"😢",":-'(":"😢",":crying_cat_face:":"😿",":crystal_ball:":"🔮",":cupid:":"💘",":currency_exchange:":"💱",":curry:":"🍛",":custard:":"🍮",":customs:":"🛃",":cyclone:":"🌀",":dancer:":"💃",":dancers:":"👯",":dango:":"🍡",":dart:":"🎯",":dash:":"💨",":date:":"📅",":deciduous_tree:":"🌳",":department_store:":"🏬",":diamond_shape_with_a_dot_inside:":"💠",":disappointed:":"😞",":disappointed_relieved:":"😥",":dizzy:":"💫",":dizzy_face:":"😵",":do_not_litter:":"🚯",":dog:":"🐶",":dog2:":"🐕",":dollar:":"💵",":dolls:":"🎎",":dolphin:":"🐬",":door:":"🚪",":doughnut:":"🍩",":dragon:":"🐉",":dragon_face:":"🐲",":dress:":"👗",":dromedary_camel:":"🐪",":droplet:":"💧",":dvd:":"📀",":e-mail:":"📧",":ear:":"👂",":ear_of_rice:":"🌾",":earth_africa:":"🌍",":earth_americas:":"🌎",":earth_asia:":"🌏",":egg:":"🍳",":eggplant:":"🍆",":electric_plug:":"🔌",":elephant:":"🐘",":end:":"🔚",":envelope_with_arrow:":"📩",":euro:":"💶",":european_castle:":"🏰",":european_post_office:":"🏤",":evergreen_tree:":"🌲",":expressionless:":"😑",":eyeglasses:":"👓",":eyes:":"👀",":facepunch:":"👊",":factory:":"🏭",":fallen_leaf:":"🍂",":family:":"👪",":fax:":"📠",":fearful:":"😨",":feet:":"🐾",":ferris_wheel:":"🎡",":file_folder:":"📁",":fire:":"🔥",":fire_engine:":"🚒",":fireworks:":"🎆",":first_quarter_moon:":"🌓",":first_quarter_moon_with_face:":"🌛",":fish:":"🐟",":fish_cake:":"🍥",":fishing_pole_and_fish:":"🎣",":flags:":"🎏",":flashlight:":"🔦",":floppy_disk:":"💾",":flower_playing_cards:":"🎴",":flushed:":"😳",":foggy:":"🌁",":football:":"🏈",":footprints:":"👣",":fork_and_knife:":"🍴",":four_leaf_clover:":"🍀",":free:":"🆓",":fried_shrimp:":"🍤",":fries:":"🍟",":frog:":"🐸",":frowning:":"😦",":(":"😦",":-(":"😦",":-[":"😦",":[":"😦",":full_moon:":"🌕",":full_moon_with_face:":"🌝",":game_die:":"🎲",":gem:":"💎",":ghost:":"👻",":gift:":"🎁",":gift_heart:":"💝",":girl:":"👧",":globe_with_meridians:":"🌐",":goat:":"🐐",":grapes:":"🍇",":green_apple:":"🍏",":green_book:":"📗",":green_heart:":"💚",":grimacing:":"😬",":grin:":"😁",xD:"😁","x-D":"😁",XD:"😁","X-D":"😁",":grinning:":"😀",":guardsman:":"💂",":guitar:":"🎸",":gun:":"🔫",":haircut:":"💇",":hamburger:":"🍔",":hammer:":"🔨",":hamster:":"🐹",":handbag:":"👜",":hankey:":"💩",":hatched_chick:":"🐥",":hatching_chick:":"🐣",":headphones:":"🎧",":hear_no_evil:":"🙉",":heart_decoration:":"💟",":heart_eyes:":"😍",":heart_eyes_cat:":"😻",":heartbeat:":"💓",":heartpulse:":"💗",":heavy_dollar_sign:":"💲",":helicopter:":"🚁",":herb:":"🌿",":hibiscus:":"🌺",":high_brightness:":"🔆",":high_heel:":"👠",":hocho:":"🔪",":honey_pot:":"🍯",":honeybee:":"🐝",":horse:":"🐴",":horse_racing:":"🏇",":hospital:":"🏥",":hotel:":"🏨",":house:":"🏠",":house_with_garden:":"🏡",":hushed:":"😯",":ice_cream:":"🍨",":icecream:":"🍦",":id:":"🆔",":ideograph_advantage:":"🉐",":imp:":"👿",":inbox_tray:":"📥",":incoming_envelope:":"📨",":information_desk_person:":"💁",":innocent:":"😇",":halo:":"😇","0:-)":"😇","0:)":"😇","0:3":"😇","0:-3":"😇",":iphone:":"📱",":izakaya_lantern:":"🏮",":jack_o_lantern:":"🎃",":japan:":"🗾",":japanese_castle:":"🏯",":japanese_goblin:":"👺",":japanese_ogre:":"👹",":jeans:":"👖",":joy:":"😂",":joy_cat:":"😹",":key:":"🔑",":keycap_ten:":"🔟",":kimono:":"👘",":kiss:":"💋",":kissing:":"😗",":*":"😗",":^*":"😗",":kissing_cat:":"😽",":kissing_closed_eyes:":"😚",":kissing_heart:":"😘",":kissing_smiling_eyes:":"😙",":koala:":"🐨",":koko:":"🈁",":large_blue_circle:":"🔵",":large_blue_diamond:":"🔷",":large_orange_diamond:":"🔶",":last_quarter_moon:":"🌗",":last_quarter_moon_with_face:":"🌜",":laughing:":"😆",":laugh:":"😆",":-D":"😆",":D":"😆",":leaves:":"🍃",":ledger:":"📒",":left_luggage:":"🛅",":lemon:":"🍋",":leopard:":"🐆",":light_rail:":"🚈",":link:":"🔗",":lips:":"👄",":lipstick:":"💄",":lock:":"🔒",":lock_with_ink_pen:":"🔏",":lollipop:":"🍭",":loudspeaker:":"📢",":love_hotel:":"🏩",":love_letter:":"💌",":low_brightness:":"🔅",":mag:":"🔍",":mag_right:":"🔎",":mahjong:":"🀄",":mailbox:":"📫",":mailbox_closed:":"📪",":mailbox_with_mail:":"📬",":mailbox_with_no_mail:":"📭",":man:":"👨",":man_with_gua_pi_mao:":"👲",":man_with_turban:":"👳",":mans_shoe:":"👞",":maple_leaf:":"🍁",":mask:":"😷",":massage:":"💆",":meat_on_bone:":"🍖",":mega:":"📣",":melon:":"🍈",":memo:":"📝",":mens:":"🚹",":metro:":"🚇",":microphone:":"🎤",":microscope:":"🔬",":milky_way:":"🌌",":minibus:":"🚐",":minidisc:":"💽",":mobile_phone_off:":"📴",":money_with_wings:":"💸",":moneybag:":"💰",":monkey:":"🐒",":monkey_face:":"🐵",":monorail:":"🚝",":moon:":"🌙",":mortar_board:":"🎓",":mount_fuji:":"🗻",":mountain_bicyclist:":"🚵",":mountain_cableway:":"🚠",":mountain_railway:":"🚞",":mouse:":"🐭",":mouse2:":"🐁",":movie_camera:":"🎥",":moyai:":"🗿",":muscle:":"💪",":mushroom:":"🍄",":musical_keyboard:":"🎹",":musical_note:":"🎵",":musical_score:":"🎼",":mute:":"🔇",":nail_care:":"💅",":name_badge:":"📛",":necktie:":"👔",":neutral_face:":"😐",":|":"😐",":-|":"😐",":new:":"🆕",":new_moon:":"🌑",":new_moon_with_face:":"🌚",":newspaper:":"📰",":ng:":"🆖",":no_bell:":"🔕",":no_bicycles:":"🚳",":no_entry_sign:":"🚫",":no_good:":"🙅",":no_mobile_phones:":"📵",":no_mouth:":"😶",":no_pedestrians:":"🚷",":no_smoking:":"🚭",":non-potable_water:":"🚱",":nose:":"👃",":notebook:":"📓",":notebook_with_decorative_cover:":"📔",":notes:":"🎶",":nut_and_bolt:":"🔩",":o2:":"🅾",":ocean:":"🌊",":octopus:":"🐙",":oden:":"🍢",":office:":"🏢",":ok:":"🆗",":ok_hand:":"👌",":ok_woman:":"🙆",":older_man:":"👴",":older_woman:":"👵",":on:":"🔛",":oncoming_automobile:":"🚘",":oncoming_bus:":"🚍",":oncoming_police_car:":"🚔",":oncoming_taxi:":"🚖",":open_book:":"📖",":open_file_folder:":"📂",":open_hands:":"👐",":open_mouth:":"😮",":O":"😮",":-O":"😮",":-o":"😮",":o":"😮",":orange_book:":"📙",":outbox_tray:":"📤",":ox:":"🐂",":package:":"📦",":page_facing_up:":"📄",":page_with_curl:":"📃",":pager:":"📟",":palm_tree:":"🌴",":panda_face:":"🐼",":paperclip:":"📎",":parking:":"🅿",":passport_control:":"🛂",":paw_prints:":"🐾",":peach:":"🍑",":pear:":"🍐",":pencil:":"📝",":penguin:":"🐧",":pensive:":"😔",":performing_arts:":"🎭",":persevere:":"😣",":person_frowning:":"🙍",":person_with_blond_hair:":"👱",":person_with_pouting_face:":"🙎",":pig:":"🐷",":pig2:":"🐖",":pig_nose:":"🐽",":pill:":"💊",":pineapple:":"🍍",":pizza:":"🍕",":point_down:":"👇",":point_left:":"👈",":point_right:":"👉",":point_up_2:":"👆",":police_car:":"🚓",":poodle:":"🐩",":poop:":"💩",":post_office:":"🏣",":postal_horn:":"📯",":postbox:":"📮",":potable_water:":"🚰",":pouch:":"👝",":poultry_leg:":"🍗",":pound:":"💷",":pouting_cat:":"😾",":pray:":"🙏",":princess:":"👸",":punch:":"👊",":purple_heart:":"💜",":purse:":"👛",":pushpin:":"📌",":put_litter_in_its_place:":"🚮",":rabbit:":"🐰",":rabbit2:":"🐇",":racehorse:":"🐎",":radio:":"📻",":radio_button:":"🔘",":rage:":"😡",":railway_car:":"🚃",":rainbow:":"🌈",":raised_hands:":"🙌",":raising_hand:":"🙋",":ram:":"🐏",":ramen:":"🍜",":rat:":"🐀",":red_car:":"🚗",":red_circle:":"🔴",":relieved:":"😌",":repeat:":"🔁",":repeat_one:":"🔂",":restroom:":"🚻",":revolving_hearts:":"💞",":ribbon:":"🎀",":rice:":"🍚",":rice_ball:":"🍙",":rice_cracker:":"🍘",":rice_scene:":"🎑",":ring:":"💍",":rocket:":"🚀",":roller_coaster:":"🎢",":rooster:":"🐓",":rose:":"🌹",":rotating_light:":"🚨",":round_pushpin:":"📍",":rowboat:":"🚣",":rugby_football:":"🏉",":runner:":"🏃",":running:":"🏃",":running_shirt_with_sash:":"🎽",":sa:":"🈂",":sake:":"🍶",":sandal:":"👡",":santa:":"🎅",":satellite:":"📡",":satisfied:":"😆",":saxophone:":"🎷",":school:":"🏫",":school_satchel:":"🎒",":scream:":"😱",":scream_cat:":"🙀",":scroll:":"📜",":seat:":"💺",":see_no_evil:":"🙈",":seedling:":"🌱",":shaved_ice:":"🍧",":sheep:":"🐑",":shell:":"🐚",":ship:":"🚢",":shirt:":"👕",":shit:":"💩",":shoe:":"👞",":shower:":"🚿",":signal_strength:":"📶",":six_pointed_star:":"🔯",":ski:":"🎿",":skull:":"💀",":sleeping:":"😴",":sleepy:":"😪",":slot_machine:":"🎰",":small_blue_diamond:":"🔹",":small_orange_diamond:":"🔸",":small_red_triangle:":"🔺",":small_red_triangle_down:":"🔻",":smile:":"😄",":))":"😄",":-))":"😄",":smile_cat:":"😸",":smiley:":"😃",":-)":"😃",":)":"😃",":]":"😃",":o)":"😃",":smiley_cat:":"😺",":smiling_imp:":"😈","}:-)":"😈","3:-)":"😈","}:)":"😈","3:)":"😈",":smirk:":"😏",":smirk_cat:":"😼",":smoking:":"🚬",":snail:":"🐌",":snake:":"🐍",":snowboarder:":"🏂",":sob:":"😭",":soon:":"🔜",":sos:":"🆘",":sound:":"🔉",":space_invader:":"👾",":spaghetti:":"🍝",":sparkler:":"🎇",":sparkling_heart:":"💖",":speak_no_evil:":"🙊",":speaker:":"🔊",":speech_balloon:":"💬",":speedboat:":"🚤",":star2:":"🌟",":stars:":"🌃",":station:":"🚉",":statue_of_liberty:":"🗽",":steam_locomotive:":"🚂",":stew:":"🍲",":straight_ruler:":"📏",":strawberry:":"🍓",":stuck_out_tongue:":"😛",":P":"😛",":-P":"😛",":-p":"😛",":p":"😛",":stuck_out_tongue_closed_eyes:":"😝",XP:"😝","X-P":"😝",xP:"😝","x-P":"😝",Xp:"😝","X-p":"😝",":stuck_out_tongue_winking_eye:":"😜",":sun_with_face:":"🌞",":sunflower:":"🌻",":sunglasses:":"😎","8-)":"😎","8)":"😎",":sunrise:":"🌅",":sunrise_over_mountains:":"🌄",":surfer:":"🏄",":sushi:":"🍣",":suspension_railway:":"🚟",":sweat:":"😓",":sweat_drops:":"💦",":sweat_smile:":"😅",":sweet_potato:":"🍠",":swimmer:":"🏊",":symbols:":"🔣",":syringe:":"💉",":tada:":"🎉",":tanabata_tree:":"🎋",":tangerine:":"🍊",":taxi:":"🚕",":tea:":"🍵",":telephone_receiver:":"📞",":telescope:":"🔭",":tennis:":"🎾",":thought_balloon:":"💭",":thumbsdown:":"👎",":thumbsup:":"👍",":ticket:":"🎫",":tiger:":"🐯",":tiger2:":"🐅",":tired_face:":"😫",":toilet:":"🚽",":tokyo_tower:":"🗼",":tomato:":"🍅",":tongue:":"👅",":top:":"🔝",":tophat:":"🎩",":tractor:":"🚜",":traffic_light:":"🚥",":train:":"🚃",":train2:":"🚆",":tram:":"🚊",":triangular_flag_on_post:":"🚩",":triangular_ruler:":"📐",":trident:":"🔱",":triumph:":"😤",":trolleybus:":"🚎",":trophy:":"🏆",":tropical_drink:":"🍹",":tropical_fish:":"🐠",":truck:":"🚚",":trumpet:":"🎺",":tshirt:":"👕",":tulip:":"🌷",":turtle:":"🐢",":tv:":"📺",":twisted_rightwards_arrows:":"🔀",":two_hearts:":"💕",":two_men_holding_hands:":"👬",":two_women_holding_hands:":"👭",":u5272:":"🈹",":u5408:":"🈴",":u55b6:":"🈺",":u6307:":"🈯",":u6708:":"🈷",":u6709:":"🈶",":u6e80:":"🈵",":u7121:":"🈚",":u7533:":"🈸",":u7981:":"🈲",":u7a7a:":"🈳",":unamused:":"😒",":\\":"😒",":-\\":"😒",":-/":"😒",":/":"😒",":underage:":"🔞",":unlock:":"🔓",":up:":"🆙",":vertical_traffic_light:":"🚦",":vhs:":"📼",":vibration_mode:":"📳",":video_camera:":"📹",":video_game:":"🎮",":violin:":"🎻",":volcano:":"🌋",":vs:":"🆚",":walking:":"🚶",":waning_crescent_moon:":"🌘",":waning_gibbous_moon:":"🌖",":water_buffalo:":"🐃",":watermelon:":"🍉",":wave:":"👋",":waxing_crescent_moon:":"🌒",":waxing_gibbous_moon:":"🌔",":wc:":"🚾",":weary:":"😩",":wedding:":"💒",":whale:":"🐳",":whale2:":"🐋",":white_flower:":"💮",":white_square_button:":"🔳",":wind_chime:":"🎐",":wine_glass:":"🍷",":wink:":"😉",";)":"😉",";-)":"😉",":wolf:":"🐺",":woman:":"👩",":womans_clothes:":"👚",":womans_hat:":"👒",":womens:":"🚺",":worried:":"😟",":wrench:":"🔧",":yellow_heart:":"💛",":yen:":"💴",":yum:":"😋",":zzz:":"💤"}},{}],69:[function(a,b,c){var d=a("./emoji-map.js");b.exports=function(a){if("string"==typeof a){var b;return a.split(/[,. ]+/).forEach(function(c){d.hasOwnProperty(c)&&(b=d[c],a=a.replace(c,b))}),a}}},{"./emoji-map.js":68}],70:[function(a,b,c){(function(a){var c=a.location||{},d=function(){"use strict";function a(a){return document.createTextNode(a)}function b(a){return a.replace(t,i)}function d(a,b){return"".concat(b.base,b.size,"/",a,b.ext)}function e(a,b){for(var c,d,f=a.childNodes,g=f.length;g--;)c=f[g],d=c.nodeType,3===d?b.push(c):1!==d||u.test(c.nodeName)||e(c,b);return b}function f(a,b){return p("️"===b?a.slice(0,-1):3===a.length&&"️"===a.charAt(1)?a.charAt(0)+a.charAt(2):a)}function g(b,c){for(var d,g,h,i,j,k,l,m,n,o,p,r,t,u,v=e(b,[]),w=v.length;w--;){for(h=!1,i=document.createDocumentFragment(),j=v[w],k=j.nodeValue,m=0;l=s.exec(k);){if(n=l.index,n!==m&&i.appendChild(a(k.slice(m,n))),p=l[0],r=l[1],t=l[2],m=n+p.length,"︎"!==t&&(u=c.callback(f(r,t),c,t))){o=new Image,o.onerror=q.onerror,o.setAttribute("draggable","false"),d=c.attributes(r,t);for(g in d)d.hasOwnProperty(g)&&0!==g.indexOf("on")&&!o.hasAttribute(g)&&o.setAttribute(g,d[g]);o.className=c.className,o.alt=p,o.src=u,h=!0,i.appendChild(o)}o||i.appendChild(a(p)),o=null}h&&(m<k.length&&i.appendChild(a(k.slice(m))),j.parentNode.replaceChild(i,j))}return b}function h(a,c){return n(a,function(a,d,e){var g,h,i,j=a;if("︎"!==e&&(i=c.callback(f(d,e),c,e))){j="<img ".concat('class="',c.className,'" ','draggable="false" ','alt="',a,'"',' src="',i,'"'),g=c.attributes(d,e);for(h in g)g.hasOwnProperty(h)&&0!==h.indexOf("on")&&j.indexOf(" "+h+"=")===-1&&(j=j.concat(" ",h,'="',b(g[h]),'"'));j=j.concat(">")}return j})}function i(a){return r[a]}function j(){return null}function k(a){return"number"==typeof a?a+"x"+a:a}function l(a){var b="string"==typeof a?parseInt(a,16):a;return b<65536?v(b):(b-=65536,v(55296+(b>>10),56320+(1023&b)))}function m(a,b){return b&&"function"!=typeof b||(b={callback:b}),("string"==typeof a?h:g)(a,{callback:b.callback||d,attributes:"function"==typeof b.attributes?b.attributes:j,base:"string"==typeof b.base?b.base:q.base,ext:b.ext||q.ext,size:b.folder||k(b.size||q.size),className:b.className||q.className})}function n(a,b){return String(a).replace(s,b)}function o(a){s.lastIndex=0;var b=s.test(a);return s.lastIndex=0,b}function p(a,b){for(var c=[],d=0,e=0,f=0;f<a.length;)d=a.charCodeAt(f++),e?(c.push((65536+(e-55296<<10)+(d-56320)).toString(16)),e=0):55296<=d&&d<=56319?e=d:c.push(d.toString(16));return c.join(b||"-")}var q={base:("https:"===c.protocol?"https:":"http:")+"//twemoji.maxcdn.com/",ext:".png",size:"36x36",className:"emoji",convert:{fromCodePoint:l,toCodePoint:p},onerror:function(){this.parentNode&&this.parentNode.replaceChild(a(this.alt),this)},parse:m,replace:n,test:o},r={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"
},s=/((?:\ud83c\udde8\ud83c\uddf3|\ud83c\uddfa\ud83c\uddf8|\ud83c\uddf7\ud83c\uddfa|\ud83c\uddf0\ud83c\uddf7|\ud83c\uddef\ud83c\uddf5|\ud83c\uddee\ud83c\uddf9|\ud83c\uddec\ud83c\udde7|\ud83c\uddeb\ud83c\uddf7|\ud83c\uddea\ud83c\uddf8|\ud83c\udde9\ud83c\uddea|\u0039\ufe0f?\u20e3|\u0038\ufe0f?\u20e3|\u0037\ufe0f?\u20e3|\u0036\ufe0f?\u20e3|\u0035\ufe0f?\u20e3|\u0034\ufe0f?\u20e3|\u0033\ufe0f?\u20e3|\u0032\ufe0f?\u20e3|\u0031\ufe0f?\u20e3|\u0030\ufe0f?\u20e3|\u0023\ufe0f?\u20e3|\ud83d\udeb3|\ud83d\udeb1|\ud83d\udeb0|\ud83d\udeaf|\ud83d\udeae|\ud83d\udea6|\ud83d\udea3|\ud83d\udea1|\ud83d\udea0|\ud83d\ude9f|\ud83d\ude9e|\ud83d\ude9d|\ud83d\ude9c|\ud83d\ude9b|\ud83d\ude98|\ud83d\ude96|\ud83d\ude94|\ud83d\ude90|\ud83d\ude8e|\ud83d\ude8d|\ud83d\ude8b|\ud83d\ude8a|\ud83d\ude88|\ud83d\ude86|\ud83d\ude82|\ud83d\ude81|\ud83d\ude36|\ud83d\ude34|\ud83d\ude2f|\ud83d\ude2e|\ud83d\ude2c|\ud83d\ude27|\ud83d\ude26|\ud83d\ude1f|\ud83d\ude1b|\ud83d\ude19|\ud83d\ude17|\ud83d\ude15|\ud83d\ude11|\ud83d\ude10|\ud83d\ude0e|\ud83d\ude08|\ud83d\ude07|\ud83d\ude00|\ud83d\udd67|\ud83d\udd66|\ud83d\udd65|\ud83d\udd64|\ud83d\udd63|\ud83d\udd62|\ud83d\udd61|\ud83d\udd60|\ud83d\udd5f|\ud83d\udd5e|\ud83d\udd5d|\ud83d\udd5c|\ud83d\udd2d|\ud83d\udd2c|\ud83d\udd15|\ud83d\udd09|\ud83d\udd08|\ud83d\udd07|\ud83d\udd06|\ud83d\udd05|\ud83d\udd04|\ud83d\udd02|\ud83d\udd01|\ud83d\udd00|\ud83d\udcf5|\ud83d\udcef|\ud83d\udced|\ud83d\udcec|\ud83d\udcb7|\ud83d\udcb6|\ud83d\udcad|\ud83d\udc6d|\ud83d\udc6c|\ud83d\udc65|\ud83d\udc2a|\ud83d\udc16|\ud83d\udc15|\ud83d\udc13|\ud83d\udc10|\ud83d\udc0f|\ud83d\udc0b|\ud83d\udc0a|\ud83d\udc09|\ud83d\udc08|\ud83d\udc07|\ud83d\udc06|\ud83d\udc05|\ud83d\udc04|\ud83d\udc03|\ud83d\udc02|\ud83d\udc01|\ud83d\udc00|\ud83c\udfe4|\ud83c\udfc9|\ud83c\udfc7|\ud83c\udf7c|\ud83c\udf50|\ud83c\udf4b|\ud83c\udf33|\ud83c\udf32|\ud83c\udf1e|\ud83c\udf1d|\ud83c\udf1c|\ud83c\udf1a|\ud83c\udf18|\ud83c\udccf|\ud83c\udd70|\ud83c\udd71|\ud83c\udd7e|\ud83c\udd8e|\ud83c\udd91|\ud83c\udd92|\ud83c\udd93|\ud83c\udd94|\ud83c\udd95|\ud83c\udd96|\ud83c\udd97|\ud83c\udd98|\ud83c\udd99|\ud83c\udd9a|\ud83d\udc77|\ud83d\udec5|\ud83d\udec4|\ud83d\udec3|\ud83d\udec2|\ud83d\udec1|\ud83d\udebf|\ud83d\udeb8|\ud83d\udeb7|\ud83d\udeb5|\ud83c\ude01|\ud83c\ude02|\ud83c\ude32|\ud83c\ude33|\ud83c\ude34|\ud83c\ude35|\ud83c\ude36|\ud83c\ude37|\ud83c\ude38|\ud83c\ude39|\ud83c\ude3a|\ud83c\ude50|\ud83c\ude51|\ud83c\udf00|\ud83c\udf01|\ud83c\udf02|\ud83c\udf03|\ud83c\udf04|\ud83c\udf05|\ud83c\udf06|\ud83c\udf07|\ud83c\udf08|\ud83c\udf09|\ud83c\udf0a|\ud83c\udf0b|\ud83c\udf0c|\ud83c\udf0f|\ud83c\udf11|\ud83c\udf13|\ud83c\udf14|\ud83c\udf15|\ud83c\udf19|\ud83c\udf1b|\ud83c\udf1f|\ud83c\udf20|\ud83c\udf30|\ud83c\udf31|\ud83c\udf34|\ud83c\udf35|\ud83c\udf37|\ud83c\udf38|\ud83c\udf39|\ud83c\udf3a|\ud83c\udf3b|\ud83c\udf3c|\ud83c\udf3d|\ud83c\udf3e|\ud83c\udf3f|\ud83c\udf40|\ud83c\udf41|\ud83c\udf42|\ud83c\udf43|\ud83c\udf44|\ud83c\udf45|\ud83c\udf46|\ud83c\udf47|\ud83c\udf48|\ud83c\udf49|\ud83c\udf4a|\ud83c\udf4c|\ud83c\udf4d|\ud83c\udf4e|\ud83c\udf4f|\ud83c\udf51|\ud83c\udf52|\ud83c\udf53|\ud83c\udf54|\ud83c\udf55|\ud83c\udf56|\ud83c\udf57|\ud83c\udf58|\ud83c\udf59|\ud83c\udf5a|\ud83c\udf5b|\ud83c\udf5c|\ud83c\udf5d|\ud83c\udf5e|\ud83c\udf5f|\ud83c\udf60|\ud83c\udf61|\ud83c\udf62|\ud83c\udf63|\ud83c\udf64|\ud83c\udf65|\ud83c\udf66|\ud83c\udf67|\ud83c\udf68|\ud83c\udf69|\ud83c\udf6a|\ud83c\udf6b|\ud83c\udf6c|\ud83c\udf6d|\ud83c\udf6e|\ud83c\udf6f|\ud83c\udf70|\ud83c\udf71|\ud83c\udf72|\ud83c\udf73|\ud83c\udf74|\ud83c\udf75|\ud83c\udf76|\ud83c\udf77|\ud83c\udf78|\ud83c\udf79|\ud83c\udf7a|\ud83c\udf7b|\ud83c\udf80|\ud83c\udf81|\ud83c\udf82|\ud83c\udf83|\ud83c\udf84|\ud83c\udf85|\ud83c\udf86|\ud83c\udf87|\ud83c\udf88|\ud83c\udf89|\ud83c\udf8a|\ud83c\udf8b|\ud83c\udf8c|\ud83c\udf8d|\ud83c\udf8e|\ud83c\udf8f|\ud83c\udf90|\ud83c\udf91|\ud83c\udf92|\ud83c\udf93|\ud83c\udfa0|\ud83c\udfa1|\ud83c\udfa2|\ud83c\udfa3|\ud83c\udfa4|\ud83c\udfa5|\ud83c\udfa6|\ud83c\udfa7|\ud83c\udfa8|\ud83c\udfa9|\ud83c\udfaa|\ud83c\udfab|\ud83c\udfac|\ud83c\udfad|\ud83c\udfae|\ud83c\udfaf|\ud83c\udfb0|\ud83c\udfb1|\ud83c\udfb2|\ud83c\udfb3|\ud83c\udfb4|\ud83c\udfb5|\ud83c\udfb6|\ud83c\udfb7|\ud83c\udfb8|\ud83c\udfb9|\ud83c\udfba|\ud83c\udfbb|\ud83c\udfbc|\ud83c\udfbd|\ud83c\udfbe|\ud83c\udfbf|\ud83c\udfc0|\ud83c\udfc1|\ud83c\udfc2|\ud83c\udfc3|\ud83c\udfc4|\ud83c\udfc6|\ud83c\udfc8|\ud83c\udfca|\ud83c\udfe0|\ud83c\udfe1|\ud83c\udfe2|\ud83c\udfe3|\ud83c\udfe5|\ud83c\udfe6|\ud83c\udfe7|\ud83c\udfe8|\ud83c\udfe9|\ud83c\udfea|\ud83c\udfeb|\ud83c\udfec|\ud83c\udfed|\ud83c\udfee|\ud83c\udfef|\ud83c\udff0|\ud83d\udc0c|\ud83d\udc0d|\ud83d\udc0e|\ud83d\udc11|\ud83d\udc12|\ud83d\udc14|\ud83d\udc17|\ud83d\udc18|\ud83d\udc19|\ud83d\udc1a|\ud83d\udc1b|\ud83d\udc1c|\ud83d\udc1d|\ud83d\udc1e|\ud83d\udc1f|\ud83d\udc20|\ud83d\udc21|\ud83d\udc22|\ud83d\udc23|\ud83d\udc24|\ud83d\udc25|\ud83d\udc26|\ud83d\udc27|\ud83d\udc28|\ud83d\udc29|\ud83d\udc2b|\ud83d\udc2c|\ud83d\udc2d|\ud83d\udc2e|\ud83d\udc2f|\ud83d\udc30|\ud83d\udc31|\ud83d\udc32|\ud83d\udc33|\ud83d\udc34|\ud83d\udc35|\ud83d\udc36|\ud83d\udc37|\ud83d\udc38|\ud83d\udc39|\ud83d\udc3a|\ud83d\udc3b|\ud83d\udc3c|\ud83d\udc3d|\ud83d\udc3e|\ud83d\udc40|\ud83d\udc42|\ud83d\udc43|\ud83d\udc44|\ud83d\udc45|\ud83d\udc46|\ud83d\udc47|\ud83d\udc48|\ud83d\udc49|\ud83d\udc4a|\ud83d\udc4b|\ud83d\udc4c|\ud83d\udc4d|\ud83d\udc4e|\ud83d\udc4f|\ud83d\udc50|\ud83d\udc51|\ud83d\udc52|\ud83d\udc53|\ud83d\udc54|\ud83d\udc55|\ud83d\udc56|\ud83d\udc57|\ud83d\udc58|\ud83d\udc59|\ud83d\udc5a|\ud83d\udc5b|\ud83d\udc5c|\ud83d\udc5d|\ud83d\udc5e|\ud83d\udc5f|\ud83d\udc60|\ud83d\udc61|\ud83d\udc62|\ud83d\udc63|\ud83d\udc64|\ud83d\udc66|\ud83d\udc67|\ud83d\udc68|\ud83d\udc69|\ud83d\udc6a|\ud83d\udc6b|\ud83d\udc6e|\ud83d\udc6f|\ud83d\udc70|\ud83d\udc71|\ud83d\udc72|\ud83d\udc73|\ud83d\udc74|\ud83d\udc75|\ud83d\udc76|\ud83d\udeb4|\ud83d\udc78|\ud83d\udc79|\ud83d\udc7a|\ud83d\udc7b|\ud83d\udc7c|\ud83d\udc7d|\ud83d\udc7e|\ud83d\udc7f|\ud83d\udc80|\ud83d\udc81|\ud83d\udc82|\ud83d\udc83|\ud83d\udc84|\ud83d\udc85|\ud83d\udc86|\ud83d\udc87|\ud83d\udc88|\ud83d\udc89|\ud83d\udc8a|\ud83d\udc8b|\ud83d\udc8c|\ud83d\udc8d|\ud83d\udc8e|\ud83d\udc8f|\ud83d\udc90|\ud83d\udc91|\ud83d\udc92|\ud83d\udc93|\ud83d\udc94|\ud83d\udc95|\ud83d\udc96|\ud83d\udc97|\ud83d\udc98|\ud83d\udc99|\ud83d\udc9a|\ud83d\udc9b|\ud83d\udc9c|\ud83d\udc9d|\ud83d\udc9e|\ud83d\udc9f|\ud83d\udca0|\ud83d\udca1|\ud83d\udca2|\ud83d\udca3|\ud83d\udca4|\ud83d\udca5|\ud83d\udca6|\ud83d\udca7|\ud83d\udca8|\ud83d\udca9|\ud83d\udcaa|\ud83d\udcab|\ud83d\udcac|\ud83d\udcae|\ud83d\udcaf|\ud83d\udcb0|\ud83d\udcb1|\ud83d\udcb2|\ud83d\udcb3|\ud83d\udcb4|\ud83d\udcb5|\ud83d\udcb8|\ud83d\udcb9|\ud83d\udcba|\ud83d\udcbb|\ud83d\udcbc|\ud83d\udcbd|\ud83d\udcbe|\ud83d\udcbf|\ud83d\udcc0|\ud83d\udcc1|\ud83d\udcc2|\ud83d\udcc3|\ud83d\udcc4|\ud83d\udcc5|\ud83d\udcc6|\ud83d\udcc7|\ud83d\udcc8|\ud83d\udcc9|\ud83d\udcca|\ud83d\udccb|\ud83d\udccc|\ud83d\udccd|\ud83d\udcce|\ud83d\udccf|\ud83d\udcd0|\ud83d\udcd1|\ud83d\udcd2|\ud83d\udcd3|\ud83d\udcd4|\ud83d\udcd5|\ud83d\udcd6|\ud83d\udcd7|\ud83d\udcd8|\ud83d\udcd9|\ud83d\udcda|\ud83d\udcdb|\ud83d\udcdc|\ud83d\udcdd|\ud83d\udcde|\ud83d\udcdf|\ud83d\udce0|\ud83d\udce1|\ud83d\udce2|\ud83d\udce3|\ud83d\udce4|\ud83d\udce5|\ud83d\udce6|\ud83d\udce7|\ud83d\udce8|\ud83d\udce9|\ud83d\udcea|\ud83d\udceb|\ud83d\udcee|\ud83d\udcf0|\ud83d\udcf1|\ud83d\udcf2|\ud83d\udcf3|\ud83d\udcf4|\ud83d\udcf6|\ud83d\udcf7|\ud83d\udcf9|\ud83d\udcfa|\ud83d\udcfb|\ud83d\udcfc|\ud83d\udd03|\ud83d\udd0a|\ud83d\udd0b|\ud83d\udd0c|\ud83d\udd0d|\ud83d\udd0e|\ud83d\udd0f|\ud83d\udd10|\ud83d\udd11|\ud83d\udd12|\ud83d\udd13|\ud83d\udd14|\ud83d\udd16|\ud83d\udd17|\ud83d\udd18|\ud83d\udd19|\ud83d\udd1a|\ud83d\udd1b|\ud83d\udd1c|\ud83d\udd1d|\ud83d\udd1e|\ud83d\udd1f|\ud83d\udd20|\ud83d\udd21|\ud83d\udd22|\ud83d\udd23|\ud83d\udd24|\ud83d\udd25|\ud83d\udd26|\ud83d\udd27|\ud83d\udd28|\ud83d\udd29|\ud83d\udd2a|\ud83d\udd2b|\ud83d\udd2e|\ud83d\udd2f|\ud83d\udd30|\ud83d\udd31|\ud83d\udd32|\ud83d\udd33|\ud83d\udd34|\ud83d\udd35|\ud83d\udd36|\ud83d\udd37|\ud83d\udd38|\ud83d\udd39|\ud83d\udd3a|\ud83d\udd3b|\ud83d\udd3c|\ud83d\udd3d|\ud83d\udd50|\ud83d\udd51|\ud83d\udd52|\ud83d\udd53|\ud83d\udd54|\ud83d\udd55|\ud83d\udd56|\ud83d\udd57|\ud83d\udd58|\ud83d\udd59|\ud83d\udd5a|\ud83d\udd5b|\ud83d\uddfb|\ud83d\uddfc|\ud83d\uddfd|\ud83d\uddfe|\ud83d\uddff|\ud83d\ude01|\ud83d\ude02|\ud83d\ude03|\ud83d\ude04|\ud83d\ude05|\ud83d\ude06|\ud83d\ude09|\ud83d\ude0a|\ud83d\ude0b|\ud83d\ude0c|\ud83d\ude0d|\ud83d\ude0f|\ud83d\ude12|\ud83d\ude13|\ud83d\ude14|\ud83d\ude16|\ud83d\ude18|\ud83d\ude1a|\ud83d\ude1c|\ud83d\ude1d|\ud83d\ude1e|\ud83d\ude20|\ud83d\ude21|\ud83d\ude22|\ud83d\ude23|\ud83d\ude24|\ud83d\ude25|\ud83d\ude28|\ud83d\ude29|\ud83d\ude2a|\ud83d\ude2b|\ud83d\ude2d|\ud83d\ude30|\ud83d\ude31|\ud83d\ude32|\ud83d\ude33|\ud83d\ude35|\ud83d\ude37|\ud83d\ude38|\ud83d\ude39|\ud83d\ude3a|\ud83d\ude3b|\ud83d\ude3c|\ud83d\ude3d|\ud83d\ude3e|\ud83d\ude3f|\ud83d\ude40|\ud83d\ude45|\ud83d\ude46|\ud83d\ude47|\ud83d\ude48|\ud83d\ude49|\ud83d\ude4a|\ud83d\ude4b|\ud83d\ude4c|\ud83d\ude4d|\ud83d\ude4e|\ud83d\ude4f|\ud83d\ude80|\ud83d\ude83|\ud83d\ude84|\ud83d\ude85|\ud83d\ude87|\ud83d\ude89|\ud83d\ude8c|\ud83d\ude8f|\ud83d\ude91|\ud83d\ude92|\ud83d\ude93|\ud83d\ude95|\ud83d\ude97|\ud83d\ude99|\ud83d\ude9a|\ud83d\udea2|\ud83d\udea4|\ud83d\udea5|\ud83d\udea7|\ud83d\udea8|\ud83d\udea9|\ud83d\udeaa|\ud83d\udeab|\ud83d\udeac|\ud83d\udead|\ud83d\udeb2|\ud83d\udeb6|\ud83d\udeb9|\ud83d\udeba|\ud83d\udebb|\ud83d\udebc|\ud83d\udebd|\ud83d\udebe|\ud83d\udec0|\ud83c\udde6|\ud83c\udde7|\ud83c\udde8|\ud83c\udde9|\ud83c\uddea|\ud83c\uddeb|\ud83c\uddec|\ud83c\udded|\ud83c\uddee|\ud83c\uddef|\ud83c\uddf0|\ud83c\uddf1|\ud83c\uddf2|\ud83c\uddf3|\ud83c\uddf4|\ud83c\uddf5|\ud83c\uddf6|\ud83c\uddf7|\ud83c\uddf8|\ud83c\uddf9|\ud83c\uddfa|\ud83c\uddfb|\ud83c\uddfc|\ud83c\uddfd|\ud83c\uddfe|\ud83c\uddff|\ud83c\udf0d|\ud83c\udf0e|\ud83c\udf10|\ud83c\udf12|\ud83c\udf16|\ud83c\udf17|\ue50a|\u3030|\u27b0|\u2797|\u2796|\u2795|\u2755|\u2754|\u2753|\u274e|\u274c|\u2728|\u270b|\u270a|\u2705|\u26ce|\u23f3|\u23f0|\u23ec|\u23eb|\u23ea|\u23e9|\u2122|\u27bf|\u00a9|\u00ae)|(?:(?:\ud83c\udc04|\ud83c\udd7f|\ud83c\ude1a|\ud83c\ude2f|\u3299|\u303d|\u2b55|\u2b50|\u2b1c|\u2b1b|\u2b07|\u2b06|\u2b05|\u2935|\u2934|\u27a1|\u2764|\u2757|\u2747|\u2744|\u2734|\u2733|\u2716|\u2714|\u2712|\u270f|\u270c|\u2709|\u2708|\u2702|\u26fd|\u26fa|\u26f5|\u26f3|\u26f2|\u26ea|\u26d4|\u26c5|\u26c4|\u26be|\u26bd|\u26ab|\u26aa|\u26a1|\u26a0|\u2693|\u267f|\u267b|\u3297|\u2666|\u2665|\u2663|\u2660|\u2653|\u2652|\u2651|\u2650|\u264f|\u264e|\u264d|\u264c|\u264b|\u264a|\u2649|\u2648|\u263a|\u261d|\u2615|\u2614|\u2611|\u260e|\u2601|\u2600|\u25fe|\u25fd|\u25fc|\u25fb|\u25c0|\u25b6|\u25ab|\u25aa|\u24c2|\u231b|\u231a|\u21aa|\u21a9|\u2199|\u2198|\u2197|\u2196|\u2195|\u2194|\u2139|\u2049|\u203c|\u2668)([\uFE0E\uFE0F]?)))/g,t=/[&<>'"]/g,u=/IFRAME|NOFRAMES|NOSCRIPT|SCRIPT|SELECT|STYLE|TEXTAREA/,v=String.fromCharCode;return q}();c.protocol||(d.base=d.base.replace(/^http:/,"")),b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],71:[function(a,b,c){!function(){window.WebComponents=window.WebComponents||{flags:{}};var a=document.querySelector('script[src*="webcomponents-lite.js"]'),b={};if(!b.noOpts){if(location.search.slice(1).split("&").forEach(function(a){var c,d=a.split("=");d[0]&&(c=d[0].match(/wc-(.+)/))&&(b[c[1]]=d[1]||!0)}),a)for(var c,d=0;c=a.attributes[d];d++)"src"!==c.name&&(b[c.name]=c.value||!0);if(b.log&&b.log.split){var e=b.log.split(",");b.log={},e.forEach(function(a){b.log[a]=!0})}else b.log={}}b.register&&(window.CustomElements=window.CustomElements||{flags:{}},window.CustomElements.flags.register=b.register),WebComponents.flags=b}(),function(a){"use strict";function b(a){return void 0!==l[a]}function c(){h.call(this),this._isInvalid=!0}function d(a){return""==a&&c.call(this),a.toLowerCase()}function e(a){var b=a.charCodeAt(0);return b>32&&b<127&&[34,35,60,62,63,96].indexOf(b)==-1?a:encodeURIComponent(a)}function f(a){var b=a.charCodeAt(0);return b>32&&b<127&&[34,35,60,62,96].indexOf(b)==-1?a:encodeURIComponent(a)}function g(a,g,h){function i(a){t.push(a)}var j=g||"scheme start",k=0,q="",r=!1,s=!1,t=[];a:for(;(a[k-1]!=n||0==k)&&!this._isInvalid;){var u=a[k];switch(j){case"scheme start":if(!u||!o.test(u)){if(g){i("Invalid scheme.");break a}q="",j="no scheme";continue}q+=u.toLowerCase(),j="scheme";break;case"scheme":if(u&&p.test(u))q+=u.toLowerCase();else{if(":"!=u){if(g){if(n==u)break a;i("Code point not allowed in scheme: "+u);break a}q="",k=0,j="no scheme";continue}if(this._scheme=q,q="",g)break a;b(this._scheme)&&(this._isRelative=!0),j="file"==this._scheme?"relative":this._isRelative&&h&&h._scheme==this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"==u?(this._query="?",j="query"):"#"==u?(this._fragment="#",j="fragment"):n!=u&&"\t"!=u&&"\n"!=u&&"\r"!=u&&(this._schemeData+=e(u));break;case"no scheme":if(h&&b(h._scheme)){j="relative";continue}i("Missing scheme."),c.call(this);break;case"relative or authority":if("/"!=u||"/"!=a[k+1]){i("Expected /, got: "+u),j="relative";continue}j="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!=this._scheme&&(this._scheme=h._scheme),n==u){this._host=h._host,this._port=h._port,this._path=h._path.slice(),this._query=h._query,this._username=h._username,this._password=h._password;break a}if("/"==u||"\\"==u)"\\"==u&&i("\\ is an invalid code point."),j="relative slash";else if("?"==u)this._host=h._host,this._port=h._port,this._path=h._path.slice(),this._query="?",this._username=h._username,this._password=h._password,j="query";else{if("#"!=u){var v=a[k+1],w=a[k+2];("file"!=this._scheme||!o.test(u)||":"!=v&&"|"!=v||n!=w&&"/"!=w&&"\\"!=w&&"?"!=w&&"#"!=w)&&(this._host=h._host,this._port=h._port,this._username=h._username,this._password=h._password,this._path=h._path.slice(),this._path.pop()),j="relative path";continue}this._host=h._host,this._port=h._port,this._path=h._path.slice(),this._query=h._query,this._fragment="#",this._username=h._username,this._password=h._password,j="fragment"}break;case"relative slash":if("/"!=u&&"\\"!=u){"file"!=this._scheme&&(this._host=h._host,this._port=h._port,this._username=h._username,this._password=h._password),j="relative path";continue}"\\"==u&&i("\\ is an invalid code point."),j="file"==this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=u){i("Expected '/', got: "+u),j="authority ignore slashes";continue}j="authority second slash";break;case"authority second slash":if(j="authority ignore slashes","/"!=u){i("Expected '/', got: "+u);continue}break;case"authority ignore slashes":if("/"!=u&&"\\"!=u){j="authority";continue}i("Expected authority, got: "+u);break;case"authority":if("@"==u){r&&(i("@ already seen."),q+="%40"),r=!0;for(var x=0;x<q.length;x++){var y=q[x];if("\t"!=y&&"\n"!=y&&"\r"!=y)if(":"!=y||null!==this._password){var z=e(y);null!==this._password?this._password+=z:this._username+=z}else this._password="";else i("Invalid whitespace in authority.")}q=""}else{if(n==u||"/"==u||"\\"==u||"?"==u||"#"==u){k-=q.length,q="",j="host";continue}q+=u}break;case"file host":if(n==u||"/"==u||"\\"==u||"?"==u||"#"==u){2!=q.length||!o.test(q[0])||":"!=q[1]&&"|"!=q[1]?0==q.length?j="relative path start":(this._host=d.call(this,q),q="",j="relative path start"):j="relative path";continue}"\t"==u||"\n"==u||"\r"==u?i("Invalid whitespace in file host."):q+=u;break;case"host":case"hostname":if(":"!=u||s){if(n==u||"/"==u||"\\"==u||"?"==u||"#"==u){if(this._host=d.call(this,q),q="",j="relative path start",g)break a;continue}"\t"!=u&&"\n"!=u&&"\r"!=u?("["==u?s=!0:"]"==u&&(s=!1),q+=u):i("Invalid code point in host/hostname: "+u)}else if(this._host=d.call(this,q),q="",j="port","hostname"==g)break a;break;case"port":if(/[0-9]/.test(u))q+=u;else{if(n==u||"/"==u||"\\"==u||"?"==u||"#"==u||g){if(""!=q){var A=parseInt(q,10);A!=l[this._scheme]&&(this._port=A+""),q=""}if(g)break a;j="relative path start";continue}"\t"==u||"\n"==u||"\r"==u?i("Invalid code point in port: "+u):c.call(this)}break;case"relative path start":if("\\"==u&&i("'\\' not allowed in path."),j="relative path","/"!=u&&"\\"!=u)continue;break;case"relative path":if(n!=u&&"/"!=u&&"\\"!=u&&(g||"?"!=u&&"#"!=u))"\t"!=u&&"\n"!=u&&"\r"!=u&&(q+=e(u));else{"\\"==u&&i("\\ not allowed in relative path.");var B;(B=m[q.toLowerCase()])&&(q=B),".."==q?(this._path.pop(),"/"!=u&&"\\"!=u&&this._path.push("")):"."==q&&"/"!=u&&"\\"!=u?this._path.push(""):"."!=q&&("file"==this._scheme&&0==this._path.length&&2==q.length&&o.test(q[0])&&"|"==q[1]&&(q=q[0]+":"),this._path.push(q)),q="","?"==u?(this._query="?",j="query"):"#"==u&&(this._fragment="#",j="fragment")}break;case"query":g||"#"!=u?n!=u&&"\t"!=u&&"\n"!=u&&"\r"!=u&&(this._query+=f(u)):(this._fragment="#",j="fragment");break;case"fragment":n!=u&&"\t"!=u&&"\n"!=u&&"\r"!=u&&(this._fragment+=u)}k++}}function h(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function i(a,b){void 0===b||b instanceof i||(b=new i(String(b))),this._url=a,h.call(this);var c=a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");g.call(this,c,null,b)}var j=!1;if(!a.forceJURL)try{var k=new URL("b","http://a");k.pathname="c%20d",j="http://a/c%20d"===k.href}catch(a){}if(!j){var l=Object.create(null);l.ftp=21,l.file=0,l.gopher=70,l.http=80,l.https=443,l.ws=80,l.wss=443;var m=Object.create(null);m["%2e"]=".",m[".%2e"]="..",m["%2e."]="..",m["%2e%2e"]="..";var n=void 0,o=/[a-zA-Z]/,p=/[a-zA-Z0-9\+\-\.]/;i.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var a="";return""==this._username&&null==this._password||(a=this._username+(null!=this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+a+this.host:"")+this.pathname+this._query+this._fragment},set href(a){h.call(this),g.call(this,a)},get protocol(){return this._scheme+":"},set protocol(a){this._isInvalid||g.call(this,a+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(a){!this._isInvalid&&this._isRelative&&g.call(this,a,"host")},get hostname(){return this._host},set hostname(a){!this._isInvalid&&this._isRelative&&g.call(this,a,"hostname")},get port(){return this._port},set port(a){!this._isInvalid&&this._isRelative&&g.call(this,a,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(a){!this._isInvalid&&this._isRelative&&(this._path=[],g.call(this,a,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"==this._query?"":this._query},set search(a){!this._isInvalid&&this._isRelative&&(this._query="?","?"==a[0]&&(a=a.slice(1)),g.call(this,a,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"==this._fragment?"":this._fragment},set hash(a){this._isInvalid||(this._fragment="#","#"==a[0]&&(a=a.slice(1)),g.call(this,a,"fragment"))},get origin(){var a;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null"}return a=this.host,a?this._scheme+"://"+a:""}};var q=a.URL;q&&(i.createObjectURL=function(a){return q.createObjectURL.apply(q,arguments)},i.revokeObjectURL=function(a){q.revokeObjectURL(a)}),a.URL=i}}(self),"undefined"==typeof WeakMap&&function(){var a=Object.defineProperty,b=Date.now()%1e9,c=function(){this.name="__st"+(1e9*Math.random()>>>0)+b+++"__"};c.prototype={set:function(b,c){var d=b[this.name];return d&&d[0]===b?d[1]=c:a(b,this.name,{value:[b,c],writable:!0}),this},get:function(a){var b;return(b=a[this.name])&&b[0]===a?b[1]:void 0},delete:function(a){var b=a[this.name];return!(!b||b[0]!==a)&&(b[0]=b[1]=void 0,!0)},has:function(a){var b=a[this.name];return!!b&&b[0]===a}},window.WeakMap=c}(),function(a){function b(a){u.push(a),t||(t=!0,p(d))}function c(a){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(a)||a}function d(){t=!1;var a=u;u=[],a.sort(function(a,b){return a.uid_-b.uid_});var b=!1;a.forEach(function(a){var c=a.takeRecords();e(a),c.length&&(a.callback_(c,a),b=!0)}),b&&d()}function e(a){a.nodes_.forEach(function(b){var c=q.get(b);c&&c.forEach(function(b){b.observer===a&&b.removeTransientObservers()})})}function f(a,b){for(var c=a;c;c=c.parentNode){var d=q.get(c);if(d)for(var e=0;e<d.length;e++){var f=d[e],g=f.options;if(c===a||g.subtree){var h=b(g);h&&f.enqueue(h)}}}}function g(a){this.callback_=a,this.nodes_=[],this.records_=[],this.uid_=++v}function h(a,b){this.type=a,this.target=b,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function i(a){var b=new h(a.type,a.target);return b.addedNodes=a.addedNodes.slice(),b.removedNodes=a.removedNodes.slice(),b.previousSibling=a.previousSibling,b.nextSibling=a.nextSibling,b.attributeName=a.attributeName,b.attributeNamespace=a.attributeNamespace,b.oldValue=a.oldValue,b}function j(a,b){return w=new h(a,b)}function k(a){return x?x:(x=i(w),x.oldValue=a,x)}function l(){w=x=void 0}function m(a){return a===x||a===w}function n(a,b){return a===b?a:x&&m(a)?x:null}function o(a,b,c){this.observer=a,this.target=b,this.options=c,this.transientObservedNodes=[]}if(!a.JsMutationObserver){var p,q=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))p=setTimeout;else if(window.setImmediate)p=window.setImmediate;else{var r=[],s=String(Math.random());window.addEventListener("message",function(a){if(a.data===s){var b=r;r=[],b.forEach(function(a){a()})}}),p=function(a){r.push(a),window.postMessage(s,"*")}}var t=!1,u=[],v=0;g.prototype={observe:function(a,b){if(a=c(a),!b.childList&&!b.attributes&&!b.characterData||b.attributeOldValue&&!b.attributes||b.attributeFilter&&b.attributeFilter.length&&!b.attributes||b.characterDataOldValue&&!b.characterData)throw new SyntaxError;var d=q.get(a);d||q.set(a,d=[]);for(var e,f=0;f<d.length;f++)if(d[f].observer===this){e=d[f],e.removeListeners(),e.options=b;break}e||(e=new o(this,a,b),d.push(e),this.nodes_.push(a)),e.addListeners()},disconnect:function(){this.nodes_.forEach(function(a){for(var b=q.get(a),c=0;c<b.length;c++){var d=b[c];if(d.observer===this){d.removeListeners(),b.splice(c,1);break}}},this),this.records_=[]},takeRecords:function(){var a=this.records_;return this.records_=[],a}};var w,x;o.prototype={enqueue:function(a){var c=this.observer.records_,d=c.length;if(c.length>0){var e=c[d-1],f=n(e,a);if(f)return void(c[d-1]=f)}else b(this.observer);c[d]=a},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(a){var b=this.options;b.attributes&&a.addEventListener("DOMAttrModified",this,!0),b.characterData&&a.addEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.addEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(a){var b=this.options;b.attributes&&a.removeEventListener("DOMAttrModified",this,!0),b.characterData&&a.removeEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.removeEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(a){if(a!==this.target){this.addListeners_(a),this.transientObservedNodes.push(a);var b=q.get(a);b||q.set(a,b=[]),b.push(this)}},removeTransientObservers:function(){var a=this.transientObservedNodes;this.transientObservedNodes=[],a.forEach(function(a){this.removeListeners_(a);for(var b=q.get(a),c=0;c<b.length;c++)if(b[c]===this){b.splice(c,1);break}},this)},handleEvent:function(a){switch(a.stopImmediatePropagation(),a.type){case"DOMAttrModified":var b=a.attrName,c=a.relatedNode.namespaceURI,d=a.target,e=new j("attributes",d);e.attributeName=b,e.attributeNamespace=c;var g=a.attrChange===MutationEvent.ADDITION?null:a.prevValue;f(d,function(a){if(a.attributes&&(!a.attributeFilter||!a.attributeFilter.length||a.attributeFilter.indexOf(b)!==-1||a.attributeFilter.indexOf(c)!==-1))return a.attributeOldValue?k(g):e});break;case"DOMCharacterDataModified":var d=a.target,e=j("characterData",d),g=a.prevValue;f(d,function(a){if(a.characterData)return a.characterDataOldValue?k(g):e});break;case"DOMNodeRemoved":this.addTransientObserver(a.target);case"DOMNodeInserted":var h,i,m=a.target;"DOMNodeInserted"===a.type?(h=[m],i=[]):(h=[],i=[m]);var n=m.previousSibling,o=m.nextSibling,e=j("childList",a.target.parentNode);e.addedNodes=h,e.removedNodes=i,e.previousSibling=n,e.nextSibling=o,f(a.relatedNode,function(a){if(a.childList)return e})}l()}},a.JsMutationObserver=g,a.MutationObserver||(a.MutationObserver=g,g._isPolyfilled=!0)}}(self),function(){function a(a){switch(a){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case" ":return"&nbsp;"}}function b(b){return b.replace(k,a)}var c="undefined"==typeof HTMLTemplateElement;/Trident/.test(navigator.userAgent)&&function(){var a=document.importNode;document.importNode=function(){var b=a.apply(document,arguments);if(b.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var c=document.createDocumentFragment();return c.appendChild(b),c}return b}}();var d=function(){if(!c){var a=document.createElement("template"),b=document.createElement("template");b.content.appendChild(document.createElement("div")),a.content.appendChild(b);var d=a.cloneNode(!0);return 0===d.content.childNodes.length||0===d.content.firstChild.content.childNodes.length}}(),e=function(){};if(c){var f=document.implementation.createHTMLDocument("template"),g=!0,h=document.createElement("style");h.textContent="template{display:none;}";var i=document.head;i.insertBefore(h,i.firstElementChild),e.prototype=Object.create(HTMLElement.prototype),e.decorate=function(a){if(!a.content){a.content=f.createDocumentFragment();for(var c;c=a.firstChild;)a.content.appendChild(c);if(a.cloneNode=function(a){return e.cloneNode(this,a)},g)try{Object.defineProperty(a,"innerHTML",{get:function(){for(var a="",c=this.content.firstChild;c;c=c.nextSibling)a+=c.outerHTML||b(c.data);return a},set:function(a){for(f.body.innerHTML=a,e.bootstrap(f);this.content.firstChild;)this.content.removeChild(this.content.firstChild);for(;f.body.firstChild;)this.content.appendChild(f.body.firstChild)},configurable:!0})}catch(a){g=!1}e.bootstrap(a.content)}},e.bootstrap=function(a){for(var b,c=a.querySelectorAll("template"),d=0,f=c.length;d<f&&(b=c[d]);d++)e.decorate(b)},document.addEventListener("DOMContentLoaded",function(){e.bootstrap(document)});var j=document.createElement;document.createElement=function(){"use strict";var a=j.apply(document,arguments);return"template"===a.localName&&e.decorate(a),a};var k=/[&\u00A0<>]/g}if(c||d){var l=Node.prototype.cloneNode;e.cloneNode=function(a,b){var c=l.call(a,!1);return this.decorate&&this.decorate(c),b&&(c.content.appendChild(l.call(a.content,!0)),this.fixClonedDom(c.content,a.content)),c},e.fixClonedDom=function(a,b){if(b.querySelectorAll)for(var c,d,e=b.querySelectorAll("template"),f=a.querySelectorAll("template"),g=0,h=f.length;g<h;g++)d=e[g],c=f[g],this.decorate&&this.decorate(d),c.parentNode.replaceChild(d.cloneNode(!0),c)};var m=document.importNode;Node.prototype.cloneNode=function(a){var b=l.call(this,a);return a&&e.fixClonedDom(b,this),b},document.importNode=function(a,b){if("template"===a.localName)return e.cloneNode(a,b);var c=m.call(document,a,b);return b&&e.fixClonedDom(c,a),c},d&&(HTMLTemplateElement.prototype.cloneNode=function(a){return e.cloneNode(this,a)})}c&&(window.HTMLTemplateElement=e)}(),function(a){"use strict";if(!window.performance||!window.performance.now){var b=Date.now();window.performance={now:function(){return Date.now()-b}}}if(window.requestAnimationFrame||(window.requestAnimationFrame=function(){var a=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return a?function(b){return a(function(){b(performance.now())})}:function(a){return window.setTimeout(a,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(a){clearTimeout(a)}}()),!function(){var a=document.createEvent("Event");return a.initEvent("foo",!0,!0),a.preventDefault(),a.defaultPrevented}()){var c=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(c.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var d=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||d&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(a,b){b=b||{};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,Boolean(b.bubbles),Boolean(b.cancelable),b.detail),c},window.CustomEvent.prototype=window.Event.prototype),!window.Event||d&&"function"!=typeof window.Event){var e=window.Event;window.Event=function(a,b){b=b||{};var c=document.createEvent("Event");return c.initEvent(a,Boolean(b.bubbles),Boolean(b.cancelable)),c},window.Event.prototype=e.prototype}}(window.WebComponents),window.HTMLImports=window.HTMLImports||{flags:{}},function(a){function b(a,b){b=b||n,d(function(){f(a,b)},b)}function c(a){return"complete"===a.readyState||a.readyState===q}function d(a,b){if(c(b))a&&a();else{var e=function(){"complete"!==b.readyState&&b.readyState!==q||(b.removeEventListener(r,e),d(a,b))};b.addEventListener(r,e)}}function e(a){a.target.__loaded=!0}function f(a,b){function c(){i==j&&a&&a({allImports:h,loadedImports:k,errorImports:l})}function d(a){e(a),k.push(this),i++,c()}function f(a){l.push(this),i++,c()}var h=b.querySelectorAll("link[rel=import]"),i=0,j=h.length,k=[],l=[];if(j)for(var m,n=0;n<j&&(m=h[n]);n++)g(m)?(k.push(this),i++,c()):(m.addEventListener("load",d),m.addEventListener("error",f));else c()}function g(a){return k?a.__loaded||a.import&&"loading"!==a.import.readyState:a.__importParsed}function h(a){for(var b,c=0,d=a.length;c<d&&(b=a[c]);c++)i(b)&&j(b)}function i(a){return"link"===a.localName&&"import"===a.rel}function j(a){a.import?e({target:a}):(a.addEventListener("load",e),a.addEventListener("error",e))}var k=Boolean("import"in document.createElement("link")),l=Boolean(window.ShadowDOMPolyfill),m=function(a){return l?window.ShadowDOMPolyfill.wrapIfNeeded(a):a},n=m(document),o={get:function(){return m(window.HTMLImports.currentScript||document.currentScript||("complete"!==document.readyState?document.scripts[document.scripts.length-1]:null))},configurable:!0};Object.defineProperty(document,"_currentScript",o),Object.defineProperty(n,"_currentScript",o);var p=/Trident/.test(navigator.userAgent),q=p?"complete":"interactive",r="readystatechange";k&&(new MutationObserver(function(a){for(var b,c=0,d=a.length;c<d&&(b=a[c]);c++)b.addedNodes&&h(b.addedNodes)}).observe(document.head,{childList:!0}),function(){if("loading"===document.readyState)for(var a,b=document.querySelectorAll("link[rel=import]"),c=0,d=b.length;c<d&&(a=b[c]);c++)j(a)}()),b(function(a){window.HTMLImports.ready=!0,window.HTMLImports.readyTime=(new Date).getTime();var b=n.createEvent("CustomEvent");b.initCustomEvent("HTMLImportsLoaded",!0,!0,a),n.dispatchEvent(b)}),a.IMPORT_LINK_TYPE="import",a.useNative=k,a.rootDocument=n,a.whenReady=b,a.isIE=p}(window.HTMLImports),function(a){var b=[],c=function(a){b.push(a)},d=function(){b.forEach(function(b){b(a)})};a.addModule=c,a.initializeModules=d}(window.HTMLImports),window.HTMLImports.addModule(function(a){var b={resolveUrlsInStyle:function(a,b){var c=a.ownerDocument,d=c.createElement("a");return a.textContent=this.resolveUrlsInCssText(a.textContent,b,d),a},resolveUrlsInCssText:function(a,b,c){var d=this.replaceUrls(a,c,b,/(url\()([^)]*)(\))/g)
;return d=this.replaceUrls(d,c,b,/(@import[\s]+(?!url\())([^;]*)(;)/g)},replaceUrls:function(a,b,c,d){return a.replace(d,function(a,d,e,f){var g=e.replace(/["']/g,"");return c&&(g=new URL(g,c).href),b.href=g,g=b.href,d+"'"+g+"'"+f})}};a.path=b}),window.HTMLImports.addModule(function(a){var b={async:!0,ok:function(a){return a.status>=200&&a.status<300||304===a.status||0===a.status},load:function(c,d,e){var f=new XMLHttpRequest;return(a.flags.debug||a.flags.bust)&&(c+="?"+Math.random()),f.open("GET",c,b.async),f.addEventListener("readystatechange",function(a){if(4===f.readyState){var c=null;try{var g=f.getResponseHeader("Location");g&&(c="/"===g.substr(0,1)?location.origin+g:g)}catch(a){console.error(a.message)}d.call(e,!b.ok(f)&&f,f.response||f.responseText,c)}}),f.send(),f},loadDocument:function(a,b,c){this.load(a,b,c).responseType="document"}};a.xhr=b}),window.HTMLImports.addModule(function(a){var b=a.xhr,c=a.flags,d=function(a,b){this.cache={},this.onload=a,this.oncomplete=b,this.inflight=0,this.pending={}};d.prototype={addNodes:function(a){this.inflight+=a.length;for(var b,c=0,d=a.length;c<d&&(b=a[c]);c++)this.require(b);this.checkDone()},addNode:function(a){this.inflight++,this.require(a),this.checkDone()},require:function(a){var b=a.src||a.href;a.__nodeUrl=b,this.dedupe(b,a)||this.fetch(b,a)},dedupe:function(a,b){if(this.pending[a])return this.pending[a].push(b),!0;return this.cache[a]?(this.onload(a,b,this.cache[a]),this.tail(),!0):(this.pending[a]=[b],!1)},fetch:function(a,d){if(c.load&&console.log("fetch",a,d),a)if(a.match(/^data:/)){var e=a.split(","),f=e[0],g=e[1];g=f.indexOf(";base64")>-1?atob(g):decodeURIComponent(g),setTimeout(function(){this.receive(a,d,null,g)}.bind(this),0)}else{var h=function(b,c,e){this.receive(a,d,b,c,e)}.bind(this);b.load(a,h)}else setTimeout(function(){this.receive(a,d,{error:"href must be specified"},null)}.bind(this),0)},receive:function(a,b,c,d,e){this.cache[a]=d;for(var f,g=this.pending[a],h=0,i=g.length;h<i&&(f=g[h]);h++)this.onload(a,f,d,c,e),this.tail();this.pending[a]=null},tail:function(){--this.inflight,this.checkDone()},checkDone:function(){this.inflight||this.oncomplete()}},a.Loader=d}),window.HTMLImports.addModule(function(a){var b=function(a){this.addCallback=a,this.mo=new MutationObserver(this.handler.bind(this))};b.prototype={handler:function(a){for(var b,c=0,d=a.length;c<d&&(b=a[c]);c++)"childList"===b.type&&b.addedNodes.length&&this.addedNodes(b.addedNodes)},addedNodes:function(a){this.addCallback&&this.addCallback(a);for(var b,c=0,d=a.length;c<d&&(b=a[c]);c++)b.children&&b.children.length&&this.addedNodes(b.children)},observe:function(a){this.mo.observe(a,{childList:!0,subtree:!0})}},a.Observer=b}),window.HTMLImports.addModule(function(a){function b(a){return"link"===a.localName&&a.rel===k}function c(a){var b=d(a);return"data:text/javascript;charset=utf-8,"+encodeURIComponent(b)}function d(a){return a.textContent+e(a)}function e(a){var b=a.ownerDocument;b.__importedScripts=b.__importedScripts||0;var c=a.ownerDocument.baseURI,d=b.__importedScripts?"-"+b.__importedScripts:"";return b.__importedScripts++,"\n//# sourceURL="+c+d+".js\n"}function f(a){var b=a.ownerDocument.createElement("style");return b.textContent=a.textContent,g.resolveUrlsInStyle(b),b}var g=a.path,h=a.rootDocument,i=a.flags,j=a.isIE,k=a.IMPORT_LINK_TYPE,l="link[rel="+k+"]",m={documentSelectors:l,importsSelectors:[l,"link[rel=stylesheet]:not([type])","style:not([type])","script:not([type])",'script[type="application/javascript"]','script[type="text/javascript"]'].join(","),map:{link:"parseLink",script:"parseScript",style:"parseStyle"},dynamicElements:[],parseNext:function(){var a=this.nextToParse();a&&this.parse(a)},parse:function(a){if(this.isParsed(a))return void(i.parse&&console.log("[%s] is already parsed",a.localName));var b=this[this.map[a.localName]];b&&(this.markParsing(a),b.call(this,a))},parseDynamic:function(a,b){this.dynamicElements.push(a),b||this.parseNext()},markParsing:function(a){i.parse&&console.log("parsing",a),this.parsingElement=a},markParsingComplete:function(a){a.__importParsed=!0,this.markDynamicParsingComplete(a),a.__importElement&&(a.__importElement.__importParsed=!0,this.markDynamicParsingComplete(a.__importElement)),this.parsingElement=null,i.parse&&console.log("completed",a)},markDynamicParsingComplete:function(a){var b=this.dynamicElements.indexOf(a);b>=0&&this.dynamicElements.splice(b,1)},parseImport:function(a){if(a.import=a.__doc,window.HTMLImports.__importsParsingHook&&window.HTMLImports.__importsParsingHook(a),a.import&&(a.import.__importParsed=!0),this.markParsingComplete(a),a.__resource&&!a.__error?a.dispatchEvent(new CustomEvent("load",{bubbles:!1})):a.dispatchEvent(new CustomEvent("error",{bubbles:!1})),a.__pending)for(var b;a.__pending.length;)(b=a.__pending.shift())&&b({target:a});this.parseNext()},parseLink:function(a){b(a)?this.parseImport(a):(a.href=a.href,this.parseGeneric(a))},parseStyle:function(a){var b=a;a=f(a),b.__appliedElement=a,a.__importElement=b,this.parseGeneric(a)},parseGeneric:function(a){this.trackElement(a),this.addElementToDocument(a)},rootImportForElement:function(a){for(var b=a;b.ownerDocument.__importLink;)b=b.ownerDocument.__importLink;return b},addElementToDocument:function(a){var b=this.rootImportForElement(a.__importElement||a);b.parentNode.insertBefore(a,b)},trackElement:function(a,b){var c=this,d=function(e){a.removeEventListener("load",d),a.removeEventListener("error",d),b&&b(e),c.markParsingComplete(a),c.parseNext()};if(a.addEventListener("load",d),a.addEventListener("error",d),j&&"style"===a.localName){var e=!1;if(a.textContent.indexOf("@import")==-1)e=!0;else if(a.sheet){e=!0;for(var f,g=a.sheet.cssRules,h=g?g.length:0,i=0;i<h&&(f=g[i]);i++)f.type===CSSRule.IMPORT_RULE&&(e=e&&Boolean(f.styleSheet))}e&&setTimeout(function(){a.dispatchEvent(new CustomEvent("load",{bubbles:!1}))})}},parseScript:function(b){var d=document.createElement("script");d.__importElement=b,d.src=b.src?b.src:c(b),a.currentScript=b,this.trackElement(d,function(b){d.parentNode&&d.parentNode.removeChild(d),a.currentScript=null}),this.addElementToDocument(d)},nextToParse:function(){return this._mayParse=[],!this.parsingElement&&(this.nextToParseInDoc(h)||this.nextToParseDynamic())},nextToParseInDoc:function(a,c){if(a&&this._mayParse.indexOf(a)<0){this._mayParse.push(a);for(var d,e=a.querySelectorAll(this.parseSelectorsForNode(a)),f=0,g=e.length;f<g&&(d=e[f]);f++)if(!this.isParsed(d))return this.hasResource(d)?b(d)?this.nextToParseInDoc(d.__doc,d):d:void 0}return c},nextToParseDynamic:function(){return this.dynamicElements[0]},parseSelectorsForNode:function(a){return(a.ownerDocument||a)===h?this.documentSelectors:this.importsSelectors},isParsed:function(a){return a.__importParsed},needsDynamicParsing:function(a){return this.dynamicElements.indexOf(a)>=0},hasResource:function(a){return!b(a)||void 0!==a.__doc}};a.parser=m,a.IMPORT_SELECTOR=l}),window.HTMLImports.addModule(function(a){function b(a){return c(a,g)}function c(a,b){return"link"===a.localName&&a.getAttribute("rel")===b}function d(a){return!!Object.getOwnPropertyDescriptor(a,"baseURI")}function e(a,b){var c=document.implementation.createHTMLDocument(g);c._URL=b;var e=c.createElement("base");e.setAttribute("href",b),c.baseURI||d(c)||Object.defineProperty(c,"baseURI",{value:b});var f=c.createElement("meta");return f.setAttribute("charset","utf-8"),c.head.appendChild(f),c.head.appendChild(e),c.body.innerHTML=a,window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(c),c}var f=a.flags,g=a.IMPORT_LINK_TYPE,h=a.IMPORT_SELECTOR,i=a.rootDocument,j=a.Loader,k=a.Observer,l=a.parser,m={documents:{},documentPreloadSelectors:h,importsPreloadSelectors:[h].join(","),loadNode:function(a){n.addNode(a)},loadSubtree:function(a){var b=this.marshalNodes(a);n.addNodes(b)},marshalNodes:function(a){return a.querySelectorAll(this.loadSelectorsForNode(a))},loadSelectorsForNode:function(a){return(a.ownerDocument||a)===i?this.documentPreloadSelectors:this.importsPreloadSelectors},loaded:function(a,c,d,g,h){if(f.load&&console.log("loaded",a,c),c.__resource=d,c.__error=g,b(c)){var i=this.documents[a];void 0===i&&(i=g?null:e(d,h||a),i&&(i.__importLink=c,this.bootDocument(i)),this.documents[a]=i),c.__doc=i}l.parseNext()},bootDocument:function(a){this.loadSubtree(a),this.observer.observe(a),l.parseNext()},loadedAll:function(){l.parseNext()}},n=new j(m.loaded.bind(m),m.loadedAll.bind(m));if(m.observer=new k,!document.baseURI){var o={get:function(){var a=document.querySelector("base");return a?a.href:window.location.href},configurable:!0};Object.defineProperty(document,"baseURI",o),Object.defineProperty(i,"baseURI",o)}a.importer=m,a.importLoader=n}),window.HTMLImports.addModule(function(a){var b=a.parser,c=a.importer,d={added:function(a){for(var d,e,f,g,h=0,i=a.length;h<i&&(g=a[h]);h++)d||(d=g.ownerDocument,e=b.isParsed(d)),f=this.shouldLoadNode(g),f&&c.loadNode(g),this.shouldParseNode(g)&&e&&b.parseDynamic(g,f)},shouldLoadNode:function(a){return 1===a.nodeType&&e.call(a,c.loadSelectorsForNode(a))},shouldParseNode:function(a){return 1===a.nodeType&&e.call(a,b.parseSelectorsForNode(a))}};c.observer.addCallback=d.added.bind(d);var e=HTMLElement.prototype.matches||HTMLElement.prototype.matchesSelector||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector}),function(a){function b(){window.HTMLImports.importer.bootDocument(d)}var c=a.initializeModules;a.isIE;if(!a.useNative){c();var d=a.rootDocument;"complete"===document.readyState||"interactive"===document.readyState&&!window.attachEvent?b():document.addEventListener("DOMContentLoaded",b)}}(window.HTMLImports),window.CustomElements=window.CustomElements||{flags:{}},function(a){var b=a.flags,c=[],d=function(a){c.push(a)},e=function(){c.forEach(function(b){b(a)})};a.addModule=d,a.initializeModules=e,a.hasNative=Boolean(document.registerElement),a.isIE=/Trident/.test(navigator.userAgent),a.useNative=!b.register&&a.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(a){function b(a,b){c(a,function(a){if(b(a))return!0;d(a,b)}),d(a,b)}function c(a,b,d){var e=a.firstElementChild;if(!e)for(e=a.firstChild;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.nextSibling;for(;e;)b(e,d)!==!0&&c(e,b,d),e=e.nextElementSibling;return null}function d(a,c){for(var d=a.shadowRoot;d;)b(d,c),d=d.olderShadowRoot}function e(a,b){f(a,b,[])}function f(a,b,c){if(a=window.wrap(a),!(c.indexOf(a)>=0)){c.push(a);for(var d,e=a.querySelectorAll("link[rel="+g+"]"),h=0,i=e.length;h<i&&(d=e[h]);h++)d.import&&f(d.import,b,c);b(a)}}var g=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";a.forDocumentTree=e,a.forSubtree=b}),window.CustomElements.addModule(function(a){function b(a,b){return c(a,b)||d(a,b)}function c(b,c){if(a.upgrade(b,c))return!0;c&&g(b)}function d(a,b){t(a,function(a){if(c(a,b))return!0})}function e(a){x.push(a),w||(w=!0,setTimeout(f))}function f(){w=!1;for(var a,b=x,c=0,d=b.length;c<d&&(a=b[c]);c++)a();x=[]}function g(a){v?e(function(){h(a)}):h(a)}function h(a){a.__upgraded__&&!a.__attached&&(a.__attached=!0,a.attachedCallback&&a.attachedCallback())}function i(a){j(a),t(a,function(a){j(a)})}function j(a){v?e(function(){k(a)}):k(a)}function k(a){a.__upgraded__&&a.__attached&&(a.__attached=!1,a.detachedCallback&&a.detachedCallback())}function l(a){for(var b=a,c=window.wrap(document);b;){if(b==c)return!0;b=b.parentNode||b.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&b.host}}function m(a){if(a.shadowRoot&&!a.shadowRoot.__watched){s.dom&&console.log("watching shadow-root for: ",a.localName);for(var b=a.shadowRoot;b;)p(b),b=b.olderShadowRoot}}function n(a,c){if(s.dom){var d=c[0];if(d&&"childList"===d.type&&d.addedNodes&&d.addedNodes){for(var e=d.addedNodes[0];e&&e!==document&&!e.host;)e=e.parentNode;var f=e&&(e.URL||e._URL||e.host&&e.host.localName)||"";f=f.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",c.length,f||"")}var g=l(a);c.forEach(function(a){"childList"===a.type&&(y(a.addedNodes,function(a){a.localName&&b(a,g)}),y(a.removedNodes,function(a){a.localName&&i(a)}))}),s.dom&&console.groupEnd()}function o(a){for(a=window.wrap(a),a||(a=window.wrap(document));a.parentNode;)a=a.parentNode;var b=a.__observer;b&&(n(a,b.takeRecords()),f())}function p(a){if(!a.__observer){var b=new MutationObserver(n.bind(this,a));b.observe(a,{childList:!0,subtree:!0}),a.__observer=b}}function q(a){a=window.wrap(a),s.dom&&console.group("upgradeDocument: ",a.baseURI.split("/").pop()),b(a,a===window.wrap(document)),p(a),s.dom&&console.groupEnd()}function r(a){u(a,q)}var s=a.flags,t=a.forSubtree,u=a.forDocumentTree,v=window.MutationObserver._isPolyfilled&&s["throttle-attached"];a.hasPolyfillMutations=v,a.hasThrottledAttached=v;var w=!1,x=[],y=Array.prototype.forEach.call.bind(Array.prototype.forEach),z=Element.prototype.createShadowRoot;z&&(Element.prototype.createShadowRoot=function(){var a=z.call(this);return window.CustomElements.watchShadow(this),a}),a.watchShadow=m,a.upgradeDocumentTree=r,a.upgradeDocument=q,a.upgradeSubtree=d,a.upgradeAll=b,a.attached=g,a.takeRecords=o}),window.CustomElements.addModule(function(a){function b(b,d){if("template"===b.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(b),!b.__upgraded__&&b.nodeType===Node.ELEMENT_NODE){var e=b.getAttribute("is"),f=a.getRegisteredDefinition(b.localName)||a.getRegisteredDefinition(e);if(f&&(e&&f.tag==b.localName||!e&&!f.extends))return c(b,f,d)}}function c(b,c,e){return g.upgrade&&console.group("upgrade:",b.localName),c.is&&b.setAttribute("is",c.is),d(b,c),b.__upgraded__=!0,f(b),e&&a.attached(b),a.upgradeSubtree(b,e),g.upgrade&&console.groupEnd(),b}function d(a,b){Object.__proto__?a.__proto__=b.prototype:(e(a,b.prototype,b.native),a.__proto__=b.prototype)}function e(a,b,c){for(var d={},e=b;e!==c&&e!==HTMLElement.prototype;){for(var f,g=Object.getOwnPropertyNames(e),h=0;f=g[h];h++)d[f]||(Object.defineProperty(a,f,Object.getOwnPropertyDescriptor(e,f)),d[f]=1);e=Object.getPrototypeOf(e)}}function f(a){a.createdCallback&&a.createdCallback()}var g=a.flags;a.upgrade=b,a.upgradeWithDefinition=c,a.implementPrototype=d}),window.CustomElements.addModule(function(a){function b(b,d){var i=d||{};if(!b)throw new Error("document.registerElement: first argument `name` must not be empty");if(b.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(b)+"'.");if(e(b))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(b)+"'. The type name is invalid.");if(j(b))throw new Error("DuplicateDefinitionError: a type with name '"+String(b)+"' is already registered");return i.prototype||(i.prototype=Object.create(HTMLElement.prototype)),i.__name=b.toLowerCase(),i.extends&&(i.extends=i.extends.toLowerCase()),i.lifecycle=i.lifecycle||{},i.ancestry=f(i.extends),g(i),h(i),c(i.prototype),k(i.__name,i),i.ctor=l(i),i.ctor.prototype=i.prototype,i.prototype.constructor=i.ctor,a.ready&&q(document),i.ctor}function c(a){if(!a.setAttribute._polyfilled){var b=a.setAttribute;a.setAttribute=function(a,c){d.call(this,a,c,b)};var c=a.removeAttribute;a.removeAttribute=function(a){d.call(this,a,null,c)},a.setAttribute._polyfilled=!0}}function d(a,b,c){a=a.toLowerCase();var d=this.getAttribute(a);c.apply(this,arguments);var e=this.getAttribute(a);this.attributeChangedCallback&&e!==d&&this.attributeChangedCallback(a,d,e)}function e(a){for(var b=0;b<v.length;b++)if(a===v[b])return!0}function f(a){var b=j(a);return b?f(b.extends).concat([b]):[]}function g(a){for(var b,c=a.extends,d=0;b=a.ancestry[d];d++)c=b.is&&b.tag;a.tag=c||a.__name,c&&(a.is=a.__name)}function h(a){if(!Object.__proto__){var b=HTMLElement.prototype;if(a.is){var c=document.createElement(a.tag);b=Object.getPrototypeOf(c)}for(var d,e=a.prototype,f=!1;e;)e==b&&(f=!0),d=Object.getPrototypeOf(e),d&&(e.__proto__=d),e=d;f||console.warn(a.tag+" prototype not found in prototype chain for "+a.is),a.native=b}}function i(a){return s(y(a.tag),a)}function j(a){if(a)return w[a.toLowerCase()]}function k(a,b){w[a]=b}function l(a){return function(){return i(a)}}function m(a,b,c){return a===x?n(b,c):z(a,b)}function n(a,b){a&&(a=a.toLowerCase()),b&&(b=b.toLowerCase());var c=j(b||a);if(c){if(a==c.tag&&b==c.is)return new c.ctor;if(!b&&!c.is)return new c.ctor}var d;return b?(d=n(a),d.setAttribute("is",b),d):(d=y(a),a.indexOf("-")>=0&&t(d,HTMLElement),d)}function o(a,b){var c=a[b];a[b]=function(){var a=c.apply(this,arguments);return r(a),a}}var p,q=(a.isIE,a.upgradeDocumentTree),r=a.upgradeAll,s=a.upgradeWithDefinition,t=a.implementPrototype,u=a.useNative,v=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],w={},x="http://www.w3.org/1999/xhtml",y=document.createElement.bind(document),z=document.createElementNS.bind(document);p=Object.__proto__||u?function(a,b){return a instanceof b}:function(a,b){if(a instanceof b)return!0;for(var c=a;c;){if(c===b.prototype)return!0;c=c.__proto__}return!1},o(Node.prototype,"cloneNode"),o(document,"importNode"),document.registerElement=b,document.createElement=n,document.createElementNS=m,a.registry=w,a.instanceof=p,a.reservedTagList=v,a.getRegisteredDefinition=j,document.register=document.registerElement}),function(a){function b(){f(window.wrap(document)),window.CustomElements.ready=!0,(window.requestAnimationFrame||function(a){setTimeout(a,16)})(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var c=a.useNative,d=a.initializeModules;a.isIE;if(c){var e=function(){};a.watchShadow=e,a.upgrade=e,a.upgradeAll=e,a.upgradeDocumentTree=e,a.upgradeSubtree=e,a.takeRecords=e,a.instanceof=function(a,b){return a instanceof b}}else d();var f=a.upgradeDocumentTree,g=a.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(a){return a}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(a){a.import&&g(wrap(a.import))}),"complete"===document.readyState||a.flags.eager)b();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var h=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(h,b)}else b()}(window.CustomElements),function(a){var b=document.createElement("style");b.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var c=document.querySelector("head");c.insertBefore(b,c.firstChild)}(window.WebComponents)},{}]},{},[41])(41)});
